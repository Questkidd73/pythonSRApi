2025-07-28 09:57:41,324 - financial_sync - INFO - Starting financial sync script
2025-07-28 09:57:41,335 - financial_sync - ERROR - Missing default_nxt_fund_id in configuration
2025-07-28 09:59:44,925 - financial_sync - INFO - Starting financial sync script
2025-07-28 09:59:44,933 - financial_sync - ERROR - Missing default_nxt_fund_id in configuration
2025-07-28 10:01:15,555 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:01:15,560 - financial_sync - ERROR - Error running financial sync: __init__() got an unexpected keyword argument 'mapping_file'
Traceback (most recent call last):
  File "/Users/ssheckler/Desktop/event_sync_service/run_financial_sync.py", line 129, in main
    sync_service = FinancialSyncService(config)
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 41, in __init__
    self.mapping_service = MappingService(
TypeError: __init__() got an unexpected keyword argument 'mapping_file'
2025-07-28 10:03:02,477 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:03:02,481 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:03:02,482 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:03:02,482 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:03:02,483 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:03:02,483 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:03:02,483 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:03:02,484 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:03:02,484 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:03:02,485 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:03:02,485 - ServiceReefTokenService - INFO - ServiceReef token expired
2025-07-28 10:03:02,485 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 10:03:02,485 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 10:03:02,856 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:03:02,856 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 10:03:03,298 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-None exists
2025-07-28 10:03:03,298 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:03:03,299 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:03:03,300 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 2793 seconds
2025-07-28 10:03:06,566 - FinancialSyncService - INFO - Payment None already processed, skipping
2025-07-28 10:03:06,566 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-None exists
2025-07-28 10:03:06,566 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:03:06,566 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 2790 seconds
2025-07-28 10:03:08,490 - FinancialSyncService - INFO - Payment None already processed, skipping
2025-07-28 10:03:08,491 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:03:08,491 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 0, 'skipped': 2, 'successful': 0, 'failed': 0, 'errors': []}
2025-07-28 10:03:08,491 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 0, 'skipped': 2, 'successful': 0, 'failed': 0, 'errors': []}
2025-07-28 10:05:14,214 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:05:14,218 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:05:14,219 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:05:14,219 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:05:14,220 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:05:14,220 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:05:14,220 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:05:14,220 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:05:14,221 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:05:14,221 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:05:14,222 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753708981.855089, Expires in: 3600, Time until expiry: 1067 seconds
2025-07-28 10:05:14,566 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 10:05:14,567 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:05:14,567 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-None exists
2025-07-28 10:05:14,567 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:05:14,568 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:05:14,568 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 2662 seconds
2025-07-28 10:05:18,174 - FinancialSyncService - INFO - Payment None already processed, skipping
2025-07-28 10:05:18,174 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-None exists
2025-07-28 10:05:18,174 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:05:18,174 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 2658 seconds
2025-07-28 10:05:21,575 - FinancialSyncService - INFO - Payment None already processed, skipping
2025-07-28 10:05:21,576 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:05:21,576 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 0, 'skipped': 2, 'successful': 0, 'failed': 0, 'errors': []}
2025-07-28 10:05:21,576 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 0, 'skipped': 2, 'successful': 0, 'failed': 0, 'errors': []}
2025-07-28 10:06:45,494 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:06:45,499 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:06:45,499 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:06:45,500 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:06:45,500 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:06:45,501 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:06:45,501 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:06:45,501 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:06:45,501 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:06:45,502 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:06:45,502 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753708981.855089, Expires in: 3600, Time until expiry: 976 seconds
2025-07-28 10:06:45,844 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 10:06:45,844 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:06:45,844 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 10:06:45,844 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:06:45,845 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:06:45,845 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 2570 seconds
2025-07-28 10:06:48,286 - FinancialSyncService - INFO - Payment 663085 already processed, skipping
2025-07-28 10:06:48,287 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 10:06:48,287 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:06:48,287 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 2568 seconds
2025-07-28 10:06:51,519 - FinancialSyncService - INFO - Payment 668963 already processed, skipping
2025-07-28 10:06:51,520 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:06:51,520 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 0, 'skipped': 2, 'successful': 0, 'failed': 0, 'errors': []}
2025-07-28 10:06:51,520 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 0, 'skipped': 2, 'successful': 0, 'failed': 0, 'errors': []}
2025-07-28 10:21:19,803 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:21:19,809 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:21:19,809 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:21:19,810 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:21:19,810 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:21:19,811 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:21:19,811 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:21:19,811 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:21:19,811 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:21:19,812 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:21:19,812 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753708981.855089, Expires in: 3600, Time until expiry: 102 seconds
2025-07-28 10:21:19,812 - ServiceReefTokenService - INFO - ServiceReef token expires soon, refreshing
2025-07-28 10:21:19,812 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 10:21:19,813 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 10:21:20,296 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:21:20,296 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 10:21:20,590 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 10:21:20,590 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:21:20,590 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 10:21:20,590 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-663085'}
2025-07-28 10:21:20,592 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:21:20,592 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 1696 seconds
2025-07-28 10:21:23,237 - NXTGiftClient - INFO - Received non-list gift results
2025-07-28 10:21:23,237 - NXTGiftClient - WARNING - Unexpected response type: <class 'dict'> when searching for reference SR-Payment-663085
2025-07-28 10:21:23,238 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 10:21:23,238 - FinancialSyncService - ERROR - Payment None missing required fields
2025-07-28 10:21:23,239 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 10:21:23,239 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-668963'}
2025-07-28 10:21:23,239 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 1693 seconds
2025-07-28 10:21:25,602 - NXTGiftClient - INFO - Received non-list gift results
2025-07-28 10:21:25,603 - NXTGiftClient - WARNING - Unexpected response type: <class 'dict'> when searching for reference SR-Payment-668963
2025-07-28 10:21:25,604 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 10:21:25,604 - FinancialSyncService - ERROR - Payment None missing required fields
2025-07-28 10:21:25,604 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:21:25,604 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 10:21:25,605 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 10:21:25,605 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 10:24:48,802 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:24:48,807 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:24:48,808 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:24:48,808 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:24:48,809 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:24:48,809 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:24:48,809 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:24:48,810 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:24:48,810 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:24:48,811 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:24:48,811 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753710079.293201, Expires in: 3600, Time until expiry: 990 seconds
2025-07-28 10:24:49,300 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 10:24:49,300 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:24:49,301 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 10:24:49,301 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-663085'}
2025-07-28 10:24:49,305 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:24:49,306 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 1487 seconds
2025-07-28 10:24:51,970 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:24:51,970 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:24:51,970 - NXTGiftClient - INFO - Found 500 gifts with reference SR-Payment-663085
2025-07-28 10:24:51,971 - NXTGiftClient - INFO - Gift 1: ID=51455, Reference=None
2025-07-28 10:24:51,971 - NXTGiftClient - INFO - Gift 2: ID=3718, Reference=None
2025-07-28 10:24:51,971 - NXTGiftClient - INFO - Gift 3: ID=8407, Reference=None
2025-07-28 10:24:51,971 - NXTGiftClient - INFO - Gift 4: ID=13660, Reference=None
2025-07-28 10:24:51,971 - NXTGiftClient - INFO - Gift 5: ID=17923, Reference=None
2025-07-28 10:24:51,971 - NXTGiftClient - INFO - Gift 6: ID=23035, Reference=None
2025-07-28 10:24:51,971 - NXTGiftClient - INFO - Gift 7: ID=28070, Reference=None
2025-07-28 10:24:51,971 - NXTGiftClient - INFO - Gift 8: ID=33249, Reference=None
2025-07-28 10:24:51,972 - NXTGiftClient - INFO - Gift 9: ID=39260, Reference=None
2025-07-28 10:24:51,972 - NXTGiftClient - INFO - Gift 10: ID=44589, Reference=None
2025-07-28 10:24:51,972 - NXTGiftClient - INFO - Gift 11: ID=50311, Reference=None
2025-07-28 10:24:51,972 - NXTGiftClient - INFO - Gift 12: ID=55590, Reference=None
2025-07-28 10:24:51,972 - NXTGiftClient - INFO - Gift 13: ID=61010, Reference=None
2025-07-28 10:24:51,972 - NXTGiftClient - INFO - Gift 14: ID=66457, Reference=None
2025-07-28 10:24:51,972 - NXTGiftClient - INFO - Gift 15: ID=72028, Reference=None
2025-07-28 10:24:51,972 - NXTGiftClient - INFO - Gift 16: ID=77556, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 17: ID=83162, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 18: ID=89194, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 19: ID=94699, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 20: ID=100256, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 21: ID=106058, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 22: ID=111943, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 23: ID=118018, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 24: ID=123510, Reference=None
2025-07-28 10:24:51,973 - NXTGiftClient - INFO - Gift 25: ID=128980, Reference=None
2025-07-28 10:24:51,974 - NXTGiftClient - INFO - Gift 26: ID=134361, Reference=None
2025-07-28 10:24:51,974 - NXTGiftClient - INFO - Gift 27: ID=139914, Reference=None
2025-07-28 10:24:51,974 - NXTGiftClient - INFO - Gift 28: ID=145954, Reference=None
2025-07-28 10:24:51,974 - NXTGiftClient - INFO - Gift 29: ID=150884, Reference=None
2025-07-28 10:24:51,974 - NXTGiftClient - INFO - Gift 30: ID=156129, Reference=None
2025-07-28 10:24:51,974 - NXTGiftClient - INFO - Gift 31: ID=161642, Reference=None
2025-07-28 10:24:51,974 - NXTGiftClient - INFO - Gift 32: ID=167012, Reference=None
2025-07-28 10:24:51,974 - NXTGiftClient - INFO - Gift 33: ID=173112, Reference=None
2025-07-28 10:24:51,975 - NXTGiftClient - INFO - Gift 34: ID=178208, Reference=None
2025-07-28 10:24:51,975 - NXTGiftClient - INFO - Gift 35: ID=183304, Reference=None
2025-07-28 10:24:51,975 - NXTGiftClient - INFO - Gift 36: ID=188163, Reference=None
2025-07-28 10:24:51,975 - NXTGiftClient - INFO - Gift 37: ID=192835, Reference=None
2025-07-28 10:24:51,975 - NXTGiftClient - INFO - Gift 38: ID=197449, Reference=None
2025-07-28 10:24:51,975 - NXTGiftClient - INFO - Gift 39: ID=202432, Reference=None
2025-07-28 10:24:51,975 - NXTGiftClient - INFO - Gift 40: ID=206747, Reference=None
2025-07-28 10:24:51,975 - NXTGiftClient - INFO - Gift 41: ID=211410, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 42: ID=216363, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 43: ID=220895, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 44: ID=225433, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 45: ID=230769, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 46: ID=235460, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 47: ID=240240, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 48: ID=244745, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 49: ID=248644, Reference=None
2025-07-28 10:24:51,976 - NXTGiftClient - INFO - Gift 50: ID=253222, Reference=None
2025-07-28 10:24:51,977 - NXTGiftClient - INFO - Gift 51: ID=257072, Reference=None
2025-07-28 10:24:51,977 - NXTGiftClient - INFO - Gift 52: ID=261024, Reference=None
2025-07-28 10:24:51,977 - NXTGiftClient - INFO - Gift 53: ID=264885, Reference=None
2025-07-28 10:24:51,977 - NXTGiftClient - INFO - Gift 54: ID=269417, Reference=None
2025-07-28 10:24:51,981 - NXTGiftClient - INFO - Gift 55: ID=273410, Reference=None
2025-07-28 10:24:51,981 - NXTGiftClient - INFO - Gift 56: ID=277286, Reference=None
2025-07-28 10:24:51,981 - NXTGiftClient - INFO - Gift 57: ID=281425, Reference=None
2025-07-28 10:24:51,981 - NXTGiftClient - INFO - Gift 58: ID=285807, Reference=None
2025-07-28 10:24:51,982 - NXTGiftClient - INFO - Gift 59: ID=289632, Reference=None
2025-07-28 10:24:51,982 - NXTGiftClient - INFO - Gift 60: ID=293679, Reference=None
2025-07-28 10:24:51,982 - NXTGiftClient - INFO - Gift 61: ID=297325, Reference=None
2025-07-28 10:24:51,982 - NXTGiftClient - INFO - Gift 62: ID=300492, Reference=None
2025-07-28 10:24:51,982 - NXTGiftClient - INFO - Gift 63: ID=304072, Reference=None
2025-07-28 10:24:51,982 - NXTGiftClient - INFO - Gift 64: ID=307579, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 65: ID=311227, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 66: ID=315287, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 67: ID=318778, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 68: ID=322304, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 69: ID=327133, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 70: ID=330500, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 71: ID=334341, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 72: ID=337751, Reference=None
2025-07-28 10:24:51,983 - NXTGiftClient - INFO - Gift 73: ID=340929, Reference=None
2025-07-28 10:24:51,984 - NXTGiftClient - INFO - Gift 74: ID=344308, Reference=None
2025-07-28 10:24:51,984 - NXTGiftClient - INFO - Gift 75: ID=347388, Reference=None
2025-07-28 10:24:51,984 - NXTGiftClient - INFO - Gift 76: ID=350463, Reference=None
2025-07-28 10:24:51,984 - NXTGiftClient - INFO - Gift 77: ID=353747, Reference=None
2025-07-28 10:24:51,984 - NXTGiftClient - INFO - Gift 78: ID=356982, Reference=None
2025-07-28 10:24:51,984 - NXTGiftClient - INFO - Gift 79: ID=360068, Reference=None
2025-07-28 10:24:51,984 - NXTGiftClient - INFO - Gift 80: ID=363093, Reference=None
2025-07-28 10:24:51,985 - NXTGiftClient - INFO - Gift 81: ID=366856, Reference=None
2025-07-28 10:24:51,985 - NXTGiftClient - INFO - Gift 82: ID=369952, Reference=None
2025-07-28 10:24:51,985 - NXTGiftClient - INFO - Gift 83: ID=373158, Reference=None
2025-07-28 10:24:51,985 - NXTGiftClient - INFO - Gift 84: ID=376060, Reference=None
2025-07-28 10:24:51,985 - NXTGiftClient - INFO - Gift 85: ID=379031, Reference=None
2025-07-28 10:24:51,986 - NXTGiftClient - INFO - Gift 86: ID=381962, Reference=None
2025-07-28 10:24:51,986 - NXTGiftClient - INFO - Gift 87: ID=384941, Reference=None
2025-07-28 10:24:51,986 - NXTGiftClient - INFO - Gift 88: ID=387980, Reference=None
2025-07-28 10:24:51,986 - NXTGiftClient - INFO - Gift 89: ID=390800, Reference=None
2025-07-28 10:24:51,986 - NXTGiftClient - INFO - Gift 90: ID=394186, Reference=None
2025-07-28 10:24:51,987 - NXTGiftClient - INFO - Gift 91: ID=397211, Reference=None
2025-07-28 10:24:51,987 - NXTGiftClient - INFO - Gift 92: ID=400080, Reference=None
2025-07-28 10:24:51,987 - NXTGiftClient - INFO - Gift 93: ID=403387, Reference=None
2025-07-28 10:24:51,987 - NXTGiftClient - INFO - Gift 94: ID=406389, Reference=None
2025-07-28 10:24:51,987 - NXTGiftClient - INFO - Gift 95: ID=409316, Reference=None
2025-07-28 10:24:51,987 - NXTGiftClient - INFO - Gift 96: ID=411948, Reference=None
2025-07-28 10:24:51,988 - NXTGiftClient - INFO - Gift 97: ID=414698, Reference=None
2025-07-28 10:24:51,988 - NXTGiftClient - INFO - Gift 98: ID=417363, Reference=None
2025-07-28 10:24:51,988 - NXTGiftClient - INFO - Gift 99: ID=419940, Reference=None
2025-07-28 10:24:51,988 - NXTGiftClient - INFO - Gift 100: ID=422544, Reference=None
2025-07-28 10:24:51,988 - NXTGiftClient - INFO - Gift 101: ID=425077, Reference=None
2025-07-28 10:24:51,988 - NXTGiftClient - INFO - Gift 102: ID=427744, Reference=None
2025-07-28 10:24:51,989 - NXTGiftClient - INFO - Gift 103: ID=430120, Reference=None
2025-07-28 10:24:51,989 - NXTGiftClient - INFO - Gift 104: ID=432219, Reference=None
2025-07-28 10:24:51,989 - NXTGiftClient - INFO - Gift 105: ID=434861, Reference=None
2025-07-28 10:24:51,989 - NXTGiftClient - INFO - Gift 106: ID=437013, Reference=None
2025-07-28 10:24:51,989 - NXTGiftClient - INFO - Gift 107: ID=439108, Reference=None
2025-07-28 10:24:51,989 - NXTGiftClient - INFO - Gift 108: ID=441266, Reference=None
2025-07-28 10:24:51,990 - NXTGiftClient - INFO - Gift 109: ID=443263, Reference=None
2025-07-28 10:24:51,990 - NXTGiftClient - INFO - Gift 110: ID=445435, Reference=None
2025-07-28 10:24:51,990 - NXTGiftClient - INFO - Gift 111: ID=447291, Reference=None
2025-07-28 10:24:51,990 - NXTGiftClient - INFO - Gift 112: ID=448988, Reference=None
2025-07-28 10:24:51,990 - NXTGiftClient - INFO - Gift 113: ID=450790, Reference=None
2025-07-28 10:24:51,990 - NXTGiftClient - INFO - Gift 114: ID=452710, Reference=None
2025-07-28 10:24:51,991 - NXTGiftClient - INFO - Gift 115: ID=454424, Reference=None
2025-07-28 10:24:51,991 - NXTGiftClient - INFO - Gift 116: ID=455891, Reference=None
2025-07-28 10:24:51,991 - NXTGiftClient - INFO - Gift 117: ID=458027, Reference=None
2025-07-28 10:24:51,991 - NXTGiftClient - INFO - Gift 118: ID=459890, Reference=None
2025-07-28 10:24:51,991 - NXTGiftClient - INFO - Gift 119: ID=461427, Reference=None
2025-07-28 10:24:51,991 - NXTGiftClient - INFO - Gift 120: ID=463114, Reference=None
2025-07-28 10:24:51,991 - NXTGiftClient - INFO - Gift 121: ID=522655, Reference=None
2025-07-28 10:24:51,991 - NXTGiftClient - INFO - Gift 122: ID=527618, Reference=None
2025-07-28 10:24:51,992 - NXTGiftClient - INFO - Gift 123: ID=532323, Reference=None
2025-07-28 10:24:51,992 - NXTGiftClient - INFO - Gift 124: ID=537499, Reference=None
2025-07-28 10:24:51,992 - NXTGiftClient - INFO - Gift 125: ID=542385, Reference=None
2025-07-28 10:24:51,992 - NXTGiftClient - INFO - Gift 126: ID=547587, Reference=None
2025-07-28 10:24:51,992 - NXTGiftClient - INFO - Gift 127: ID=552212, Reference=None
2025-07-28 10:24:51,992 - NXTGiftClient - INFO - Gift 128: ID=557317, Reference=None
2025-07-28 10:24:51,992 - NXTGiftClient - INFO - Gift 129: ID=562284, Reference=None
2025-07-28 10:24:51,993 - NXTGiftClient - INFO - Gift 130: ID=566725, Reference=None
2025-07-28 10:24:51,993 - NXTGiftClient - INFO - Gift 131: ID=570900, Reference=None
2025-07-28 10:24:51,993 - NXTGiftClient - INFO - Gift 132: ID=576214, Reference=None
2025-07-28 10:24:51,993 - NXTGiftClient - INFO - Gift 133: ID=579387, Reference=None
2025-07-28 10:24:51,994 - NXTGiftClient - INFO - Gift 134: ID=583774, Reference=None
2025-07-28 10:24:51,994 - NXTGiftClient - INFO - Gift 135: ID=587380, Reference=None
2025-07-28 10:24:51,994 - NXTGiftClient - INFO - Gift 136: ID=592256, Reference=None
2025-07-28 10:24:51,994 - NXTGiftClient - INFO - Gift 137: ID=598336, Reference=None
2025-07-28 10:24:51,995 - NXTGiftClient - INFO - Gift 138: ID=412398, Reference=None
2025-07-28 10:24:51,995 - NXTGiftClient - INFO - Gift 139: ID=433055, Reference=None
2025-07-28 10:24:51,996 - NXTGiftClient - INFO - Gift 140: ID=440004, Reference=None
2025-07-28 10:24:51,996 - NXTGiftClient - INFO - Gift 141: ID=410614, Reference=None
2025-07-28 10:24:51,997 - NXTGiftClient - INFO - Gift 142: ID=443976, Reference=None
2025-07-28 10:24:51,997 - NXTGiftClient - INFO - Gift 143: ID=282504, Reference=None
2025-07-28 10:24:51,997 - NXTGiftClient - INFO - Gift 144: ID=416145, Reference=None
2025-07-28 10:24:51,997 - NXTGiftClient - INFO - Gift 145: ID=484187, Reference=None
2025-07-28 10:24:51,998 - NXTGiftClient - INFO - Gift 146: ID=73741, Reference=None
2025-07-28 10:24:51,998 - NXTGiftClient - INFO - Gift 147: ID=73742, Reference=None
2025-07-28 10:24:51,998 - NXTGiftClient - INFO - Gift 148: ID=317860, Reference=None
2025-07-28 10:24:51,998 - NXTGiftClient - INFO - Gift 149: ID=241486, Reference=None
2025-07-28 10:24:51,998 - NXTGiftClient - INFO - Gift 150: ID=453005, Reference=None
2025-07-28 10:24:51,999 - NXTGiftClient - INFO - Gift 151: ID=541694, Reference=None
2025-07-28 10:24:51,999 - NXTGiftClient - INFO - Gift 152: ID=556396, Reference=None
2025-07-28 10:24:51,999 - NXTGiftClient - INFO - Gift 153: ID=556637, Reference=None
2025-07-28 10:24:51,999 - NXTGiftClient - INFO - Gift 154: ID=561463, Reference=None
2025-07-28 10:24:51,999 - NXTGiftClient - INFO - Gift 155: ID=566102, Reference=None
2025-07-28 10:24:51,999 - NXTGiftClient - INFO - Gift 156: ID=570541, Reference=None
2025-07-28 10:24:51,999 - NXTGiftClient - INFO - Gift 157: ID=574631, Reference=None
2025-07-28 10:24:52,000 - NXTGiftClient - INFO - Gift 158: ID=578635, Reference=None
2025-07-28 10:24:52,000 - NXTGiftClient - INFO - Gift 159: ID=582745, Reference=None
2025-07-28 10:24:52,000 - NXTGiftClient - INFO - Gift 160: ID=586314, Reference=None
2025-07-28 10:24:52,000 - NXTGiftClient - INFO - Gift 161: ID=591427, Reference=None
2025-07-28 10:24:52,000 - NXTGiftClient - INFO - Gift 162: ID=595924, Reference=None
2025-07-28 10:24:52,000 - NXTGiftClient - INFO - Gift 163: ID=597495, Reference=None
2025-07-28 10:24:52,001 - NXTGiftClient - INFO - Gift 164: ID=600213, Reference=None
2025-07-28 10:24:52,001 - NXTGiftClient - INFO - Gift 165: ID=604279, Reference=None
2025-07-28 10:24:52,001 - NXTGiftClient - INFO - Gift 166: ID=608516, Reference=None
2025-07-28 10:24:52,001 - NXTGiftClient - INFO - Gift 167: ID=612323, Reference=None
2025-07-28 10:24:52,001 - NXTGiftClient - INFO - Gift 168: ID=616142, Reference=None
2025-07-28 10:24:52,001 - NXTGiftClient - INFO - Gift 169: ID=619918, Reference=None
2025-07-28 10:24:52,001 - NXTGiftClient - INFO - Gift 170: ID=623538, Reference=None
2025-07-28 10:24:52,001 - NXTGiftClient - INFO - Gift 171: ID=627234, Reference=None
2025-07-28 10:24:52,002 - NXTGiftClient - INFO - Gift 172: ID=631177, Reference=None
2025-07-28 10:24:52,002 - NXTGiftClient - INFO - Gift 173: ID=634803, Reference=None
2025-07-28 10:24:52,002 - NXTGiftClient - INFO - Gift 174: ID=638834, Reference=None
2025-07-28 10:24:52,002 - NXTGiftClient - INFO - Gift 175: ID=642928, Reference=None
2025-07-28 10:24:52,002 - NXTGiftClient - INFO - Gift 176: ID=647196, Reference=None
2025-07-28 10:24:52,003 - NXTGiftClient - INFO - Gift 177: ID=650944, Reference=None
2025-07-28 10:24:52,003 - NXTGiftClient - INFO - Gift 178: ID=654638, Reference=None
2025-07-28 10:24:52,003 - NXTGiftClient - INFO - Gift 179: ID=658102, Reference=None
2025-07-28 10:24:52,003 - NXTGiftClient - INFO - Gift 180: ID=661585, Reference=None
2025-07-28 10:24:52,003 - NXTGiftClient - INFO - Gift 181: ID=665083, Reference=None
2025-07-28 10:24:52,004 - NXTGiftClient - INFO - Gift 182: ID=668684, Reference=None
2025-07-28 10:24:52,004 - NXTGiftClient - INFO - Gift 183: ID=464965, Reference=None
2025-07-28 10:24:52,004 - NXTGiftClient - INFO - Gift 184: ID=383850, Reference=None
2025-07-28 10:24:52,004 - NXTGiftClient - INFO - Gift 185: ID=292750, Reference=None
2025-07-28 10:24:52,004 - NXTGiftClient - INFO - Gift 186: ID=166171, Reference=None
2025-07-28 10:24:52,004 - NXTGiftClient - INFO - Gift 187: ID=171030, Reference=None
2025-07-28 10:24:52,004 - NXTGiftClient - INFO - Gift 188: ID=182910, Reference=None
2025-07-28 10:24:52,005 - NXTGiftClient - INFO - Gift 189: ID=55049, Reference=None
2025-07-28 10:24:52,005 - NXTGiftClient - INFO - Gift 190: ID=133978, Reference=None
2025-07-28 10:24:52,005 - NXTGiftClient - INFO - Gift 191: ID=191320, Reference=None
2025-07-28 10:24:52,005 - NXTGiftClient - INFO - Gift 192: ID=249393, Reference=None
2025-07-28 10:24:52,005 - NXTGiftClient - INFO - Gift 193: ID=296111, Reference=None
2025-07-28 10:24:52,005 - NXTGiftClient - INFO - Gift 194: ID=299741, Reference=None
2025-07-28 10:24:52,005 - NXTGiftClient - INFO - Gift 195: ID=303393, Reference=None
2025-07-28 10:24:52,006 - NXTGiftClient - INFO - Gift 196: ID=306964, Reference=None
2025-07-28 10:24:52,006 - NXTGiftClient - INFO - Gift 197: ID=307499, Reference=None
2025-07-28 10:24:52,006 - NXTGiftClient - INFO - Gift 198: ID=310597, Reference=None
2025-07-28 10:24:52,006 - NXTGiftClient - INFO - Gift 199: ID=314538, Reference=None
2025-07-28 10:24:52,006 - NXTGiftClient - INFO - Gift 200: ID=318161, Reference=None
2025-07-28 10:24:52,006 - NXTGiftClient - INFO - Gift 201: ID=321711, Reference=None
2025-07-28 10:24:52,006 - NXTGiftClient - INFO - Gift 202: ID=323877, Reference=None
2025-07-28 10:24:52,006 - NXTGiftClient - INFO - Gift 203: ID=325822, Reference=None
2025-07-28 10:24:52,007 - NXTGiftClient - INFO - Gift 204: ID=329295, Reference=None
2025-07-28 10:24:52,007 - NXTGiftClient - INFO - Gift 205: ID=333157, Reference=None
2025-07-28 10:24:52,007 - NXTGiftClient - INFO - Gift 206: ID=336586, Reference=None
2025-07-28 10:24:52,007 - NXTGiftClient - INFO - Gift 207: ID=339774, Reference=None
2025-07-28 10:24:52,007 - NXTGiftClient - INFO - Gift 208: ID=343164, Reference=None
2025-07-28 10:24:52,007 - NXTGiftClient - INFO - Gift 209: ID=346156, Reference=None
2025-07-28 10:24:52,007 - NXTGiftClient - INFO - Gift 210: ID=349260, Reference=None
2025-07-28 10:24:52,007 - NXTGiftClient - INFO - Gift 211: ID=352623, Reference=None
2025-07-28 10:24:52,008 - NXTGiftClient - INFO - Gift 212: ID=355805, Reference=None
2025-07-28 10:24:52,008 - NXTGiftClient - INFO - Gift 213: ID=358831, Reference=None
2025-07-28 10:24:52,008 - NXTGiftClient - INFO - Gift 214: ID=362008, Reference=None
2025-07-28 10:24:52,008 - NXTGiftClient - INFO - Gift 215: ID=365598, Reference=None
2025-07-28 10:24:52,008 - NXTGiftClient - INFO - Gift 216: ID=368715, Reference=None
2025-07-28 10:24:52,008 - NXTGiftClient - INFO - Gift 217: ID=371933, Reference=None
2025-07-28 10:24:52,008 - NXTGiftClient - INFO - Gift 218: ID=374876, Reference=None
2025-07-28 10:24:52,009 - NXTGiftClient - INFO - Gift 219: ID=377923, Reference=None
2025-07-28 10:24:52,009 - NXTGiftClient - INFO - Gift 220: ID=380902, Reference=None
2025-07-28 10:24:52,009 - NXTGiftClient - INFO - Gift 221: ID=383721, Reference=None
2025-07-28 10:24:52,009 - NXTGiftClient - INFO - Gift 222: ID=386773, Reference=None
2025-07-28 10:24:52,009 - NXTGiftClient - INFO - Gift 223: ID=389647, Reference=None
2025-07-28 10:24:52,009 - NXTGiftClient - INFO - Gift 224: ID=392929, Reference=None
2025-07-28 10:24:52,010 - NXTGiftClient - INFO - Gift 225: ID=396112, Reference=None
2025-07-28 10:24:52,010 - NXTGiftClient - INFO - Gift 226: ID=399008, Reference=None
2025-07-28 10:24:52,010 - NXTGiftClient - INFO - Gift 227: ID=402114, Reference=None
2025-07-28 10:24:52,010 - NXTGiftClient - INFO - Gift 228: ID=405259, Reference=None
2025-07-28 10:24:52,010 - NXTGiftClient - INFO - Gift 229: ID=407783, Reference=None
2025-07-28 10:24:52,011 - NXTGiftClient - INFO - Gift 230: ID=407784, Reference=None
2025-07-28 10:24:52,011 - NXTGiftClient - INFO - Gift 231: ID=410838, Reference=None
2025-07-28 10:24:52,011 - NXTGiftClient - INFO - Gift 232: ID=429032, Reference=None
2025-07-28 10:24:52,012 - NXTGiftClient - INFO - Gift 233: ID=431238, Reference=None
2025-07-28 10:24:52,012 - NXTGiftClient - INFO - Gift 234: ID=432882, Reference=None
2025-07-28 10:24:52,012 - NXTGiftClient - INFO - Gift 235: ID=433790, Reference=None
2025-07-28 10:24:52,013 - NXTGiftClient - INFO - Gift 236: ID=436034, Reference=None
2025-07-28 10:24:52,013 - NXTGiftClient - INFO - Gift 237: ID=436081, Reference=None
2025-07-28 10:24:52,013 - NXTGiftClient - INFO - Gift 238: ID=438065, Reference=None
2025-07-28 10:24:52,014 - NXTGiftClient - INFO - Gift 239: ID=440175, Reference=None
2025-07-28 10:24:52,014 - NXTGiftClient - INFO - Gift 240: ID=446181, Reference=None
2025-07-28 10:24:52,014 - NXTGiftClient - INFO - Gift 241: ID=447508, Reference=None
2025-07-28 10:24:52,015 - NXTGiftClient - INFO - Gift 242: ID=456325, Reference=None
2025-07-28 10:24:52,015 - NXTGiftClient - INFO - Gift 243: ID=458910, Reference=None
2025-07-28 10:24:52,015 - NXTGiftClient - INFO - Gift 244: ID=496380, Reference=None
2025-07-28 10:24:52,016 - NXTGiftClient - INFO - Gift 245: ID=497067, Reference=None
2025-07-28 10:24:52,016 - NXTGiftClient - INFO - Gift 246: ID=501116, Reference=None
2025-07-28 10:24:52,016 - NXTGiftClient - INFO - Gift 247: ID=501117, Reference=None
2025-07-28 10:24:52,016 - NXTGiftClient - INFO - Gift 248: ID=501118, Reference=None
2025-07-28 10:24:52,016 - NXTGiftClient - INFO - Gift 249: ID=506107, Reference=None
2025-07-28 10:24:52,016 - NXTGiftClient - INFO - Gift 250: ID=507920, Reference=None
2025-07-28 10:24:52,016 - NXTGiftClient - INFO - Gift 251: ID=508446, Reference=None
2025-07-28 10:24:52,017 - NXTGiftClient - INFO - Gift 252: ID=509628, Reference=None
2025-07-28 10:24:52,017 - NXTGiftClient - INFO - Gift 253: ID=509867, Reference=None
2025-07-28 10:24:52,017 - NXTGiftClient - INFO - Gift 254: ID=511044, Reference=None
2025-07-28 10:24:52,017 - NXTGiftClient - INFO - Gift 255: ID=511439, Reference=None
2025-07-28 10:24:52,017 - NXTGiftClient - INFO - Gift 256: ID=511928, Reference=None
2025-07-28 10:24:52,017 - NXTGiftClient - INFO - Gift 257: ID=512705, Reference=None
2025-07-28 10:24:52,018 - NXTGiftClient - INFO - Gift 258: ID=513460, Reference=None
2025-07-28 10:24:52,018 - NXTGiftClient - INFO - Gift 259: ID=513976, Reference=None
2025-07-28 10:24:52,018 - NXTGiftClient - INFO - Gift 260: ID=514538, Reference=None
2025-07-28 10:24:52,018 - NXTGiftClient - INFO - Gift 261: ID=514921, Reference=None
2025-07-28 10:24:52,020 - NXTGiftClient - INFO - Gift 262: ID=515312, Reference=None
2025-07-28 10:24:52,021 - NXTGiftClient - INFO - Gift 263: ID=515770, Reference=None
2025-07-28 10:24:52,021 - NXTGiftClient - INFO - Gift 264: ID=516519, Reference=None
2025-07-28 10:24:52,021 - NXTGiftClient - INFO - Gift 265: ID=517135, Reference=None
2025-07-28 10:24:52,022 - NXTGiftClient - INFO - Gift 266: ID=517877, Reference=None
2025-07-28 10:24:52,022 - NXTGiftClient - INFO - Gift 267: ID=518131, Reference=None
2025-07-28 10:24:52,022 - NXTGiftClient - INFO - Gift 268: ID=529361, Reference=None
2025-07-28 10:24:52,022 - NXTGiftClient - INFO - Gift 269: ID=593233, Reference=None
2025-07-28 10:24:52,022 - NXTGiftClient - INFO - Gift 270: ID=597865, Reference=None
2025-07-28 10:24:52,023 - NXTGiftClient - INFO - Gift 271: ID=602428, Reference=None
2025-07-28 10:24:52,023 - NXTGiftClient - INFO - Gift 272: ID=606053, Reference=None
2025-07-28 10:24:52,023 - NXTGiftClient - INFO - Gift 273: ID=610963, Reference=None
2025-07-28 10:24:52,024 - NXTGiftClient - INFO - Gift 274: ID=614708, Reference=None
2025-07-28 10:24:52,024 - NXTGiftClient - INFO - Gift 275: ID=617899, Reference=None
2025-07-28 10:24:52,025 - NXTGiftClient - INFO - Gift 276: ID=621595, Reference=None
2025-07-28 10:24:52,025 - NXTGiftClient - INFO - Gift 277: ID=625895, Reference=None
2025-07-28 10:24:52,025 - NXTGiftClient - INFO - Gift 278: ID=629521, Reference=None
2025-07-28 10:24:52,025 - NXTGiftClient - INFO - Gift 279: ID=633040, Reference=None
2025-07-28 10:24:52,026 - NXTGiftClient - INFO - Gift 280: ID=637313, Reference=None
2025-07-28 10:24:52,026 - NXTGiftClient - INFO - Gift 281: ID=640878, Reference=None
2025-07-28 10:24:52,026 - NXTGiftClient - INFO - Gift 282: ID=645553, Reference=None
2025-07-28 10:24:52,026 - NXTGiftClient - INFO - Gift 283: ID=649079, Reference=None
2025-07-28 10:24:52,027 - NXTGiftClient - INFO - Gift 284: ID=652872, Reference=None
2025-07-28 10:24:52,027 - NXTGiftClient - INFO - Gift 285: ID=656559, Reference=None
2025-07-28 10:24:52,027 - NXTGiftClient - INFO - Gift 286: ID=660083, Reference=None
2025-07-28 10:24:52,027 - NXTGiftClient - INFO - Gift 287: ID=663377, Reference=None
2025-07-28 10:24:52,028 - NXTGiftClient - INFO - Gift 288: ID=667201, Reference=None
2025-07-28 10:24:52,028 - NXTGiftClient - INFO - Gift 289: ID=56689, Reference=None
2025-07-28 10:24:52,028 - NXTGiftClient - INFO - Gift 290: ID=62156, Reference=None
2025-07-28 10:24:52,028 - NXTGiftClient - INFO - Gift 291: ID=67733, Reference=None
2025-07-28 10:24:52,029 - NXTGiftClient - INFO - Gift 292: ID=73290, Reference=None
2025-07-28 10:24:52,029 - NXTGiftClient - INFO - Gift 293: ID=78771, Reference=None
2025-07-28 10:24:52,029 - NXTGiftClient - INFO - Gift 294: ID=84309, Reference=None
2025-07-28 10:24:52,029 - NXTGiftClient - INFO - Gift 295: ID=89935, Reference=None
2025-07-28 10:24:52,029 - NXTGiftClient - INFO - Gift 296: ID=95350, Reference=None
2025-07-28 10:24:52,029 - NXTGiftClient - INFO - Gift 297: ID=100879, Reference=None
2025-07-28 10:24:52,030 - NXTGiftClient - INFO - Gift 298: ID=107335, Reference=None
2025-07-28 10:24:52,030 - NXTGiftClient - INFO - Gift 299: ID=113182, Reference=None
2025-07-28 10:24:52,030 - NXTGiftClient - INFO - Gift 300: ID=119264, Reference=None
2025-07-28 10:24:52,030 - NXTGiftClient - INFO - Gift 301: ID=124719, Reference=None
2025-07-28 10:24:52,031 - NXTGiftClient - INFO - Gift 302: ID=130126, Reference=None
2025-07-28 10:24:52,031 - NXTGiftClient - INFO - Gift 303: ID=135737, Reference=None
2025-07-28 10:24:52,031 - NXTGiftClient - INFO - Gift 304: ID=139121, Reference=None
2025-07-28 10:24:52,031 - NXTGiftClient - INFO - Gift 305: ID=160462, Reference=None
2025-07-28 10:24:52,032 - NXTGiftClient - INFO - Gift 306: ID=165990, Reference=None
2025-07-28 10:24:52,032 - NXTGiftClient - INFO - Gift 307: ID=171854, Reference=None
2025-07-28 10:24:52,032 - NXTGiftClient - INFO - Gift 308: ID=177007, Reference=None
2025-07-28 10:24:52,032 - NXTGiftClient - INFO - Gift 309: ID=182097, Reference=None
2025-07-28 10:24:52,032 - NXTGiftClient - INFO - Gift 310: ID=187106, Reference=None
2025-07-28 10:24:52,033 - NXTGiftClient - INFO - Gift 311: ID=192129, Reference=None
2025-07-28 10:24:52,033 - NXTGiftClient - INFO - Gift 312: ID=196449, Reference=None
2025-07-28 10:24:52,033 - NXTGiftClient - INFO - Gift 313: ID=201003, Reference=None
2025-07-28 10:24:52,033 - NXTGiftClient - INFO - Gift 314: ID=205719, Reference=None
2025-07-28 10:24:52,034 - NXTGiftClient - INFO - Gift 315: ID=210156, Reference=None
2025-07-28 10:24:52,034 - NXTGiftClient - INFO - Gift 316: ID=215149, Reference=None
2025-07-28 10:24:52,034 - NXTGiftClient - INFO - Gift 317: ID=219662, Reference=None
2025-07-28 10:24:52,034 - NXTGiftClient - INFO - Gift 318: ID=224473, Reference=None
2025-07-28 10:24:52,034 - NXTGiftClient - INFO - Gift 319: ID=229546, Reference=None
2025-07-28 10:24:52,034 - NXTGiftClient - INFO - Gift 320: ID=234259, Reference=None
2025-07-28 10:24:52,034 - NXTGiftClient - INFO - Gift 321: ID=239012, Reference=None
2025-07-28 10:24:52,035 - NXTGiftClient - INFO - Gift 322: ID=243548, Reference=None
2025-07-28 10:24:52,035 - NXTGiftClient - INFO - Gift 323: ID=247809, Reference=None
2025-07-28 10:24:52,035 - NXTGiftClient - INFO - Gift 324: ID=251689, Reference=None
2025-07-28 10:24:52,035 - NXTGiftClient - INFO - Gift 325: ID=255819, Reference=None
2025-07-28 10:24:52,035 - NXTGiftClient - INFO - Gift 326: ID=259997, Reference=None
2025-07-28 10:24:52,035 - NXTGiftClient - INFO - Gift 327: ID=264024, Reference=None
2025-07-28 10:24:52,036 - NXTGiftClient - INFO - Gift 328: ID=268429, Reference=None
2025-07-28 10:24:52,036 - NXTGiftClient - INFO - Gift 329: ID=272650, Reference=None
2025-07-28 10:24:52,036 - NXTGiftClient - INFO - Gift 330: ID=449532, Reference=None
2025-07-28 10:24:52,036 - NXTGiftClient - INFO - Gift 331: ID=292308, Reference=None
2025-07-28 10:24:52,037 - NXTGiftClient - INFO - Gift 332: ID=501653, Reference=None
2025-07-28 10:24:52,037 - NXTGiftClient - INFO - Gift 333: ID=5720, Reference=None
2025-07-28 10:24:52,037 - NXTGiftClient - INFO - Gift 334: ID=5721, Reference=None
2025-07-28 10:24:52,037 - NXTGiftClient - INFO - Gift 335: ID=10619, Reference=None
2025-07-28 10:24:52,037 - NXTGiftClient - INFO - Gift 336: ID=10620, Reference=None
2025-07-28 10:24:52,037 - NXTGiftClient - INFO - Gift 337: ID=15378, Reference=None
2025-07-28 10:24:52,037 - NXTGiftClient - INFO - Gift 338: ID=15379, Reference=None
2025-07-28 10:24:52,038 - NXTGiftClient - INFO - Gift 339: ID=20249, Reference=None
2025-07-28 10:24:52,038 - NXTGiftClient - INFO - Gift 340: ID=20250, Reference=None
2025-07-28 10:24:52,038 - NXTGiftClient - INFO - Gift 341: ID=25281, Reference=None
2025-07-28 10:24:52,038 - NXTGiftClient - INFO - Gift 342: ID=25282, Reference=None
2025-07-28 10:24:52,038 - NXTGiftClient - INFO - Gift 343: ID=30385, Reference=None
2025-07-28 10:24:52,038 - NXTGiftClient - INFO - Gift 344: ID=30386, Reference=None
2025-07-28 10:24:52,038 - NXTGiftClient - INFO - Gift 345: ID=35975, Reference=None
2025-07-28 10:24:52,039 - NXTGiftClient - INFO - Gift 346: ID=35976, Reference=None
2025-07-28 10:24:52,039 - NXTGiftClient - INFO - Gift 347: ID=41707, Reference=None
2025-07-28 10:24:52,039 - NXTGiftClient - INFO - Gift 348: ID=41708, Reference=None
2025-07-28 10:24:52,039 - NXTGiftClient - INFO - Gift 349: ID=47100, Reference=None
2025-07-28 10:24:52,042 - NXTGiftClient - INFO - Gift 350: ID=47101, Reference=None
2025-07-28 10:24:52,042 - NXTGiftClient - INFO - Gift 351: ID=52629, Reference=None
2025-07-28 10:24:52,042 - NXTGiftClient - INFO - Gift 352: ID=52630, Reference=None
2025-07-28 10:24:52,042 - NXTGiftClient - INFO - Gift 353: ID=58023, Reference=None
2025-07-28 10:24:52,043 - NXTGiftClient - INFO - Gift 354: ID=58024, Reference=None
2025-07-28 10:24:52,043 - NXTGiftClient - INFO - Gift 355: ID=63523, Reference=None
2025-07-28 10:24:52,043 - NXTGiftClient - INFO - Gift 356: ID=63584, Reference=None
2025-07-28 10:24:52,043 - NXTGiftClient - INFO - Gift 357: ID=68912, Reference=None
2025-07-28 10:24:52,043 - NXTGiftClient - INFO - Gift 358: ID=68913, Reference=None
2025-07-28 10:24:52,043 - NXTGiftClient - INFO - Gift 359: ID=74505, Reference=None
2025-07-28 10:24:52,043 - NXTGiftClient - INFO - Gift 360: ID=74506, Reference=None
2025-07-28 10:24:52,044 - NXTGiftClient - INFO - Gift 361: ID=79973, Reference=None
2025-07-28 10:24:52,044 - NXTGiftClient - INFO - Gift 362: ID=79974, Reference=None
2025-07-28 10:24:52,044 - NXTGiftClient - INFO - Gift 363: ID=85508, Reference=None
2025-07-28 10:24:52,044 - NXTGiftClient - INFO - Gift 364: ID=85509, Reference=None
2025-07-28 10:24:52,044 - NXTGiftClient - INFO - Gift 365: ID=91096, Reference=None
2025-07-28 10:24:52,044 - NXTGiftClient - INFO - Gift 366: ID=91097, Reference=None
2025-07-28 10:24:52,045 - NXTGiftClient - INFO - Gift 367: ID=96644, Reference=None
2025-07-28 10:24:52,045 - NXTGiftClient - INFO - Gift 368: ID=96645, Reference=None
2025-07-28 10:24:52,045 - NXTGiftClient - INFO - Gift 369: ID=102700, Reference=None
2025-07-28 10:24:52,045 - NXTGiftClient - INFO - Gift 370: ID=102701, Reference=None
2025-07-28 10:24:52,045 - NXTGiftClient - INFO - Gift 371: ID=108761, Reference=None
2025-07-28 10:24:52,046 - NXTGiftClient - INFO - Gift 372: ID=108762, Reference=None
2025-07-28 10:24:52,046 - NXTGiftClient - INFO - Gift 373: ID=114534, Reference=None
2025-07-28 10:24:52,046 - NXTGiftClient - INFO - Gift 374: ID=114535, Reference=None
2025-07-28 10:24:52,047 - NXTGiftClient - INFO - Gift 375: ID=120599, Reference=None
2025-07-28 10:24:52,048 - NXTGiftClient - INFO - Gift 376: ID=120600, Reference=None
2025-07-28 10:24:52,048 - NXTGiftClient - INFO - Gift 377: ID=126042, Reference=None
2025-07-28 10:24:52,049 - NXTGiftClient - INFO - Gift 378: ID=126043, Reference=None
2025-07-28 10:24:52,049 - NXTGiftClient - INFO - Gift 379: ID=131374, Reference=None
2025-07-28 10:24:52,049 - NXTGiftClient - INFO - Gift 380: ID=131375, Reference=None
2025-07-28 10:24:52,049 - NXTGiftClient - INFO - Gift 381: ID=136996, Reference=None
2025-07-28 10:24:52,049 - NXTGiftClient - INFO - Gift 382: ID=136997, Reference=None
2025-07-28 10:24:52,049 - NXTGiftClient - INFO - Gift 383: ID=141953, Reference=None
2025-07-28 10:24:52,049 - NXTGiftClient - INFO - Gift 384: ID=141954, Reference=None
2025-07-28 10:24:52,049 - NXTGiftClient - INFO - Gift 385: ID=529508, Reference=None
2025-07-28 10:24:52,050 - NXTGiftClient - INFO - Gift 386: ID=529627, Reference=None
2025-07-28 10:24:52,050 - NXTGiftClient - INFO - Gift 387: ID=534086, Reference=None
2025-07-28 10:24:52,050 - NXTGiftClient - INFO - Gift 388: ID=539312, Reference=None
2025-07-28 10:24:52,050 - NXTGiftClient - INFO - Gift 389: ID=544252, Reference=None
2025-07-28 10:24:52,050 - NXTGiftClient - INFO - Gift 390: ID=549137, Reference=None
2025-07-28 10:24:52,051 - NXTGiftClient - INFO - Gift 391: ID=553843, Reference=None
2025-07-28 10:24:52,051 - NXTGiftClient - INFO - Gift 392: ID=558911, Reference=None
2025-07-28 10:24:52,051 - NXTGiftClient - INFO - Gift 393: ID=563733, Reference=None
2025-07-28 10:24:52,051 - NXTGiftClient - INFO - Gift 394: ID=568285, Reference=None
2025-07-28 10:24:52,051 - NXTGiftClient - INFO - Gift 395: ID=572372, Reference=None
2025-07-28 10:24:52,051 - NXTGiftClient - INFO - Gift 396: ID=575489, Reference=None
2025-07-28 10:24:52,052 - NXTGiftClient - INFO - Gift 397: ID=580510, Reference=None
2025-07-28 10:24:52,052 - NXTGiftClient - INFO - Gift 398: ID=584573, Reference=None
2025-07-28 10:24:52,052 - NXTGiftClient - INFO - Gift 399: ID=588961, Reference=None
2025-07-28 10:24:52,052 - NXTGiftClient - INFO - Gift 400: ID=593189, Reference=None
2025-07-28 10:24:52,053 - NXTGiftClient - INFO - Gift 401: ID=597107, Reference=None
2025-07-28 10:24:52,053 - NXTGiftClient - INFO - Gift 402: ID=601695, Reference=None
2025-07-28 10:24:52,053 - NXTGiftClient - INFO - Gift 403: ID=605499, Reference=None
2025-07-28 10:24:52,053 - NXTGiftClient - INFO - Gift 404: ID=609796, Reference=None
2025-07-28 10:24:52,053 - NXTGiftClient - INFO - Gift 405: ID=613685, Reference=None
2025-07-28 10:24:52,054 - NXTGiftClient - INFO - Gift 406: ID=617344, Reference=None
2025-07-28 10:24:52,054 - NXTGiftClient - INFO - Gift 407: ID=621076, Reference=None
2025-07-28 10:24:52,054 - NXTGiftClient - INFO - Gift 408: ID=624796, Reference=None
2025-07-28 10:24:52,054 - NXTGiftClient - INFO - Gift 409: ID=628518, Reference=None
2025-07-28 10:24:52,054 - NXTGiftClient - INFO - Gift 410: ID=632457, Reference=None
2025-07-28 10:24:52,054 - NXTGiftClient - INFO - Gift 411: ID=636328, Reference=None
2025-07-28 10:24:52,054 - NXTGiftClient - INFO - Gift 412: ID=640098, Reference=None
2025-07-28 10:24:52,054 - NXTGiftClient - INFO - Gift 413: ID=644517, Reference=None
2025-07-28 10:24:52,055 - NXTGiftClient - INFO - Gift 414: ID=648497, Reference=None
2025-07-28 10:24:52,055 - NXTGiftClient - INFO - Gift 415: ID=652274, Reference=None
2025-07-28 10:24:52,055 - NXTGiftClient - INFO - Gift 416: ID=655911, Reference=None
2025-07-28 10:24:52,055 - NXTGiftClient - INFO - Gift 417: ID=659414, Reference=None
2025-07-28 10:24:52,055 - NXTGiftClient - INFO - Gift 418: ID=662779, Reference=None
2025-07-28 10:24:52,055 - NXTGiftClient - INFO - Gift 419: ID=666311, Reference=None
2025-07-28 10:24:52,056 - NXTGiftClient - INFO - Gift 420: ID=77078, Reference=None
2025-07-28 10:24:52,056 - NXTGiftClient - INFO - Gift 421: ID=82567, Reference=None
2025-07-28 10:24:52,056 - NXTGiftClient - INFO - Gift 422: ID=88205, Reference=None
2025-07-28 10:24:52,056 - NXTGiftClient - INFO - Gift 423: ID=93654, Reference=None
2025-07-28 10:24:52,056 - NXTGiftClient - INFO - Gift 424: ID=99173, Reference=None
2025-07-28 10:24:52,056 - NXTGiftClient - INFO - Gift 425: ID=105496, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 426: ID=111468, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 427: ID=117319, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 428: ID=123178, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 429: ID=128400, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 430: ID=133995, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 431: ID=139458, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 432: ID=144717, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 433: ID=150459, Reference=None
2025-07-28 10:24:52,057 - NXTGiftClient - INFO - Gift 434: ID=155837, Reference=None
2025-07-28 10:24:52,058 - NXTGiftClient - INFO - Gift 435: ID=161046, Reference=None
2025-07-28 10:24:52,058 - NXTGiftClient - INFO - Gift 436: ID=166588, Reference=None
2025-07-28 10:24:52,058 - NXTGiftClient - INFO - Gift 437: ID=172484, Reference=None
2025-07-28 10:24:52,058 - NXTGiftClient - INFO - Gift 438: ID=177619, Reference=None
2025-07-28 10:24:52,058 - NXTGiftClient - INFO - Gift 439: ID=182648, Reference=None
2025-07-28 10:24:52,058 - NXTGiftClient - INFO - Gift 440: ID=187635, Reference=None
2025-07-28 10:24:52,058 - NXTGiftClient - INFO - Gift 441: ID=192485, Reference=None
2025-07-28 10:24:52,058 - NXTGiftClient - INFO - Gift 442: ID=197096, Reference=None
2025-07-28 10:24:52,059 - NXTGiftClient - INFO - Gift 443: ID=201527, Reference=None
2025-07-28 10:24:52,059 - NXTGiftClient - INFO - Gift 444: ID=206081, Reference=None
2025-07-28 10:24:52,059 - NXTGiftClient - INFO - Gift 445: ID=210820, Reference=None
2025-07-28 10:24:52,059 - NXTGiftClient - INFO - Gift 446: ID=215571, Reference=None
2025-07-28 10:24:52,059 - NXTGiftClient - INFO - Gift 447: ID=220156, Reference=None
2025-07-28 10:24:52,059 - NXTGiftClient - INFO - Gift 448: ID=224893, Reference=None
2025-07-28 10:24:52,059 - NXTGiftClient - INFO - Gift 449: ID=230033, Reference=None
2025-07-28 10:24:52,059 - NXTGiftClient - INFO - Gift 450: ID=234778, Reference=None
2025-07-28 10:24:52,060 - NXTGiftClient - INFO - Gift 451: ID=239784, Reference=None
2025-07-28 10:24:52,060 - NXTGiftClient - INFO - Gift 452: ID=244086, Reference=None
2025-07-28 10:24:52,060 - NXTGiftClient - INFO - Gift 453: ID=248172, Reference=None
2025-07-28 10:24:52,060 - NXTGiftClient - INFO - Gift 454: ID=252194, Reference=None
2025-07-28 10:24:52,060 - NXTGiftClient - INFO - Gift 455: ID=256279, Reference=None
2025-07-28 10:24:52,060 - NXTGiftClient - INFO - Gift 456: ID=260463, Reference=None
2025-07-28 10:24:52,061 - NXTGiftClient - INFO - Gift 457: ID=264387, Reference=None
2025-07-28 10:24:52,061 - NXTGiftClient - INFO - Gift 458: ID=268683, Reference=None
2025-07-28 10:24:52,061 - NXTGiftClient - INFO - Gift 459: ID=272870, Reference=None
2025-07-28 10:24:52,061 - NXTGiftClient - INFO - Gift 460: ID=276163, Reference=None
2025-07-28 10:24:52,062 - NXTGiftClient - INFO - Gift 461: ID=280914, Reference=None
2025-07-28 10:24:52,062 - NXTGiftClient - INFO - Gift 462: ID=365024, Reference=None
2025-07-28 10:24:52,062 - NXTGiftClient - INFO - Gift 463: ID=451981, Reference=None
2025-07-28 10:24:52,062 - NXTGiftClient - INFO - Gift 464: ID=521000, Reference=None
2025-07-28 10:24:52,062 - NXTGiftClient - INFO - Gift 465: ID=330685, Reference=None
2025-07-28 10:24:52,063 - NXTGiftClient - INFO - Gift 466: ID=428986, Reference=None
2025-07-28 10:24:52,063 - NXTGiftClient - INFO - Gift 467: ID=134127, Reference=None
2025-07-28 10:24:52,064 - NXTGiftClient - INFO - Gift 468: ID=139527, Reference=None
2025-07-28 10:24:52,064 - NXTGiftClient - INFO - Gift 469: ID=145071, Reference=None
2025-07-28 10:24:52,064 - NXTGiftClient - INFO - Gift 470: ID=150601, Reference=None
2025-07-28 10:24:52,065 - NXTGiftClient - INFO - Gift 471: ID=155953, Reference=None
2025-07-28 10:24:52,065 - NXTGiftClient - INFO - Gift 472: ID=161240, Reference=None
2025-07-28 10:24:52,065 - NXTGiftClient - INFO - Gift 473: ID=166732, Reference=None
2025-07-28 10:24:52,065 - NXTGiftClient - INFO - Gift 474: ID=167986, Reference=None
2025-07-28 10:24:52,065 - NXTGiftClient - INFO - Gift 475: ID=175329, Reference=None
2025-07-28 10:24:52,065 - NXTGiftClient - INFO - Gift 476: ID=182945, Reference=None
2025-07-28 10:24:52,066 - NXTGiftClient - INFO - Gift 477: ID=409833, Reference=None
2025-07-28 10:24:52,066 - NXTGiftClient - INFO - Gift 478: ID=435415, Reference=None
2025-07-28 10:24:52,066 - NXTGiftClient - INFO - Gift 479: ID=25796, Reference=None
2025-07-28 10:24:52,066 - NXTGiftClient - INFO - Gift 480: ID=30946, Reference=None
2025-07-28 10:24:52,066 - NXTGiftClient - INFO - Gift 481: ID=36499, Reference=None
2025-07-28 10:24:52,066 - NXTGiftClient - INFO - Gift 482: ID=42166, Reference=None
2025-07-28 10:24:52,067 - NXTGiftClient - INFO - Gift 483: ID=47554, Reference=None
2025-07-28 10:24:52,067 - NXTGiftClient - INFO - Gift 484: ID=53121, Reference=None
2025-07-28 10:24:52,067 - NXTGiftClient - INFO - Gift 485: ID=58576, Reference=None
2025-07-28 10:24:52,067 - NXTGiftClient - INFO - Gift 486: ID=64139, Reference=None
2025-07-28 10:24:52,067 - NXTGiftClient - INFO - Gift 487: ID=69513, Reference=None
2025-07-28 10:24:52,067 - NXTGiftClient - INFO - Gift 488: ID=74883, Reference=None
2025-07-28 10:24:52,067 - NXTGiftClient - INFO - Gift 489: ID=80624, Reference=None
2025-07-28 10:24:52,067 - NXTGiftClient - INFO - Gift 490: ID=86091, Reference=None
2025-07-28 10:24:52,068 - NXTGiftClient - INFO - Gift 491: ID=91714, Reference=None
2025-07-28 10:24:52,068 - NXTGiftClient - INFO - Gift 492: ID=97218, Reference=None
2025-07-28 10:24:52,069 - NXTGiftClient - INFO - Gift 493: ID=103383, Reference=None
2025-07-28 10:24:52,069 - NXTGiftClient - INFO - Gift 494: ID=109282, Reference=None
2025-07-28 10:24:52,069 - NXTGiftClient - INFO - Gift 495: ID=115147, Reference=None
2025-07-28 10:24:52,069 - NXTGiftClient - INFO - Gift 496: ID=120884, Reference=None
2025-07-28 10:24:52,070 - NXTGiftClient - INFO - Gift 497: ID=126660, Reference=None
2025-07-28 10:24:52,070 - NXTGiftClient - INFO - Gift 498: ID=132016, Reference=None
2025-07-28 10:24:52,070 - NXTGiftClient - INFO - Gift 499: ID=137230, Reference=None
2025-07-28 10:24:52,070 - NXTGiftClient - INFO - Gift 500: ID=142944, Reference=None
2025-07-28 10:24:52,071 - FinancialSyncService - INFO - Payment 663085 already processed, skipping
2025-07-28 10:24:52,071 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 10:24:52,072 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-668963'}
2025-07-28 10:24:52,072 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 1484 seconds
2025-07-28 10:24:54,027 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:24:54,028 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:24:54,028 - NXTGiftClient - INFO - Found 500 gifts with reference SR-Payment-668963
2025-07-28 10:24:54,028 - NXTGiftClient - INFO - Gift 1: ID=51455, Reference=None
2025-07-28 10:24:54,028 - NXTGiftClient - INFO - Gift 2: ID=3718, Reference=None
2025-07-28 10:24:54,029 - NXTGiftClient - INFO - Gift 3: ID=8407, Reference=None
2025-07-28 10:24:54,029 - NXTGiftClient - INFO - Gift 4: ID=13660, Reference=None
2025-07-28 10:24:54,029 - NXTGiftClient - INFO - Gift 5: ID=17923, Reference=None
2025-07-28 10:24:54,029 - NXTGiftClient - INFO - Gift 6: ID=23035, Reference=None
2025-07-28 10:24:54,029 - NXTGiftClient - INFO - Gift 7: ID=28070, Reference=None
2025-07-28 10:24:54,029 - NXTGiftClient - INFO - Gift 8: ID=33249, Reference=None
2025-07-28 10:24:54,030 - NXTGiftClient - INFO - Gift 9: ID=39260, Reference=None
2025-07-28 10:24:54,030 - NXTGiftClient - INFO - Gift 10: ID=44589, Reference=None
2025-07-28 10:24:54,030 - NXTGiftClient - INFO - Gift 11: ID=50311, Reference=None
2025-07-28 10:24:54,031 - NXTGiftClient - INFO - Gift 12: ID=55590, Reference=None
2025-07-28 10:24:54,031 - NXTGiftClient - INFO - Gift 13: ID=61010, Reference=None
2025-07-28 10:24:54,031 - NXTGiftClient - INFO - Gift 14: ID=66457, Reference=None
2025-07-28 10:24:54,032 - NXTGiftClient - INFO - Gift 15: ID=72028, Reference=None
2025-07-28 10:24:54,032 - NXTGiftClient - INFO - Gift 16: ID=77556, Reference=None
2025-07-28 10:24:54,032 - NXTGiftClient - INFO - Gift 17: ID=83162, Reference=None
2025-07-28 10:24:54,032 - NXTGiftClient - INFO - Gift 18: ID=89194, Reference=None
2025-07-28 10:24:54,032 - NXTGiftClient - INFO - Gift 19: ID=94699, Reference=None
2025-07-28 10:24:54,033 - NXTGiftClient - INFO - Gift 20: ID=100256, Reference=None
2025-07-28 10:24:54,033 - NXTGiftClient - INFO - Gift 21: ID=106058, Reference=None
2025-07-28 10:24:54,033 - NXTGiftClient - INFO - Gift 22: ID=111943, Reference=None
2025-07-28 10:24:54,034 - NXTGiftClient - INFO - Gift 23: ID=118018, Reference=None
2025-07-28 10:24:54,034 - NXTGiftClient - INFO - Gift 24: ID=123510, Reference=None
2025-07-28 10:24:54,034 - NXTGiftClient - INFO - Gift 25: ID=128980, Reference=None
2025-07-28 10:24:54,034 - NXTGiftClient - INFO - Gift 26: ID=134361, Reference=None
2025-07-28 10:24:54,034 - NXTGiftClient - INFO - Gift 27: ID=139914, Reference=None
2025-07-28 10:24:54,035 - NXTGiftClient - INFO - Gift 28: ID=145954, Reference=None
2025-07-28 10:24:54,035 - NXTGiftClient - INFO - Gift 29: ID=150884, Reference=None
2025-07-28 10:24:54,035 - NXTGiftClient - INFO - Gift 30: ID=156129, Reference=None
2025-07-28 10:24:54,035 - NXTGiftClient - INFO - Gift 31: ID=161642, Reference=None
2025-07-28 10:24:54,036 - NXTGiftClient - INFO - Gift 32: ID=167012, Reference=None
2025-07-28 10:24:54,036 - NXTGiftClient - INFO - Gift 33: ID=173112, Reference=None
2025-07-28 10:24:54,036 - NXTGiftClient - INFO - Gift 34: ID=178208, Reference=None
2025-07-28 10:24:54,036 - NXTGiftClient - INFO - Gift 35: ID=183304, Reference=None
2025-07-28 10:24:54,037 - NXTGiftClient - INFO - Gift 36: ID=188163, Reference=None
2025-07-28 10:24:54,037 - NXTGiftClient - INFO - Gift 37: ID=192835, Reference=None
2025-07-28 10:24:54,037 - NXTGiftClient - INFO - Gift 38: ID=197449, Reference=None
2025-07-28 10:24:54,037 - NXTGiftClient - INFO - Gift 39: ID=202432, Reference=None
2025-07-28 10:24:54,037 - NXTGiftClient - INFO - Gift 40: ID=206747, Reference=None
2025-07-28 10:24:54,037 - NXTGiftClient - INFO - Gift 41: ID=211410, Reference=None
2025-07-28 10:24:54,037 - NXTGiftClient - INFO - Gift 42: ID=216363, Reference=None
2025-07-28 10:24:54,038 - NXTGiftClient - INFO - Gift 43: ID=220895, Reference=None
2025-07-28 10:24:54,038 - NXTGiftClient - INFO - Gift 44: ID=225433, Reference=None
2025-07-28 10:24:54,038 - NXTGiftClient - INFO - Gift 45: ID=230769, Reference=None
2025-07-28 10:24:54,038 - NXTGiftClient - INFO - Gift 46: ID=235460, Reference=None
2025-07-28 10:24:54,038 - NXTGiftClient - INFO - Gift 47: ID=240240, Reference=None
2025-07-28 10:24:54,038 - NXTGiftClient - INFO - Gift 48: ID=244745, Reference=None
2025-07-28 10:24:54,038 - NXTGiftClient - INFO - Gift 49: ID=248644, Reference=None
2025-07-28 10:24:54,039 - NXTGiftClient - INFO - Gift 50: ID=253222, Reference=None
2025-07-28 10:24:54,039 - NXTGiftClient - INFO - Gift 51: ID=257072, Reference=None
2025-07-28 10:24:54,039 - NXTGiftClient - INFO - Gift 52: ID=261024, Reference=None
2025-07-28 10:24:54,039 - NXTGiftClient - INFO - Gift 53: ID=264885, Reference=None
2025-07-28 10:24:54,039 - NXTGiftClient - INFO - Gift 54: ID=269417, Reference=None
2025-07-28 10:24:54,039 - NXTGiftClient - INFO - Gift 55: ID=273410, Reference=None
2025-07-28 10:24:54,040 - NXTGiftClient - INFO - Gift 56: ID=277286, Reference=None
2025-07-28 10:24:54,040 - NXTGiftClient - INFO - Gift 57: ID=281425, Reference=None
2025-07-28 10:24:54,040 - NXTGiftClient - INFO - Gift 58: ID=285807, Reference=None
2025-07-28 10:24:54,040 - NXTGiftClient - INFO - Gift 59: ID=289632, Reference=None
2025-07-28 10:24:54,040 - NXTGiftClient - INFO - Gift 60: ID=293679, Reference=None
2025-07-28 10:24:54,040 - NXTGiftClient - INFO - Gift 61: ID=297325, Reference=None
2025-07-28 10:24:54,041 - NXTGiftClient - INFO - Gift 62: ID=300492, Reference=None
2025-07-28 10:24:54,041 - NXTGiftClient - INFO - Gift 63: ID=304072, Reference=None
2025-07-28 10:24:54,041 - NXTGiftClient - INFO - Gift 64: ID=307579, Reference=None
2025-07-28 10:24:54,041 - NXTGiftClient - INFO - Gift 65: ID=311227, Reference=None
2025-07-28 10:24:54,041 - NXTGiftClient - INFO - Gift 66: ID=315287, Reference=None
2025-07-28 10:24:54,041 - NXTGiftClient - INFO - Gift 67: ID=318778, Reference=None
2025-07-28 10:24:54,041 - NXTGiftClient - INFO - Gift 68: ID=322304, Reference=None
2025-07-28 10:24:54,042 - NXTGiftClient - INFO - Gift 69: ID=327133, Reference=None
2025-07-28 10:24:54,042 - NXTGiftClient - INFO - Gift 70: ID=330500, Reference=None
2025-07-28 10:24:54,042 - NXTGiftClient - INFO - Gift 71: ID=334341, Reference=None
2025-07-28 10:24:54,042 - NXTGiftClient - INFO - Gift 72: ID=337751, Reference=None
2025-07-28 10:24:54,042 - NXTGiftClient - INFO - Gift 73: ID=340929, Reference=None
2025-07-28 10:24:54,042 - NXTGiftClient - INFO - Gift 74: ID=344308, Reference=None
2025-07-28 10:24:54,042 - NXTGiftClient - INFO - Gift 75: ID=347388, Reference=None
2025-07-28 10:24:54,042 - NXTGiftClient - INFO - Gift 76: ID=350463, Reference=None
2025-07-28 10:24:54,043 - NXTGiftClient - INFO - Gift 77: ID=353747, Reference=None
2025-07-28 10:24:54,043 - NXTGiftClient - INFO - Gift 78: ID=356982, Reference=None
2025-07-28 10:24:54,043 - NXTGiftClient - INFO - Gift 79: ID=360068, Reference=None
2025-07-28 10:24:54,043 - NXTGiftClient - INFO - Gift 80: ID=363093, Reference=None
2025-07-28 10:24:54,043 - NXTGiftClient - INFO - Gift 81: ID=366856, Reference=None
2025-07-28 10:24:54,043 - NXTGiftClient - INFO - Gift 82: ID=369952, Reference=None
2025-07-28 10:24:54,043 - NXTGiftClient - INFO - Gift 83: ID=373158, Reference=None
2025-07-28 10:24:54,044 - NXTGiftClient - INFO - Gift 84: ID=376060, Reference=None
2025-07-28 10:24:54,044 - NXTGiftClient - INFO - Gift 85: ID=379031, Reference=None
2025-07-28 10:24:54,044 - NXTGiftClient - INFO - Gift 86: ID=381962, Reference=None
2025-07-28 10:24:54,044 - NXTGiftClient - INFO - Gift 87: ID=384941, Reference=None
2025-07-28 10:24:54,044 - NXTGiftClient - INFO - Gift 88: ID=387980, Reference=None
2025-07-28 10:24:54,044 - NXTGiftClient - INFO - Gift 89: ID=390800, Reference=None
2025-07-28 10:24:54,044 - NXTGiftClient - INFO - Gift 90: ID=394186, Reference=None
2025-07-28 10:24:54,045 - NXTGiftClient - INFO - Gift 91: ID=397211, Reference=None
2025-07-28 10:24:54,045 - NXTGiftClient - INFO - Gift 92: ID=400080, Reference=None
2025-07-28 10:24:54,045 - NXTGiftClient - INFO - Gift 93: ID=403387, Reference=None
2025-07-28 10:24:54,045 - NXTGiftClient - INFO - Gift 94: ID=406389, Reference=None
2025-07-28 10:24:54,045 - NXTGiftClient - INFO - Gift 95: ID=409316, Reference=None
2025-07-28 10:24:54,046 - NXTGiftClient - INFO - Gift 96: ID=411948, Reference=None
2025-07-28 10:24:54,046 - NXTGiftClient - INFO - Gift 97: ID=414698, Reference=None
2025-07-28 10:24:54,046 - NXTGiftClient - INFO - Gift 98: ID=417363, Reference=None
2025-07-28 10:24:54,046 - NXTGiftClient - INFO - Gift 99: ID=419940, Reference=None
2025-07-28 10:24:54,046 - NXTGiftClient - INFO - Gift 100: ID=422544, Reference=None
2025-07-28 10:24:54,046 - NXTGiftClient - INFO - Gift 101: ID=425077, Reference=None
2025-07-28 10:24:54,046 - NXTGiftClient - INFO - Gift 102: ID=427744, Reference=None
2025-07-28 10:24:54,046 - NXTGiftClient - INFO - Gift 103: ID=430120, Reference=None
2025-07-28 10:24:54,047 - NXTGiftClient - INFO - Gift 104: ID=432219, Reference=None
2025-07-28 10:24:54,047 - NXTGiftClient - INFO - Gift 105: ID=434861, Reference=None
2025-07-28 10:24:54,047 - NXTGiftClient - INFO - Gift 106: ID=437013, Reference=None
2025-07-28 10:24:54,048 - NXTGiftClient - INFO - Gift 107: ID=439108, Reference=None
2025-07-28 10:24:54,048 - NXTGiftClient - INFO - Gift 108: ID=441266, Reference=None
2025-07-28 10:24:54,048 - NXTGiftClient - INFO - Gift 109: ID=443263, Reference=None
2025-07-28 10:24:54,048 - NXTGiftClient - INFO - Gift 110: ID=445435, Reference=None
2025-07-28 10:24:54,048 - NXTGiftClient - INFO - Gift 111: ID=447291, Reference=None
2025-07-28 10:24:54,048 - NXTGiftClient - INFO - Gift 112: ID=448988, Reference=None
2025-07-28 10:24:54,049 - NXTGiftClient - INFO - Gift 113: ID=450790, Reference=None
2025-07-28 10:24:54,049 - NXTGiftClient - INFO - Gift 114: ID=452710, Reference=None
2025-07-28 10:24:54,049 - NXTGiftClient - INFO - Gift 115: ID=454424, Reference=None
2025-07-28 10:24:54,049 - NXTGiftClient - INFO - Gift 116: ID=455891, Reference=None
2025-07-28 10:24:54,049 - NXTGiftClient - INFO - Gift 117: ID=458027, Reference=None
2025-07-28 10:24:54,049 - NXTGiftClient - INFO - Gift 118: ID=459890, Reference=None
2025-07-28 10:24:54,049 - NXTGiftClient - INFO - Gift 119: ID=461427, Reference=None
2025-07-28 10:24:54,049 - NXTGiftClient - INFO - Gift 120: ID=463114, Reference=None
2025-07-28 10:24:54,050 - NXTGiftClient - INFO - Gift 121: ID=522655, Reference=None
2025-07-28 10:24:54,050 - NXTGiftClient - INFO - Gift 122: ID=527618, Reference=None
2025-07-28 10:24:54,050 - NXTGiftClient - INFO - Gift 123: ID=532323, Reference=None
2025-07-28 10:24:54,050 - NXTGiftClient - INFO - Gift 124: ID=537499, Reference=None
2025-07-28 10:24:54,050 - NXTGiftClient - INFO - Gift 125: ID=542385, Reference=None
2025-07-28 10:24:54,051 - NXTGiftClient - INFO - Gift 126: ID=547587, Reference=None
2025-07-28 10:24:54,051 - NXTGiftClient - INFO - Gift 127: ID=552212, Reference=None
2025-07-28 10:24:54,051 - NXTGiftClient - INFO - Gift 128: ID=557317, Reference=None
2025-07-28 10:24:54,051 - NXTGiftClient - INFO - Gift 129: ID=562284, Reference=None
2025-07-28 10:24:54,051 - NXTGiftClient - INFO - Gift 130: ID=566725, Reference=None
2025-07-28 10:24:54,051 - NXTGiftClient - INFO - Gift 131: ID=570900, Reference=None
2025-07-28 10:24:54,051 - NXTGiftClient - INFO - Gift 132: ID=576214, Reference=None
2025-07-28 10:24:54,051 - NXTGiftClient - INFO - Gift 133: ID=579387, Reference=None
2025-07-28 10:24:54,052 - NXTGiftClient - INFO - Gift 134: ID=583774, Reference=None
2025-07-28 10:24:54,052 - NXTGiftClient - INFO - Gift 135: ID=587380, Reference=None
2025-07-28 10:24:54,052 - NXTGiftClient - INFO - Gift 136: ID=592256, Reference=None
2025-07-28 10:24:54,052 - NXTGiftClient - INFO - Gift 137: ID=598336, Reference=None
2025-07-28 10:24:54,052 - NXTGiftClient - INFO - Gift 138: ID=412398, Reference=None
2025-07-28 10:24:54,053 - NXTGiftClient - INFO - Gift 139: ID=433055, Reference=None
2025-07-28 10:24:54,053 - NXTGiftClient - INFO - Gift 140: ID=440004, Reference=None
2025-07-28 10:24:54,053 - NXTGiftClient - INFO - Gift 141: ID=410614, Reference=None
2025-07-28 10:24:54,053 - NXTGiftClient - INFO - Gift 142: ID=443976, Reference=None
2025-07-28 10:24:54,053 - NXTGiftClient - INFO - Gift 143: ID=282504, Reference=None
2025-07-28 10:24:54,053 - NXTGiftClient - INFO - Gift 144: ID=416145, Reference=None
2025-07-28 10:24:54,054 - NXTGiftClient - INFO - Gift 145: ID=484187, Reference=None
2025-07-28 10:24:54,054 - NXTGiftClient - INFO - Gift 146: ID=73741, Reference=None
2025-07-28 10:24:54,054 - NXTGiftClient - INFO - Gift 147: ID=73742, Reference=None
2025-07-28 10:24:54,054 - NXTGiftClient - INFO - Gift 148: ID=317860, Reference=None
2025-07-28 10:24:54,054 - NXTGiftClient - INFO - Gift 149: ID=241486, Reference=None
2025-07-28 10:24:54,054 - NXTGiftClient - INFO - Gift 150: ID=453005, Reference=None
2025-07-28 10:24:54,054 - NXTGiftClient - INFO - Gift 151: ID=541694, Reference=None
2025-07-28 10:24:54,054 - NXTGiftClient - INFO - Gift 152: ID=556396, Reference=None
2025-07-28 10:24:54,055 - NXTGiftClient - INFO - Gift 153: ID=556637, Reference=None
2025-07-28 10:24:54,055 - NXTGiftClient - INFO - Gift 154: ID=561463, Reference=None
2025-07-28 10:24:54,055 - NXTGiftClient - INFO - Gift 155: ID=566102, Reference=None
2025-07-28 10:24:54,055 - NXTGiftClient - INFO - Gift 156: ID=570541, Reference=None
2025-07-28 10:24:54,055 - NXTGiftClient - INFO - Gift 157: ID=574631, Reference=None
2025-07-28 10:24:54,055 - NXTGiftClient - INFO - Gift 158: ID=578635, Reference=None
2025-07-28 10:24:54,055 - NXTGiftClient - INFO - Gift 159: ID=582745, Reference=None
2025-07-28 10:24:54,055 - NXTGiftClient - INFO - Gift 160: ID=586314, Reference=None
2025-07-28 10:24:54,056 - NXTGiftClient - INFO - Gift 161: ID=591427, Reference=None
2025-07-28 10:24:54,056 - NXTGiftClient - INFO - Gift 162: ID=595924, Reference=None
2025-07-28 10:24:54,056 - NXTGiftClient - INFO - Gift 163: ID=597495, Reference=None
2025-07-28 10:24:54,057 - NXTGiftClient - INFO - Gift 164: ID=600213, Reference=None
2025-07-28 10:24:54,057 - NXTGiftClient - INFO - Gift 165: ID=604279, Reference=None
2025-07-28 10:24:54,081 - NXTGiftClient - INFO - Gift 166: ID=608516, Reference=None
2025-07-28 10:24:54,083 - NXTGiftClient - INFO - Gift 167: ID=612323, Reference=None
2025-07-28 10:24:54,084 - NXTGiftClient - INFO - Gift 168: ID=616142, Reference=None
2025-07-28 10:24:54,084 - NXTGiftClient - INFO - Gift 169: ID=619918, Reference=None
2025-07-28 10:24:54,084 - NXTGiftClient - INFO - Gift 170: ID=623538, Reference=None
2025-07-28 10:24:54,084 - NXTGiftClient - INFO - Gift 171: ID=627234, Reference=None
2025-07-28 10:24:54,084 - NXTGiftClient - INFO - Gift 172: ID=631177, Reference=None
2025-07-28 10:24:54,084 - NXTGiftClient - INFO - Gift 173: ID=634803, Reference=None
2025-07-28 10:24:54,085 - NXTGiftClient - INFO - Gift 174: ID=638834, Reference=None
2025-07-28 10:24:54,085 - NXTGiftClient - INFO - Gift 175: ID=642928, Reference=None
2025-07-28 10:24:54,085 - NXTGiftClient - INFO - Gift 176: ID=647196, Reference=None
2025-07-28 10:24:54,085 - NXTGiftClient - INFO - Gift 177: ID=650944, Reference=None
2025-07-28 10:24:54,085 - NXTGiftClient - INFO - Gift 178: ID=654638, Reference=None
2025-07-28 10:24:54,085 - NXTGiftClient - INFO - Gift 179: ID=658102, Reference=None
2025-07-28 10:24:54,085 - NXTGiftClient - INFO - Gift 180: ID=661585, Reference=None
2025-07-28 10:24:54,085 - NXTGiftClient - INFO - Gift 181: ID=665083, Reference=None
2025-07-28 10:24:54,086 - NXTGiftClient - INFO - Gift 182: ID=668684, Reference=None
2025-07-28 10:24:54,086 - NXTGiftClient - INFO - Gift 183: ID=464965, Reference=None
2025-07-28 10:24:54,086 - NXTGiftClient - INFO - Gift 184: ID=383850, Reference=None
2025-07-28 10:24:54,086 - NXTGiftClient - INFO - Gift 185: ID=292750, Reference=None
2025-07-28 10:24:54,086 - NXTGiftClient - INFO - Gift 186: ID=166171, Reference=None
2025-07-28 10:24:54,087 - NXTGiftClient - INFO - Gift 187: ID=171030, Reference=None
2025-07-28 10:24:54,087 - NXTGiftClient - INFO - Gift 188: ID=182910, Reference=None
2025-07-28 10:24:54,087 - NXTGiftClient - INFO - Gift 189: ID=55049, Reference=None
2025-07-28 10:24:54,087 - NXTGiftClient - INFO - Gift 190: ID=133978, Reference=None
2025-07-28 10:24:54,087 - NXTGiftClient - INFO - Gift 191: ID=191320, Reference=None
2025-07-28 10:24:54,088 - NXTGiftClient - INFO - Gift 192: ID=249393, Reference=None
2025-07-28 10:24:54,088 - NXTGiftClient - INFO - Gift 193: ID=296111, Reference=None
2025-07-28 10:24:54,088 - NXTGiftClient - INFO - Gift 194: ID=299741, Reference=None
2025-07-28 10:24:54,088 - NXTGiftClient - INFO - Gift 195: ID=303393, Reference=None
2025-07-28 10:24:54,088 - NXTGiftClient - INFO - Gift 196: ID=306964, Reference=None
2025-07-28 10:24:54,088 - NXTGiftClient - INFO - Gift 197: ID=307499, Reference=None
2025-07-28 10:24:54,088 - NXTGiftClient - INFO - Gift 198: ID=310597, Reference=None
2025-07-28 10:24:54,089 - NXTGiftClient - INFO - Gift 199: ID=314538, Reference=None
2025-07-28 10:24:54,089 - NXTGiftClient - INFO - Gift 200: ID=318161, Reference=None
2025-07-28 10:24:54,089 - NXTGiftClient - INFO - Gift 201: ID=321711, Reference=None
2025-07-28 10:24:54,089 - NXTGiftClient - INFO - Gift 202: ID=323877, Reference=None
2025-07-28 10:24:54,089 - NXTGiftClient - INFO - Gift 203: ID=325822, Reference=None
2025-07-28 10:24:54,089 - NXTGiftClient - INFO - Gift 204: ID=329295, Reference=None
2025-07-28 10:24:54,089 - NXTGiftClient - INFO - Gift 205: ID=333157, Reference=None
2025-07-28 10:24:54,089 - NXTGiftClient - INFO - Gift 206: ID=336586, Reference=None
2025-07-28 10:24:54,090 - NXTGiftClient - INFO - Gift 207: ID=339774, Reference=None
2025-07-28 10:24:54,090 - NXTGiftClient - INFO - Gift 208: ID=343164, Reference=None
2025-07-28 10:24:54,090 - NXTGiftClient - INFO - Gift 209: ID=346156, Reference=None
2025-07-28 10:24:54,090 - NXTGiftClient - INFO - Gift 210: ID=349260, Reference=None
2025-07-28 10:24:54,090 - NXTGiftClient - INFO - Gift 211: ID=352623, Reference=None
2025-07-28 10:24:54,091 - NXTGiftClient - INFO - Gift 212: ID=355805, Reference=None
2025-07-28 10:24:54,091 - NXTGiftClient - INFO - Gift 213: ID=358831, Reference=None
2025-07-28 10:24:54,091 - NXTGiftClient - INFO - Gift 214: ID=362008, Reference=None
2025-07-28 10:24:54,091 - NXTGiftClient - INFO - Gift 215: ID=365598, Reference=None
2025-07-28 10:24:54,091 - NXTGiftClient - INFO - Gift 216: ID=368715, Reference=None
2025-07-28 10:24:54,091 - NXTGiftClient - INFO - Gift 217: ID=371933, Reference=None
2025-07-28 10:24:54,091 - NXTGiftClient - INFO - Gift 218: ID=374876, Reference=None
2025-07-28 10:24:54,091 - NXTGiftClient - INFO - Gift 219: ID=377923, Reference=None
2025-07-28 10:24:54,092 - NXTGiftClient - INFO - Gift 220: ID=380902, Reference=None
2025-07-28 10:24:54,092 - NXTGiftClient - INFO - Gift 221: ID=383721, Reference=None
2025-07-28 10:24:54,092 - NXTGiftClient - INFO - Gift 222: ID=386773, Reference=None
2025-07-28 10:24:54,092 - NXTGiftClient - INFO - Gift 223: ID=389647, Reference=None
2025-07-28 10:24:54,092 - NXTGiftClient - INFO - Gift 224: ID=392929, Reference=None
2025-07-28 10:24:54,092 - NXTGiftClient - INFO - Gift 225: ID=396112, Reference=None
2025-07-28 10:24:54,092 - NXTGiftClient - INFO - Gift 226: ID=399008, Reference=None
2025-07-28 10:24:54,092 - NXTGiftClient - INFO - Gift 227: ID=402114, Reference=None
2025-07-28 10:24:54,093 - NXTGiftClient - INFO - Gift 228: ID=405259, Reference=None
2025-07-28 10:24:54,093 - NXTGiftClient - INFO - Gift 229: ID=407783, Reference=None
2025-07-28 10:24:54,093 - NXTGiftClient - INFO - Gift 230: ID=407784, Reference=None
2025-07-28 10:24:54,093 - NXTGiftClient - INFO - Gift 231: ID=410838, Reference=None
2025-07-28 10:24:54,093 - NXTGiftClient - INFO - Gift 232: ID=429032, Reference=None
2025-07-28 10:24:54,093 - NXTGiftClient - INFO - Gift 233: ID=431238, Reference=None
2025-07-28 10:24:54,094 - NXTGiftClient - INFO - Gift 234: ID=432882, Reference=None
2025-07-28 10:24:54,094 - NXTGiftClient - INFO - Gift 235: ID=433790, Reference=None
2025-07-28 10:24:54,094 - NXTGiftClient - INFO - Gift 236: ID=436034, Reference=None
2025-07-28 10:24:54,094 - NXTGiftClient - INFO - Gift 237: ID=436081, Reference=None
2025-07-28 10:24:54,094 - NXTGiftClient - INFO - Gift 238: ID=438065, Reference=None
2025-07-28 10:24:54,094 - NXTGiftClient - INFO - Gift 239: ID=440175, Reference=None
2025-07-28 10:24:54,094 - NXTGiftClient - INFO - Gift 240: ID=446181, Reference=None
2025-07-28 10:24:54,094 - NXTGiftClient - INFO - Gift 241: ID=447508, Reference=None
2025-07-28 10:24:54,095 - NXTGiftClient - INFO - Gift 242: ID=456325, Reference=None
2025-07-28 10:24:54,095 - NXTGiftClient - INFO - Gift 243: ID=458910, Reference=None
2025-07-28 10:24:54,095 - NXTGiftClient - INFO - Gift 244: ID=496380, Reference=None
2025-07-28 10:24:54,095 - NXTGiftClient - INFO - Gift 245: ID=497067, Reference=None
2025-07-28 10:24:54,095 - NXTGiftClient - INFO - Gift 246: ID=501116, Reference=None
2025-07-28 10:24:54,095 - NXTGiftClient - INFO - Gift 247: ID=501117, Reference=None
2025-07-28 10:24:54,095 - NXTGiftClient - INFO - Gift 248: ID=501118, Reference=None
2025-07-28 10:24:54,096 - NXTGiftClient - INFO - Gift 249: ID=506107, Reference=None
2025-07-28 10:24:54,096 - NXTGiftClient - INFO - Gift 250: ID=507920, Reference=None
2025-07-28 10:24:54,096 - NXTGiftClient - INFO - Gift 251: ID=508446, Reference=None
2025-07-28 10:24:54,096 - NXTGiftClient - INFO - Gift 252: ID=509628, Reference=None
2025-07-28 10:24:54,097 - NXTGiftClient - INFO - Gift 253: ID=509867, Reference=None
2025-07-28 10:24:54,097 - NXTGiftClient - INFO - Gift 254: ID=511044, Reference=None
2025-07-28 10:24:54,097 - NXTGiftClient - INFO - Gift 255: ID=511439, Reference=None
2025-07-28 10:24:54,097 - NXTGiftClient - INFO - Gift 256: ID=511928, Reference=None
2025-07-28 10:24:54,098 - NXTGiftClient - INFO - Gift 257: ID=512705, Reference=None
2025-07-28 10:24:54,098 - NXTGiftClient - INFO - Gift 258: ID=513460, Reference=None
2025-07-28 10:24:54,098 - NXTGiftClient - INFO - Gift 259: ID=513976, Reference=None
2025-07-28 10:24:54,098 - NXTGiftClient - INFO - Gift 260: ID=514538, Reference=None
2025-07-28 10:24:54,099 - NXTGiftClient - INFO - Gift 261: ID=514921, Reference=None
2025-07-28 10:24:54,099 - NXTGiftClient - INFO - Gift 262: ID=515312, Reference=None
2025-07-28 10:24:54,099 - NXTGiftClient - INFO - Gift 263: ID=515770, Reference=None
2025-07-28 10:24:54,100 - NXTGiftClient - INFO - Gift 264: ID=516519, Reference=None
2025-07-28 10:24:54,100 - NXTGiftClient - INFO - Gift 265: ID=517135, Reference=None
2025-07-28 10:24:54,100 - NXTGiftClient - INFO - Gift 266: ID=517877, Reference=None
2025-07-28 10:24:54,100 - NXTGiftClient - INFO - Gift 267: ID=518131, Reference=None
2025-07-28 10:24:54,100 - NXTGiftClient - INFO - Gift 268: ID=529361, Reference=None
2025-07-28 10:24:54,100 - NXTGiftClient - INFO - Gift 269: ID=593233, Reference=None
2025-07-28 10:24:54,100 - NXTGiftClient - INFO - Gift 270: ID=597865, Reference=None
2025-07-28 10:24:54,101 - NXTGiftClient - INFO - Gift 271: ID=602428, Reference=None
2025-07-28 10:24:54,101 - NXTGiftClient - INFO - Gift 272: ID=606053, Reference=None
2025-07-28 10:24:54,101 - NXTGiftClient - INFO - Gift 273: ID=610963, Reference=None
2025-07-28 10:24:54,101 - NXTGiftClient - INFO - Gift 274: ID=614708, Reference=None
2025-07-28 10:24:54,101 - NXTGiftClient - INFO - Gift 275: ID=617899, Reference=None
2025-07-28 10:24:54,101 - NXTGiftClient - INFO - Gift 276: ID=621595, Reference=None
2025-07-28 10:24:54,102 - NXTGiftClient - INFO - Gift 277: ID=625895, Reference=None
2025-07-28 10:24:54,102 - NXTGiftClient - INFO - Gift 278: ID=629521, Reference=None
2025-07-28 10:24:54,102 - NXTGiftClient - INFO - Gift 279: ID=633040, Reference=None
2025-07-28 10:24:54,102 - NXTGiftClient - INFO - Gift 280: ID=637313, Reference=None
2025-07-28 10:24:54,102 - NXTGiftClient - INFO - Gift 281: ID=640878, Reference=None
2025-07-28 10:24:54,102 - NXTGiftClient - INFO - Gift 282: ID=645553, Reference=None
2025-07-28 10:24:54,102 - NXTGiftClient - INFO - Gift 283: ID=649079, Reference=None
2025-07-28 10:24:54,103 - NXTGiftClient - INFO - Gift 284: ID=652872, Reference=None
2025-07-28 10:24:54,103 - NXTGiftClient - INFO - Gift 285: ID=656559, Reference=None
2025-07-28 10:24:54,103 - NXTGiftClient - INFO - Gift 286: ID=660083, Reference=None
2025-07-28 10:24:54,104 - NXTGiftClient - INFO - Gift 287: ID=663377, Reference=None
2025-07-28 10:24:54,104 - NXTGiftClient - INFO - Gift 288: ID=667201, Reference=None
2025-07-28 10:24:54,104 - NXTGiftClient - INFO - Gift 289: ID=56689, Reference=None
2025-07-28 10:24:54,104 - NXTGiftClient - INFO - Gift 290: ID=62156, Reference=None
2025-07-28 10:24:54,104 - NXTGiftClient - INFO - Gift 291: ID=67733, Reference=None
2025-07-28 10:24:54,104 - NXTGiftClient - INFO - Gift 292: ID=73290, Reference=None
2025-07-28 10:24:54,104 - NXTGiftClient - INFO - Gift 293: ID=78771, Reference=None
2025-07-28 10:24:54,104 - NXTGiftClient - INFO - Gift 294: ID=84309, Reference=None
2025-07-28 10:24:54,105 - NXTGiftClient - INFO - Gift 295: ID=89935, Reference=None
2025-07-28 10:24:54,105 - NXTGiftClient - INFO - Gift 296: ID=95350, Reference=None
2025-07-28 10:24:54,105 - NXTGiftClient - INFO - Gift 297: ID=100879, Reference=None
2025-07-28 10:24:54,105 - NXTGiftClient - INFO - Gift 298: ID=107335, Reference=None
2025-07-28 10:24:54,105 - NXTGiftClient - INFO - Gift 299: ID=113182, Reference=None
2025-07-28 10:24:54,105 - NXTGiftClient - INFO - Gift 300: ID=119264, Reference=None
2025-07-28 10:24:54,105 - NXTGiftClient - INFO - Gift 301: ID=124719, Reference=None
2025-07-28 10:24:54,105 - NXTGiftClient - INFO - Gift 302: ID=130126, Reference=None
2025-07-28 10:24:54,106 - NXTGiftClient - INFO - Gift 303: ID=135737, Reference=None
2025-07-28 10:24:54,106 - NXTGiftClient - INFO - Gift 304: ID=139121, Reference=None
2025-07-28 10:24:54,106 - NXTGiftClient - INFO - Gift 305: ID=160462, Reference=None
2025-07-28 10:24:54,106 - NXTGiftClient - INFO - Gift 306: ID=165990, Reference=None
2025-07-28 10:24:54,106 - NXTGiftClient - INFO - Gift 307: ID=171854, Reference=None
2025-07-28 10:24:54,106 - NXTGiftClient - INFO - Gift 308: ID=177007, Reference=None
2025-07-28 10:24:54,106 - NXTGiftClient - INFO - Gift 309: ID=182097, Reference=None
2025-07-28 10:24:54,107 - NXTGiftClient - INFO - Gift 310: ID=187106, Reference=None
2025-07-28 10:24:54,107 - NXTGiftClient - INFO - Gift 311: ID=192129, Reference=None
2025-07-28 10:24:54,107 - NXTGiftClient - INFO - Gift 312: ID=196449, Reference=None
2025-07-28 10:24:54,107 - NXTGiftClient - INFO - Gift 313: ID=201003, Reference=None
2025-07-28 10:24:54,107 - NXTGiftClient - INFO - Gift 314: ID=205719, Reference=None
2025-07-28 10:24:54,107 - NXTGiftClient - INFO - Gift 315: ID=210156, Reference=None
2025-07-28 10:24:54,107 - NXTGiftClient - INFO - Gift 316: ID=215149, Reference=None
2025-07-28 10:24:54,107 - NXTGiftClient - INFO - Gift 317: ID=219662, Reference=None
2025-07-28 10:24:54,108 - NXTGiftClient - INFO - Gift 318: ID=224473, Reference=None
2025-07-28 10:24:54,108 - NXTGiftClient - INFO - Gift 319: ID=229546, Reference=None
2025-07-28 10:24:54,108 - NXTGiftClient - INFO - Gift 320: ID=234259, Reference=None
2025-07-28 10:24:54,108 - NXTGiftClient - INFO - Gift 321: ID=239012, Reference=None
2025-07-28 10:24:54,108 - NXTGiftClient - INFO - Gift 322: ID=243548, Reference=None
2025-07-28 10:24:54,108 - NXTGiftClient - INFO - Gift 323: ID=247809, Reference=None
2025-07-28 10:24:54,108 - NXTGiftClient - INFO - Gift 324: ID=251689, Reference=None
2025-07-28 10:24:54,108 - NXTGiftClient - INFO - Gift 325: ID=255819, Reference=None
2025-07-28 10:24:54,109 - NXTGiftClient - INFO - Gift 326: ID=259997, Reference=None
2025-07-28 10:24:54,109 - NXTGiftClient - INFO - Gift 327: ID=264024, Reference=None
2025-07-28 10:24:54,109 - NXTGiftClient - INFO - Gift 328: ID=268429, Reference=None
2025-07-28 10:24:54,109 - NXTGiftClient - INFO - Gift 329: ID=272650, Reference=None
2025-07-28 10:24:54,109 - NXTGiftClient - INFO - Gift 330: ID=449532, Reference=None
2025-07-28 10:24:54,109 - NXTGiftClient - INFO - Gift 331: ID=292308, Reference=None
2025-07-28 10:24:54,109 - NXTGiftClient - INFO - Gift 332: ID=501653, Reference=None
2025-07-28 10:24:54,109 - NXTGiftClient - INFO - Gift 333: ID=5720, Reference=None
2025-07-28 10:24:54,110 - NXTGiftClient - INFO - Gift 334: ID=5721, Reference=None
2025-07-28 10:24:54,110 - NXTGiftClient - INFO - Gift 335: ID=10619, Reference=None
2025-07-28 10:24:54,110 - NXTGiftClient - INFO - Gift 336: ID=10620, Reference=None
2025-07-28 10:24:54,110 - NXTGiftClient - INFO - Gift 337: ID=15378, Reference=None
2025-07-28 10:24:54,110 - NXTGiftClient - INFO - Gift 338: ID=15379, Reference=None
2025-07-28 10:24:54,110 - NXTGiftClient - INFO - Gift 339: ID=20249, Reference=None
2025-07-28 10:24:54,111 - NXTGiftClient - INFO - Gift 340: ID=20250, Reference=None
2025-07-28 10:24:54,111 - NXTGiftClient - INFO - Gift 341: ID=25281, Reference=None
2025-07-28 10:24:54,111 - NXTGiftClient - INFO - Gift 342: ID=25282, Reference=None
2025-07-28 10:24:54,111 - NXTGiftClient - INFO - Gift 343: ID=30385, Reference=None
2025-07-28 10:24:54,111 - NXTGiftClient - INFO - Gift 344: ID=30386, Reference=None
2025-07-28 10:24:54,113 - NXTGiftClient - INFO - Gift 345: ID=35975, Reference=None
2025-07-28 10:24:54,113 - NXTGiftClient - INFO - Gift 346: ID=35976, Reference=None
2025-07-28 10:24:54,114 - NXTGiftClient - INFO - Gift 347: ID=41707, Reference=None
2025-07-28 10:24:54,114 - NXTGiftClient - INFO - Gift 348: ID=41708, Reference=None
2025-07-28 10:24:54,114 - NXTGiftClient - INFO - Gift 349: ID=47100, Reference=None
2025-07-28 10:24:54,115 - NXTGiftClient - INFO - Gift 350: ID=47101, Reference=None
2025-07-28 10:24:54,115 - NXTGiftClient - INFO - Gift 351: ID=52629, Reference=None
2025-07-28 10:24:54,115 - NXTGiftClient - INFO - Gift 352: ID=52630, Reference=None
2025-07-28 10:24:54,115 - NXTGiftClient - INFO - Gift 353: ID=58023, Reference=None
2025-07-28 10:24:54,115 - NXTGiftClient - INFO - Gift 354: ID=58024, Reference=None
2025-07-28 10:24:54,115 - NXTGiftClient - INFO - Gift 355: ID=63523, Reference=None
2025-07-28 10:24:54,115 - NXTGiftClient - INFO - Gift 356: ID=63584, Reference=None
2025-07-28 10:24:54,115 - NXTGiftClient - INFO - Gift 357: ID=68912, Reference=None
2025-07-28 10:24:54,116 - NXTGiftClient - INFO - Gift 358: ID=68913, Reference=None
2025-07-28 10:24:54,116 - NXTGiftClient - INFO - Gift 359: ID=74505, Reference=None
2025-07-28 10:24:54,116 - NXTGiftClient - INFO - Gift 360: ID=74506, Reference=None
2025-07-28 10:24:54,116 - NXTGiftClient - INFO - Gift 361: ID=79973, Reference=None
2025-07-28 10:24:54,116 - NXTGiftClient - INFO - Gift 362: ID=79974, Reference=None
2025-07-28 10:24:54,116 - NXTGiftClient - INFO - Gift 363: ID=85508, Reference=None
2025-07-28 10:24:54,117 - NXTGiftClient - INFO - Gift 364: ID=85509, Reference=None
2025-07-28 10:24:54,117 - NXTGiftClient - INFO - Gift 365: ID=91096, Reference=None
2025-07-28 10:24:54,117 - NXTGiftClient - INFO - Gift 366: ID=91097, Reference=None
2025-07-28 10:24:54,117 - NXTGiftClient - INFO - Gift 367: ID=96644, Reference=None
2025-07-28 10:24:54,117 - NXTGiftClient - INFO - Gift 368: ID=96645, Reference=None
2025-07-28 10:24:54,117 - NXTGiftClient - INFO - Gift 369: ID=102700, Reference=None
2025-07-28 10:24:54,117 - NXTGiftClient - INFO - Gift 370: ID=102701, Reference=None
2025-07-28 10:24:54,117 - NXTGiftClient - INFO - Gift 371: ID=108761, Reference=None
2025-07-28 10:24:54,118 - NXTGiftClient - INFO - Gift 372: ID=108762, Reference=None
2025-07-28 10:24:54,118 - NXTGiftClient - INFO - Gift 373: ID=114534, Reference=None
2025-07-28 10:24:54,118 - NXTGiftClient - INFO - Gift 374: ID=114535, Reference=None
2025-07-28 10:24:54,118 - NXTGiftClient - INFO - Gift 375: ID=120599, Reference=None
2025-07-28 10:24:54,118 - NXTGiftClient - INFO - Gift 376: ID=120600, Reference=None
2025-07-28 10:24:54,118 - NXTGiftClient - INFO - Gift 377: ID=126042, Reference=None
2025-07-28 10:24:54,119 - NXTGiftClient - INFO - Gift 378: ID=126043, Reference=None
2025-07-28 10:24:54,119 - NXTGiftClient - INFO - Gift 379: ID=131374, Reference=None
2025-07-28 10:24:54,119 - NXTGiftClient - INFO - Gift 380: ID=131375, Reference=None
2025-07-28 10:24:54,119 - NXTGiftClient - INFO - Gift 381: ID=136996, Reference=None
2025-07-28 10:24:54,120 - NXTGiftClient - INFO - Gift 382: ID=136997, Reference=None
2025-07-28 10:24:54,120 - NXTGiftClient - INFO - Gift 383: ID=141953, Reference=None
2025-07-28 10:24:54,120 - NXTGiftClient - INFO - Gift 384: ID=141954, Reference=None
2025-07-28 10:24:54,121 - NXTGiftClient - INFO - Gift 385: ID=529508, Reference=None
2025-07-28 10:24:54,121 - NXTGiftClient - INFO - Gift 386: ID=529627, Reference=None
2025-07-28 10:24:54,121 - NXTGiftClient - INFO - Gift 387: ID=534086, Reference=None
2025-07-28 10:24:54,121 - NXTGiftClient - INFO - Gift 388: ID=539312, Reference=None
2025-07-28 10:24:54,121 - NXTGiftClient - INFO - Gift 389: ID=544252, Reference=None
2025-07-28 10:24:54,121 - NXTGiftClient - INFO - Gift 390: ID=549137, Reference=None
2025-07-28 10:24:54,121 - NXTGiftClient - INFO - Gift 391: ID=553843, Reference=None
2025-07-28 10:24:54,121 - NXTGiftClient - INFO - Gift 392: ID=558911, Reference=None
2025-07-28 10:24:54,122 - NXTGiftClient - INFO - Gift 393: ID=563733, Reference=None
2025-07-28 10:24:54,122 - NXTGiftClient - INFO - Gift 394: ID=568285, Reference=None
2025-07-28 10:24:54,122 - NXTGiftClient - INFO - Gift 395: ID=572372, Reference=None
2025-07-28 10:24:54,122 - NXTGiftClient - INFO - Gift 396: ID=575489, Reference=None
2025-07-28 10:24:54,122 - NXTGiftClient - INFO - Gift 397: ID=580510, Reference=None
2025-07-28 10:24:54,122 - NXTGiftClient - INFO - Gift 398: ID=584573, Reference=None
2025-07-28 10:24:54,122 - NXTGiftClient - INFO - Gift 399: ID=588961, Reference=None
2025-07-28 10:24:54,122 - NXTGiftClient - INFO - Gift 400: ID=593189, Reference=None
2025-07-28 10:24:54,123 - NXTGiftClient - INFO - Gift 401: ID=597107, Reference=None
2025-07-28 10:24:54,123 - NXTGiftClient - INFO - Gift 402: ID=601695, Reference=None
2025-07-28 10:24:54,123 - NXTGiftClient - INFO - Gift 403: ID=605499, Reference=None
2025-07-28 10:24:54,124 - NXTGiftClient - INFO - Gift 404: ID=609796, Reference=None
2025-07-28 10:24:54,124 - NXTGiftClient - INFO - Gift 405: ID=613685, Reference=None
2025-07-28 10:24:54,124 - NXTGiftClient - INFO - Gift 406: ID=617344, Reference=None
2025-07-28 10:24:54,124 - NXTGiftClient - INFO - Gift 407: ID=621076, Reference=None
2025-07-28 10:24:54,124 - NXTGiftClient - INFO - Gift 408: ID=624796, Reference=None
2025-07-28 10:24:54,124 - NXTGiftClient - INFO - Gift 409: ID=628518, Reference=None
2025-07-28 10:24:54,125 - NXTGiftClient - INFO - Gift 410: ID=632457, Reference=None
2025-07-28 10:24:54,125 - NXTGiftClient - INFO - Gift 411: ID=636328, Reference=None
2025-07-28 10:24:54,125 - NXTGiftClient - INFO - Gift 412: ID=640098, Reference=None
2025-07-28 10:24:54,125 - NXTGiftClient - INFO - Gift 413: ID=644517, Reference=None
2025-07-28 10:24:54,125 - NXTGiftClient - INFO - Gift 414: ID=648497, Reference=None
2025-07-28 10:24:54,125 - NXTGiftClient - INFO - Gift 415: ID=652274, Reference=None
2025-07-28 10:24:54,125 - NXTGiftClient - INFO - Gift 416: ID=655911, Reference=None
2025-07-28 10:24:54,126 - NXTGiftClient - INFO - Gift 417: ID=659414, Reference=None
2025-07-28 10:24:54,126 - NXTGiftClient - INFO - Gift 418: ID=662779, Reference=None
2025-07-28 10:24:54,126 - NXTGiftClient - INFO - Gift 419: ID=666311, Reference=None
2025-07-28 10:24:54,126 - NXTGiftClient - INFO - Gift 420: ID=77078, Reference=None
2025-07-28 10:24:54,126 - NXTGiftClient - INFO - Gift 421: ID=82567, Reference=None
2025-07-28 10:24:54,126 - NXTGiftClient - INFO - Gift 422: ID=88205, Reference=None
2025-07-28 10:24:54,126 - NXTGiftClient - INFO - Gift 423: ID=93654, Reference=None
2025-07-28 10:24:54,126 - NXTGiftClient - INFO - Gift 424: ID=99173, Reference=None
2025-07-28 10:24:54,127 - NXTGiftClient - INFO - Gift 425: ID=105496, Reference=None
2025-07-28 10:24:54,127 - NXTGiftClient - INFO - Gift 426: ID=111468, Reference=None
2025-07-28 10:24:54,127 - NXTGiftClient - INFO - Gift 427: ID=117319, Reference=None
2025-07-28 10:24:54,127 - NXTGiftClient - INFO - Gift 428: ID=123178, Reference=None
2025-07-28 10:24:54,127 - NXTGiftClient - INFO - Gift 429: ID=128400, Reference=None
2025-07-28 10:24:54,127 - NXTGiftClient - INFO - Gift 430: ID=133995, Reference=None
2025-07-28 10:24:54,127 - NXTGiftClient - INFO - Gift 431: ID=139458, Reference=None
2025-07-28 10:24:54,128 - NXTGiftClient - INFO - Gift 432: ID=144717, Reference=None
2025-07-28 10:24:54,128 - NXTGiftClient - INFO - Gift 433: ID=150459, Reference=None
2025-07-28 10:24:54,128 - NXTGiftClient - INFO - Gift 434: ID=155837, Reference=None
2025-07-28 10:24:54,128 - NXTGiftClient - INFO - Gift 435: ID=161046, Reference=None
2025-07-28 10:24:54,128 - NXTGiftClient - INFO - Gift 436: ID=166588, Reference=None
2025-07-28 10:24:54,128 - NXTGiftClient - INFO - Gift 437: ID=172484, Reference=None
2025-07-28 10:24:54,129 - NXTGiftClient - INFO - Gift 438: ID=177619, Reference=None
2025-07-28 10:24:54,129 - NXTGiftClient - INFO - Gift 439: ID=182648, Reference=None
2025-07-28 10:24:54,129 - NXTGiftClient - INFO - Gift 440: ID=187635, Reference=None
2025-07-28 10:24:54,132 - NXTGiftClient - INFO - Gift 441: ID=192485, Reference=None
2025-07-28 10:24:54,132 - NXTGiftClient - INFO - Gift 442: ID=197096, Reference=None
2025-07-28 10:24:54,133 - NXTGiftClient - INFO - Gift 443: ID=201527, Reference=None
2025-07-28 10:24:54,133 - NXTGiftClient - INFO - Gift 444: ID=206081, Reference=None
2025-07-28 10:24:54,133 - NXTGiftClient - INFO - Gift 445: ID=210820, Reference=None
2025-07-28 10:24:54,133 - NXTGiftClient - INFO - Gift 446: ID=215571, Reference=None
2025-07-28 10:24:54,134 - NXTGiftClient - INFO - Gift 447: ID=220156, Reference=None
2025-07-28 10:24:54,134 - NXTGiftClient - INFO - Gift 448: ID=224893, Reference=None
2025-07-28 10:24:54,134 - NXTGiftClient - INFO - Gift 449: ID=230033, Reference=None
2025-07-28 10:24:54,134 - NXTGiftClient - INFO - Gift 450: ID=234778, Reference=None
2025-07-28 10:24:54,135 - NXTGiftClient - INFO - Gift 451: ID=239784, Reference=None
2025-07-28 10:24:54,135 - NXTGiftClient - INFO - Gift 452: ID=244086, Reference=None
2025-07-28 10:24:54,135 - NXTGiftClient - INFO - Gift 453: ID=248172, Reference=None
2025-07-28 10:24:54,135 - NXTGiftClient - INFO - Gift 454: ID=252194, Reference=None
2025-07-28 10:24:54,136 - NXTGiftClient - INFO - Gift 455: ID=256279, Reference=None
2025-07-28 10:24:54,136 - NXTGiftClient - INFO - Gift 456: ID=260463, Reference=None
2025-07-28 10:24:54,136 - NXTGiftClient - INFO - Gift 457: ID=264387, Reference=None
2025-07-28 10:24:54,137 - NXTGiftClient - INFO - Gift 458: ID=268683, Reference=None
2025-07-28 10:24:54,137 - NXTGiftClient - INFO - Gift 459: ID=272870, Reference=None
2025-07-28 10:24:54,137 - NXTGiftClient - INFO - Gift 460: ID=276163, Reference=None
2025-07-28 10:24:54,138 - NXTGiftClient - INFO - Gift 461: ID=280914, Reference=None
2025-07-28 10:24:54,138 - NXTGiftClient - INFO - Gift 462: ID=365024, Reference=None
2025-07-28 10:24:54,138 - NXTGiftClient - INFO - Gift 463: ID=451981, Reference=None
2025-07-28 10:24:54,138 - NXTGiftClient - INFO - Gift 464: ID=521000, Reference=None
2025-07-28 10:24:54,138 - NXTGiftClient - INFO - Gift 465: ID=330685, Reference=None
2025-07-28 10:24:54,138 - NXTGiftClient - INFO - Gift 466: ID=428986, Reference=None
2025-07-28 10:24:54,139 - NXTGiftClient - INFO - Gift 467: ID=134127, Reference=None
2025-07-28 10:24:54,139 - NXTGiftClient - INFO - Gift 468: ID=139527, Reference=None
2025-07-28 10:24:54,139 - NXTGiftClient - INFO - Gift 469: ID=145071, Reference=None
2025-07-28 10:24:54,139 - NXTGiftClient - INFO - Gift 470: ID=150601, Reference=None
2025-07-28 10:24:54,139 - NXTGiftClient - INFO - Gift 471: ID=155953, Reference=None
2025-07-28 10:24:54,139 - NXTGiftClient - INFO - Gift 472: ID=161240, Reference=None
2025-07-28 10:24:54,139 - NXTGiftClient - INFO - Gift 473: ID=166732, Reference=None
2025-07-28 10:24:54,139 - NXTGiftClient - INFO - Gift 474: ID=167986, Reference=None
2025-07-28 10:24:54,140 - NXTGiftClient - INFO - Gift 475: ID=175329, Reference=None
2025-07-28 10:24:54,140 - NXTGiftClient - INFO - Gift 476: ID=182945, Reference=None
2025-07-28 10:24:54,140 - NXTGiftClient - INFO - Gift 477: ID=409833, Reference=None
2025-07-28 10:24:54,140 - NXTGiftClient - INFO - Gift 478: ID=435415, Reference=None
2025-07-28 10:24:54,140 - NXTGiftClient - INFO - Gift 479: ID=25796, Reference=None
2025-07-28 10:24:54,141 - NXTGiftClient - INFO - Gift 480: ID=30946, Reference=None
2025-07-28 10:24:54,141 - NXTGiftClient - INFO - Gift 481: ID=36499, Reference=None
2025-07-28 10:24:54,141 - NXTGiftClient - INFO - Gift 482: ID=42166, Reference=None
2025-07-28 10:24:54,141 - NXTGiftClient - INFO - Gift 483: ID=47554, Reference=None
2025-07-28 10:24:54,141 - NXTGiftClient - INFO - Gift 484: ID=53121, Reference=None
2025-07-28 10:24:54,142 - NXTGiftClient - INFO - Gift 485: ID=58576, Reference=None
2025-07-28 10:24:54,142 - NXTGiftClient - INFO - Gift 486: ID=64139, Reference=None
2025-07-28 10:24:54,142 - NXTGiftClient - INFO - Gift 487: ID=69513, Reference=None
2025-07-28 10:24:54,142 - NXTGiftClient - INFO - Gift 488: ID=74883, Reference=None
2025-07-28 10:24:54,142 - NXTGiftClient - INFO - Gift 489: ID=80624, Reference=None
2025-07-28 10:24:54,142 - NXTGiftClient - INFO - Gift 490: ID=86091, Reference=None
2025-07-28 10:24:54,143 - NXTGiftClient - INFO - Gift 491: ID=91714, Reference=None
2025-07-28 10:24:54,143 - NXTGiftClient - INFO - Gift 492: ID=97218, Reference=None
2025-07-28 10:24:54,143 - NXTGiftClient - INFO - Gift 493: ID=103383, Reference=None
2025-07-28 10:24:54,143 - NXTGiftClient - INFO - Gift 494: ID=109282, Reference=None
2025-07-28 10:24:54,143 - NXTGiftClient - INFO - Gift 495: ID=115147, Reference=None
2025-07-28 10:24:54,143 - NXTGiftClient - INFO - Gift 496: ID=120884, Reference=None
2025-07-28 10:24:54,143 - NXTGiftClient - INFO - Gift 497: ID=126660, Reference=None
2025-07-28 10:24:54,144 - NXTGiftClient - INFO - Gift 498: ID=132016, Reference=None
2025-07-28 10:24:54,144 - NXTGiftClient - INFO - Gift 499: ID=137230, Reference=None
2025-07-28 10:24:54,144 - NXTGiftClient - INFO - Gift 500: ID=142944, Reference=None
2025-07-28 10:24:54,145 - FinancialSyncService - INFO - Payment 668963 already processed, skipping
2025-07-28 10:24:54,145 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:24:54,145 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 0, 'skipped': 2, 'successful': 0, 'failed': 0, 'errors': []}
2025-07-28 10:24:54,145 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 0, 'skipped': 2, 'successful': 0, 'failed': 0, 'errors': []}
2025-07-28 10:26:14,874 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:26:14,879 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:26:14,879 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:26:14,881 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:26:14,881 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:26:14,882 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:26:14,882 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:26:14,882 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:26:14,882 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:26:14,883 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:26:14,883 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753710079.293201, Expires in: 3600, Time until expiry: 904 seconds
2025-07-28 10:26:15,218 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 10:26:15,218 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:26:15,218 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 10:26:15,218 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:26:15,219 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:26:15,219 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 1401 seconds
2025-07-28 10:26:17,625 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:26:17,625 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:26:17,626 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 10:26:17,626 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 10:26:17,627 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:26:17,627 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None
2025-07-28 10:26:17,627 - FinancialSyncService - ERROR - Payment 663085 missing required fields
2025-07-28 10:26:17,627 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 10:26:17,627 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:26:17,627 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 1399 seconds
2025-07-28 10:26:19,317 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:26:19,317 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:26:19,317 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 10:26:19,318 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 10:26:19,319 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:26:19,319 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None
2025-07-28 10:26:19,319 - FinancialSyncService - ERROR - Payment 668963 missing required fields
2025-07-28 10:26:19,319 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:26:19,319 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 10:26:19,319 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 10:26:19,320 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 10:39:51,074 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:39:51,084 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:39:51,084 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:39:51,085 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:39:51,085 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:39:51,086 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:39:51,087 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:39:51,087 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:39:51,087 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:39:51,088 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:39:51,089 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753710079.293201, Expires in: 3600, Time until expiry: 88 seconds
2025-07-28 10:39:51,089 - ServiceReefTokenService - INFO - ServiceReef token expires soon, refreshing
2025-07-28 10:39:51,089 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 10:39:51,089 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 10:39:51,551 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:39:51,551 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 10:39:51,901 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 10:39:51,901 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:39:51,901 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 10:39:51,901 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:39:51,902 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:39:51,902 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 584 seconds
2025-07-28 10:39:55,899 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:39:55,901 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:39:55,902 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 10:39:55,939 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 10:39:55,973 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:39:55,987 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 10:39:55,989 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 10:39:55,989 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 10:39:55,990 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 10:39:55,991 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753711190.549951, Expires in: 3600, Time until expiry: 1194 seconds
2025-07-28 10:39:56,413 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 10:39:56,414 - FinancialSyncService - ERROR - Error processing payment: 'MappingService' object has no attribute 'get_nxt_id'
Traceback (most recent call last):
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 205, in sync_payment
    constituent_id = self._get_or_create_constituent(donor_details)
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 274, in _get_or_create_constituent
    constituent_id = self.mapping_service.get_nxt_id(sr_id)
AttributeError: 'MappingService' object has no attribute 'get_nxt_id'
2025-07-28 10:39:56,418 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 10:39:56,418 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:39:56,418 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 580 seconds
2025-07-28 10:39:58,748 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:39:58,748 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:39:58,749 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 10:39:58,752 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 10:39:58,757 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:39:58,758 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 10:39:58,758 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 10:39:58,758 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 10:39:58,759 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 10:39:58,759 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753711190.549951, Expires in: 3600, Time until expiry: 1191 seconds
2025-07-28 10:39:59,655 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 10:39:59,657 - FinancialSyncService - ERROR - Error processing payment: 'MappingService' object has no attribute 'get_nxt_id'
Traceback (most recent call last):
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 205, in sync_payment
    constituent_id = self._get_or_create_constituent(donor_details)
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 274, in _get_or_create_constituent
    constituent_id = self.mapping_service.get_nxt_id(sr_id)
AttributeError: 'MappingService' object has no attribute 'get_nxt_id'
2025-07-28 10:39:59,658 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:39:59,659 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 10:39:59,659 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 10:39:59,660 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 10:44:23,919 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:44:23,924 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:44:23,924 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:44:23,925 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:44:23,925 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:44:23,926 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:44:23,927 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:44:23,927 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:44:23,927 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:44:23,928 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:44:23,928 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753711190.549951, Expires in: 3600, Time until expiry: 926 seconds
2025-07-28 10:44:24,320 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 10:44:24,320 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:44:24,320 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 10:44:24,321 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:44:24,321 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:44:24,322 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 312 seconds
2025-07-28 10:44:26,497 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:44:26,497 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:44:26,497 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 10:44:26,498 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 10:44:26,498 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:44:26,498 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 10:44:26,499 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 10:44:26,499 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 10:44:26,499 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 10:44:26,499 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753711190.549951, Expires in: 3600, Time until expiry: 924 seconds
2025-07-28 10:44:26,831 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 10:44:26,831 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 10:44:26,831 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 309 seconds
2025-07-28 10:44:28,368 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 10:44:28,369 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 10:44:28,369 - FinancialSyncService - INFO - Creating gift for payment 663085 (constituent: 29775, fund: 1064)
2025-07-28 10:44:28,369 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 10:44:28,369 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 308 seconds
2025-07-28 10:44:28,643 - NXTGiftClient - ERROR - API error: 400 - [{"message":"Error converting value 100 to type 'Currency'. Path 'amount', line 1, position 43.","error_code":400,"raw_message":"Error converting value 100 to type 'Currency'. Path 'amount', line 1, position 43."},{"message":"The amount field is required.","error_code":400,"raw_message":"The amount field is required."},{"message":"Error converting value 100 to type 'Currency'. Path 'gift_splits[0].amount', line 1, position 197.","error_code":400,"raw_message":"Error converting value 100 to type 'Currency'. Path 'gift_splits[0].amount', line 1, position 197."},{"message":"The amount field is required.","error_code":400,"raw_message":"The amount field is required."}]
2025-07-28 10:44:28,647 - FinancialSyncService - INFO - Successfully created gift None for payment 663085
2025-07-28 10:44:28,648 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 10:44:28,648 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:44:28,649 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 308 seconds
2025-07-28 10:44:30,873 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:44:30,873 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:44:30,874 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 10:44:30,874 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 10:44:30,875 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:44:30,875 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 10:44:30,875 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 10:44:30,875 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 10:44:30,876 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 10:44:30,876 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753711190.549951, Expires in: 3600, Time until expiry: 919 seconds
2025-07-28 10:44:31,185 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 10:44:31,186 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 10:44:31,186 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 305 seconds
2025-07-28 10:44:31,929 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 10:44:31,929 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 10:44:31,929 - FinancialSyncService - INFO - Creating gift for payment 668963 (constituent: 29775, fund: 1064)
2025-07-28 10:44:31,929 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 10:44:31,930 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 304 seconds
2025-07-28 10:44:32,192 - NXTGiftClient - ERROR - API error: 400 - [{"message":"Error converting value 100 to type 'Currency'. Path 'amount', line 1, position 43.","error_code":400,"raw_message":"Error converting value 100 to type 'Currency'. Path 'amount', line 1, position 43."},{"message":"The amount field is required.","error_code":400,"raw_message":"The amount field is required."},{"message":"Error converting value 100 to type 'Currency'. Path 'gift_splits[0].amount', line 1, position 197.","error_code":400,"raw_message":"Error converting value 100 to type 'Currency'. Path 'gift_splits[0].amount', line 1, position 197."},{"message":"The amount field is required.","error_code":400,"raw_message":"The amount field is required."}]
2025-07-28 10:44:32,194 - FinancialSyncService - INFO - Successfully created gift None for payment 668963
2025-07-28 10:44:32,195 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:44:32,195 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 10:44:32,195 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 10:46:25,880 - financial_sync - INFO - Starting financial sync script
2025-07-28 10:46:25,886 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 10:46:25,886 - MappingService - INFO - Loading existing event mapping file
2025-07-28 10:46:25,887 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 10:46:25,887 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 10:46:25,888 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:46:25,888 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 10:46:25,888 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 10:46:25,888 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 10:46:25,889 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 10:46:25,889 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753711190.549951, Expires in: 3600, Time until expiry: 804 seconds
2025-07-28 10:46:26,283 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 10:46:26,283 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:46:26,283 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 10:46:26,284 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:46:26,284 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:46:26,284 - NXTTokenService - INFO - NXT token status - Fetched: 1753710576.8263512, Expires in: 3600, Time until expiry: 190 seconds
2025-07-28 10:46:26,285 - NXTTokenService - INFO - NXT token expires soon, refreshing
2025-07-28 10:46:26,285 - NXTTokenService - INFO - NXT token expired or missing, refreshing
2025-07-28 10:46:26,285 - NXTTokenService - INFO - Refreshing NXT access token
2025-07-28 10:46:27,100 - NXTTokenService - INFO - Saved NXT token data to /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 10:46:27,101 - NXTTokenService - INFO - NXT token refreshed successfully
2025-07-28 10:46:29,853 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:46:29,853 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:46:29,853 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 10:46:29,854 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 10:46:29,854 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:46:29,855 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 10:46:29,855 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 10:46:29,855 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 10:46:29,855 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 10:46:29,855 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753711190.549951, Expires in: 3600, Time until expiry: 800 seconds
2025-07-28 10:46:30,139 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 10:46:30,139 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 10:46:30,140 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 3596 seconds
2025-07-28 10:46:31,067 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 10:46:31,067 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 10:46:31,067 - FinancialSyncService - INFO - Creating gift for payment 663085 (constituent: 29775, fund: 1064)
2025-07-28 10:46:31,067 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 10:46:31,067 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 3596 seconds
2025-07-28 10:46:31,598 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 10:46:31,600 - FinancialSyncService - INFO - Successfully created gift None for payment 663085
2025-07-28 10:46:31,601 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 10:46:31,601 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 10:46:31,601 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 3595 seconds
2025-07-28 10:46:33,804 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 10:46:33,805 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 10:46:33,805 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 10:46:33,806 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 10:46:33,806 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 10:46:33,806 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 10:46:33,807 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 10:46:33,807 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 10:46:33,807 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 10:46:33,807 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753711190.549951, Expires in: 3600, Time until expiry: 796 seconds
2025-07-28 10:46:34,099 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 10:46:34,100 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 10:46:34,100 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 3592 seconds
2025-07-28 10:46:34,417 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 10:46:34,417 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 10:46:34,418 - FinancialSyncService - INFO - Creating gift for payment 668963 (constituent: 29775, fund: 1064)
2025-07-28 10:46:34,418 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 10:46:34,418 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 3592 seconds
2025-07-28 10:46:35,280 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 10:46:35,284 - FinancialSyncService - INFO - Successfully created gift None for payment 668963
2025-07-28 10:46:35,284 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 10:46:35,284 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 10:46:35,284 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:17:43,348 - financial_sync - INFO - Starting financial sync script
2025-07-28 11:17:43,354 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 11:17:43,354 - MappingService - INFO - Loading existing event mapping file
2025-07-28 11:17:43,355 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 11:17:43,355 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 11:17:43,356 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:17:43,356 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:17:43,357 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 11:17:43,357 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 11:17:43,357 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 11:17:43,358 - ServiceReefTokenService - INFO - ServiceReef token expired
2025-07-28 11:17:43,358 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 11:17:43,358 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 11:17:43,817 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 11:17:43,817 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 11:17:44,151 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 11:17:44,151 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:17:44,152 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 11:17:44,152 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:17:44,153 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 11:17:44,153 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1722 seconds
2025-07-28 11:17:49,895 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:17:49,896 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:17:49,896 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 11:17:49,897 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 11:17:49,898 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:17:49,898 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:17:49,898 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:17:49,898 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:17:49,898 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:17:49,898 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753713462.816482, Expires in: 3600, Time until expiry: 1192 seconds
2025-07-28 11:17:50,224 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:17:50,224 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:17:50,225 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1716 seconds
2025-07-28 11:17:51,775 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:17:51,776 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:17:51,776 - FinancialSyncService - INFO - Creating gift for payment 663085 (constituent: 29775, fund: 1064)
2025-07-28 11:17:51,776 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:17:51,777 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-03T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-663085",
  "lookup_id": "SR-Payment-663085",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:17:51,777 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1715 seconds
2025-07-28 11:17:52,244 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:17:52,247 - FinancialSyncService - INFO - Successfully created gift None for payment 663085
2025-07-28 11:17:52,247 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 11:17:52,247 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:17:52,248 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1714 seconds
2025-07-28 11:17:54,256 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:17:54,256 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:17:54,257 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 11:17:54,258 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 11:17:54,258 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:17:54,258 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:17:54,258 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:17:54,258 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:17:54,258 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:17:54,259 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753713462.816482, Expires in: 3600, Time until expiry: 1188 seconds
2025-07-28 11:17:54,635 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:17:54,635 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:17:54,635 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1712 seconds
2025-07-28 11:17:55,158 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:17:55,159 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:17:55,159 - FinancialSyncService - INFO - Creating gift for payment 668963 (constituent: 29775, fund: 1064)
2025-07-28 11:17:55,159 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:17:55,160 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-24T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-668963",
  "lookup_id": "SR-Payment-668963",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:17:55,160 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1711 seconds
2025-07-28 11:17:55,534 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:17:55,538 - FinancialSyncService - INFO - Successfully created gift None for payment 668963
2025-07-28 11:17:55,538 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 11:17:55,538 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:17:55,539 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:19:59,385 - financial_sync - INFO - Starting financial sync script
2025-07-28 11:19:59,392 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 11:19:59,392 - MappingService - INFO - Loading existing event mapping file
2025-07-28 11:19:59,393 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 11:19:59,393 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 11:19:59,394 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:19:59,394 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:19:59,394 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 11:19:59,394 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 11:19:59,395 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 11:19:59,395 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753713462.816482, Expires in: 3600, Time until expiry: 1063 seconds
2025-07-28 11:19:59,711 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 11:19:59,711 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:19:59,712 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 11:19:59,712 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:19:59,713 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 11:19:59,713 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1587 seconds
2025-07-28 11:20:02,350 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:20:02,350 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:20:02,351 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 11:20:02,352 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 11:20:02,352 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:20:02,352 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:20:02,352 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:20:02,352 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:20:02,353 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:20:02,353 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753713462.816482, Expires in: 3600, Time until expiry: 1060 seconds
2025-07-28 11:20:02,645 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:20:02,645 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:20:02,645 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1584 seconds
2025-07-28 11:20:09,576 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:20:09,577 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:20:09,577 - FinancialSyncService - INFO - Creating gift for payment 663085 (constituent: 29775, fund: 1064)
2025-07-28 11:20:09,577 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:20:09,577 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-03T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-663085",
  "lookup_id": "SR-Payment-663085",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:20:09,578 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1577 seconds
2025-07-28 11:20:10,101 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:20:10,104 - FinancialSyncService - INFO - Successfully created gift None for payment 663085
2025-07-28 11:20:10,104 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 11:20:10,104 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:20:10,104 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1576 seconds
2025-07-28 11:20:11,960 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:20:11,961 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:20:11,961 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 11:20:11,962 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 11:20:11,962 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:20:11,962 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:20:11,962 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:20:11,962 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:20:11,962 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:20:11,963 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753713462.816482, Expires in: 3600, Time until expiry: 1050 seconds
2025-07-28 11:20:12,256 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:20:12,256 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:20:12,257 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1574 seconds
2025-07-28 11:20:13,324 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:20:13,325 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:20:13,325 - FinancialSyncService - INFO - Creating gift for payment 668963 (constituent: 29775, fund: 1064)
2025-07-28 11:20:13,325 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:20:13,326 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-24T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-668963",
  "lookup_id": "SR-Payment-668963",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:20:13,326 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 1573 seconds
2025-07-28 11:20:13,683 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:20:13,686 - FinancialSyncService - INFO - Successfully created gift None for payment 668963
2025-07-28 11:20:13,687 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 11:20:13,687 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:20:13,687 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:32:37,365 - financial_sync - INFO - Starting financial sync script
2025-07-28 11:32:37,377 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 11:32:37,377 - MappingService - INFO - Loading existing event mapping file
2025-07-28 11:32:37,378 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 11:32:37,378 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 11:32:37,379 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:32:37,379 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:32:37,379 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 11:32:37,380 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 11:32:37,380 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 11:32:37,380 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753713462.816482, Expires in: 3600, Time until expiry: 305 seconds
2025-07-28 11:32:37,761 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 11:32:37,762 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:32:37,763 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 11:32:37,763 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:32:37,764 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 11:32:37,765 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 829 seconds
2025-07-28 11:32:40,609 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:32:40,609 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:32:40,610 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 11:32:40,611 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 11:32:40,611 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:32:40,611 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:32:40,612 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:32:40,612 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:32:40,612 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:32:40,612 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753713462.816482, Expires in: 3600, Time until expiry: 302 seconds
2025-07-28 11:32:40,900 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:32:40,900 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:32:40,900 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 826 seconds
2025-07-28 11:32:42,355 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:32:42,355 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:32:42,355 - FinancialSyncService - INFO - Creating gift for payment 663085 (constituent: 29775, fund: 1064)
2025-07-28 11:32:42,356 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:32:42,356 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-03T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-663085",
  "lookup_id": "SR-Payment-663085",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:32:42,356 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 824 seconds
2025-07-28 11:32:42,788 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:32:42,791 - FinancialSyncService - INFO - Successfully created gift None for payment 663085
2025-07-28 11:32:42,792 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 11:32:42,792 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:32:42,792 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 824 seconds
2025-07-28 11:32:44,890 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:32:44,890 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:32:44,891 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 11:32:44,892 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 11:32:44,892 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:32:44,893 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:32:44,893 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:32:44,894 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:32:44,894 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:32:44,895 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753713462.816482, Expires in: 3600, Time until expiry: 297 seconds
2025-07-28 11:32:44,896 - ServiceReefTokenService - INFO - ServiceReef token expires soon, refreshing
2025-07-28 11:32:44,897 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 11:32:44,898 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 11:32:45,172 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 11:32:45,173 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 11:32:45,500 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:32:45,501 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:32:45,501 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 821 seconds
2025-07-28 11:32:46,429 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:32:46,430 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:32:46,430 - FinancialSyncService - INFO - Creating gift for payment 668963 (constituent: 29775, fund: 1064)
2025-07-28 11:32:46,430 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:32:46,431 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-24T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-668963",
  "lookup_id": "SR-Payment-668963",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:32:46,431 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 820 seconds
2025-07-28 11:32:46,851 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:32:46,856 - FinancialSyncService - INFO - Successfully created gift None for payment 668963
2025-07-28 11:32:46,857 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 11:32:46,857 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:32:46,858 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:36:24,314 - financial_sync - INFO - Starting financial sync script
2025-07-28 11:36:24,328 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 11:36:24,329 - MappingService - INFO - Loading existing event mapping file
2025-07-28 11:36:24,330 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 11:36:24,330 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 11:36:24,330 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:36:24,331 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:36:24,331 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 11:36:24,331 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 11:36:24,332 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 11:36:24,332 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 979 seconds
2025-07-28 11:36:24,670 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 11:36:24,670 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:36:24,671 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 11:36:24,671 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:36:24,672 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 11:36:24,672 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 602 seconds
2025-07-28 11:36:28,074 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:36:28,074 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:36:28,074 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 11:36:28,075 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 11:36:28,075 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:36:28,075 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:36:28,076 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:36:28,076 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:36:28,076 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:36:28,076 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 976 seconds
2025-07-28 11:36:28,381 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:36:28,382 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:36:28,382 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 598 seconds
2025-07-28 11:36:28,896 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:36:28,896 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:36:28,896 - FinancialSyncService - INFO - Creating gift for payment 663085 (constituent: 29775, fund: 1064)
2025-07-28 11:36:28,896 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:36:28,897 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-03T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-663085",
  "lookup_id": "SR-Payment-663085",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:36:28,897 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 598 seconds
2025-07-28 11:36:29,303 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:36:29,306 - FinancialSyncService - INFO - Successfully created gift {'error': True, 'status_code': 403, 'details': [{'message': 'The user does not have permission to perform this operation', 'error_name': 'RequestNotFulfilled', 'error_code': 403, 'raw_message': 'The user does not have permission to perform this operation', 'error_args': []}]} for payment 663085
2025-07-28 11:36:29,306 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 11:36:29,307 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:36:29,307 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 597 seconds
2025-07-28 11:36:34,185 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:36:34,186 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:36:34,186 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 11:36:34,187 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 11:36:34,187 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:36:34,187 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:36:34,187 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:36:34,187 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:36:34,187 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:36:34,188 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 969 seconds
2025-07-28 11:36:34,498 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:36:34,499 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:36:34,499 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 592 seconds
2025-07-28 11:36:35,500 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:36:35,501 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:36:35,501 - FinancialSyncService - INFO - Creating gift for payment 668963 (constituent: 29775, fund: 1064)
2025-07-28 11:36:35,501 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:36:35,501 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-24T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-668963",
  "lookup_id": "SR-Payment-668963",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:36:35,502 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 591 seconds
2025-07-28 11:36:35,799 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:36:35,801 - FinancialSyncService - INFO - Successfully created gift {'error': True, 'status_code': 403, 'details': [{'message': 'The user does not have permission to perform this operation', 'error_name': 'RequestNotFulfilled', 'error_code': 403, 'raw_message': 'The user does not have permission to perform this operation', 'error_args': []}]} for payment 668963
2025-07-28 11:36:35,802 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 11:36:35,802 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:36:35,802 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:37:43,115 - financial_sync - INFO - Starting financial sync script
2025-07-28 11:37:43,119 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 11:37:43,119 - MappingService - INFO - Loading existing event mapping file
2025-07-28 11:37:43,120 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 11:37:43,120 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 11:37:43,121 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:37:43,121 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:37:43,121 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 11:37:43,122 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 11:37:43,122 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 11:37:43,123 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 901 seconds
2025-07-28 11:37:43,454 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 11:37:43,454 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:37:43,454 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 11:37:43,455 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:37:43,456 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 11:37:43,456 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 523 seconds
2025-07-28 11:37:45,814 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:37:45,814 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:37:45,814 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 11:37:45,815 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 11:37:45,815 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:37:45,815 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:37:45,815 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:37:45,816 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:37:45,816 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:37:45,816 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 898 seconds
2025-07-28 11:37:46,121 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:37:46,122 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:37:46,122 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 520 seconds
2025-07-28 11:37:47,737 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:37:47,737 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:37:47,737 - FinancialSyncService - INFO - Creating gift for payment 663085 (constituent: 29775, fund: 1064)
2025-07-28 11:37:47,737 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:37:47,738 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-03T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-663085",
  "lookup_id": "SR-Payment-663085",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:37:47,738 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 519 seconds
2025-07-28 11:37:48,114 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:37:48,117 - FinancialSyncService - ERROR - Failed to create gift for payment 663085: API error 403 - [{'message': 'The user does not have permission to perform this operation', 'error_name': 'RequestNotFulfilled', 'error_code': 403, 'raw_message': 'The user does not have permission to perform this operation', 'error_args': []}]
2025-07-28 11:37:48,117 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 11:37:48,117 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:37:48,117 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 518 seconds
2025-07-28 11:37:50,329 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:37:50,330 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:37:50,330 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 11:37:50,331 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 11:37:50,331 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:37:50,331 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:37:50,331 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:37:50,331 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:37:50,332 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:37:50,332 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 893 seconds
2025-07-28 11:37:50,628 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:37:50,628 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:37:50,628 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 516 seconds
2025-07-28 11:37:51,301 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:37:51,301 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:37:51,301 - FinancialSyncService - INFO - Creating gift for payment 668963 (constituent: 29775, fund: 1064)
2025-07-28 11:37:51,301 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:37:51,302 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-24T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-668963",
  "lookup_id": "SR-Payment-668963",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:37:51,302 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 515 seconds
2025-07-28 11:37:51,667 - NXTGiftClient - ERROR - API error: 403 - [{"message":"The user does not have permission to perform this operation","error_name":"RequestNotFulfilled","error_code":403,"raw_message":"The user does not have permission to perform this operation","error_args":[]}]
2025-07-28 11:37:51,671 - FinancialSyncService - ERROR - Failed to create gift for payment 668963: API error 403 - [{'message': 'The user does not have permission to perform this operation', 'error_name': 'RequestNotFulfilled', 'error_code': 403, 'raw_message': 'The user does not have permission to perform this operation', 'error_args': []}]
2025-07-28 11:37:51,672 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 11:37:51,672 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 11:37:51,672 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 11:37:51,673 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 11:44:18,541 - financial_sync - INFO - Starting financial sync script
2025-07-28 11:44:18,555 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 11:44:18,555 - MappingService - INFO - Loading existing event mapping file
2025-07-28 11:44:18,555 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 11:44:18,556 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 11:44:18,557 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:44:18,557 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 11:44:18,558 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 11:44:18,558 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 11:44:18,560 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 11:44:18,560 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 505 seconds
2025-07-28 11:44:19,014 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 11:44:19,014 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:44:19,014 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-663085 exists
2025-07-28 11:44:19,014 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:44:19,015 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 11:44:19,016 - NXTTokenService - INFO - NXT token status - Fetched: 1753713987.097794, Expires in: 3600, Time until expiry: 128 seconds
2025-07-28 11:44:19,016 - NXTTokenService - INFO - NXT token expires soon, refreshing
2025-07-28 11:44:19,016 - NXTTokenService - INFO - NXT token expired or missing, refreshing
2025-07-28 11:44:19,016 - NXTTokenService - INFO - Refreshing NXT access token
2025-07-28 11:44:19,700 - NXTTokenService - INFO - Saved NXT token data to /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 11:44:19,700 - NXTTokenService - INFO - NXT token refreshed successfully
2025-07-28 11:44:21,545 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:44:21,545 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:44:21,545 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-663085
2025-07-28 11:44:21,546 - FinancialSyncService - INFO - Processing payment 663085
2025-07-28 11:44:21,546 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:44:21,546 - FinancialSyncService - INFO - Processing payment: ID=663085, Amount=100.0, Date=2025-07-03T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:44:21,546 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:44:21,546 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:44:21,547 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:44:21,547 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 502 seconds
2025-07-28 11:44:21,844 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:44:21,845 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:44:21,845 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 3597 seconds
2025-07-28 11:44:22,779 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:44:22,779 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:44:22,779 - FinancialSyncService - INFO - Creating gift for payment 663085 (constituent: 29775, fund: 1064)
2025-07-28 11:44:22,779 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:44:22,780 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-03T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-663085",
  "lookup_id": "SR-Payment-663085",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:44:22,780 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 3596 seconds
2025-07-28 11:44:23,856 - FinancialSyncService - INFO - Successfully created gift 670142 for payment 663085
2025-07-28 11:44:23,856 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-668963 exists
2025-07-28 11:44:23,856 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 11:44:23,857 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 3595 seconds
2025-07-28 11:44:25,472 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 11:44:25,472 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 11:44:25,472 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-668963
2025-07-28 11:44:25,473 - FinancialSyncService - INFO - Processing payment 668963
2025-07-28 11:44:25,473 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 11:44:25,473 - FinancialSyncService - INFO - Processing payment: ID=668963, Amount=100.0, Date=2025-07-24T16:00:00Z, UserId=None, DonatedToUserId=186542
2025-07-28 11:44:25,474 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 186542 instead
2025-07-28 11:44:25,474 - FinancialSyncService - INFO - Retrieving donor 186542 information
2025-07-28 11:44:25,474 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 186542
2025-07-28 11:44:25,474 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753714364.1708539, Expires in: 3600, Time until expiry: 498 seconds
2025-07-28 11:44:25,761 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 186542
2025-07-28 11:44:25,762 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 186542 -> NXT 29775
2025-07-28 11:44:25,762 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 3593 seconds
2025-07-28 11:44:26,137 - FinancialSyncService - INFO - Verified constituent 29775 exists in NXT
2025-07-28 11:44:26,138 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 11:44:26,138 - FinancialSyncService - INFO - Creating gift for payment 668963 (constituent: 29775, fund: 1064)
2025-07-28 11:44:26,139 - NXTGiftClient - INFO - Creating gift for constituent 29775
2025-07-28 11:44:26,139 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "29775",
  "amount": {
    "value": 100.0
  },
  "date": "2025-07-24T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-668963",
  "lookup_id": "SR-Payment-668963",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 100.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 11:44:26,139 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 3593 seconds
2025-07-28 11:44:26,667 - FinancialSyncService - INFO - Successfully created gift 670143 for payment 668963
2025-07-28 11:44:26,668 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 11:44:26,668 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 11:44:26,668 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 12:12:57,465 - financial_sync - INFO - Starting financial sync script
2025-07-28 12:12:57,479 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 12:12:57,479 - MappingService - INFO - Loading existing event mapping file
2025-07-28 12:12:57,480 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 12:12:57,480 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 12:12:57,481 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 12:12:57,481 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 12:12:57,481 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 12:12:57,481 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 12:12:57,482 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 12:12:57,482 - ServiceReefTokenService - INFO - ServiceReef token expired
2025-07-28 12:12:57,483 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 12:12:57,483 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 12:12:57,854 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 12:12:57,854 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 12:12:58,101 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 12:12:58,101 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:12:58,101 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 12:12:58,101 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:12:58,102 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 12:12:58,102 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1881 seconds
2025-07-28 12:13:04,857 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:13:04,858 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:13:04,858 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 12:13:04,859 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 12:13:04,859 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:13:04,859 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 12:13:04,859 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 194931 instead
2025-07-28 12:13:04,860 - FinancialSyncService - INFO - Retrieving donor 194931 information
2025-07-28 12:13:04,860 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 194931
2025-07-28 12:13:04,860 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753716776.8522701, Expires in: 3600, Time until expiry: 1191 seconds
2025-07-28 12:13:05,222 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 194931
2025-07-28 12:13:05,223 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 194931 -> NXT 74932
2025-07-28 12:13:05,223 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1874 seconds
2025-07-28 12:13:08,211 - FinancialSyncService - INFO - Verified constituent 74932 exists in NXT
2025-07-28 12:13:08,211 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 12:13:08,211 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74932, fund: 1064)
2025-07-28 12:13:08,211 - NXTGiftClient - INFO - Creating gift for constituent 74932
2025-07-28 12:13:08,211 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74932",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 12:13:08,212 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1871 seconds
2025-07-28 12:13:09,373 - FinancialSyncService - INFO - Successfully created gift 670144 for payment 669922
2025-07-28 12:13:09,373 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 12:13:09,373 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:13:09,373 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1870 seconds
2025-07-28 12:13:12,383 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:13:12,383 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:13:12,383 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 12:13:12,384 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 12:13:12,384 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:13:12,384 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 12:13:12,384 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 194931 instead
2025-07-28 12:13:12,384 - FinancialSyncService - INFO - Retrieving donor 194931 information
2025-07-28 12:13:12,385 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 194931
2025-07-28 12:13:12,385 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753716776.8522701, Expires in: 3600, Time until expiry: 1184 seconds
2025-07-28 12:13:12,674 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 194931
2025-07-28 12:13:12,674 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 194931 -> NXT 74932
2025-07-28 12:13:12,674 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1867 seconds
2025-07-28 12:13:13,862 - FinancialSyncService - INFO - Verified constituent 74932 exists in NXT
2025-07-28 12:13:13,863 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 12:13:13,863 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74932, fund: 1064)
2025-07-28 12:13:13,863 - NXTGiftClient - INFO - Creating gift for constituent 74932
2025-07-28 12:13:13,863 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74932",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 12:13:13,863 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1865 seconds
2025-07-28 12:13:14,428 - FinancialSyncService - INFO - Successfully created gift 670145 for payment 669928
2025-07-28 12:13:14,428 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 12:13:14,429 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 12:13:14,429 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 12:22:52,857 - financial_sync - INFO - Starting financial sync script
2025-07-28 12:22:52,874 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 12:22:52,874 - MappingService - INFO - Loading existing event mapping file
2025-07-28 12:22:52,875 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 12:22:52,875 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 12:22:52,876 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 12:22:52,876 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 12:22:52,876 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 12:22:52,877 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 12:22:52,877 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 12:22:52,877 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753716776.8522701, Expires in: 3600, Time until expiry: 603 seconds
2025-07-28 12:22:53,349 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 12:22:53,350 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:22:53,351 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 12:22:53,351 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:22:53,353 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 12:22:53,353 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1286 seconds
2025-07-28 12:22:55,794 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:22:55,795 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:22:55,795 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 12:22:55,796 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 12:22:55,796 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:22:55,796 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 12:22:55,796 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 194931 instead
2025-07-28 12:22:55,797 - FinancialSyncService - INFO - Retrieving donor 194931 information
2025-07-28 12:22:55,797 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 194931
2025-07-28 12:22:55,797 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753716776.8522701, Expires in: 3600, Time until expiry: 601 seconds
2025-07-28 12:22:56,127 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 194931
2025-07-28 12:22:56,128 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 194931 -> NXT 74932
2025-07-28 12:22:56,128 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1283 seconds
2025-07-28 12:22:57,058 - FinancialSyncService - INFO - Verified constituent 74932 exists in NXT
2025-07-28 12:22:57,058 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 12:22:57,058 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74932, fund: 1064)
2025-07-28 12:22:57,058 - NXTGiftClient - INFO - Creating gift for constituent 74932
2025-07-28 12:22:57,059 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74932",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 12:22:57,059 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1282 seconds
2025-07-28 12:22:57,740 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669922' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 12:22:57,743 - NXTGiftClient - INFO - Gift creation API response: {
  "error": true,
  "status_code": 400,
  "details": [
    {
      "message": "The provided gift lookup ID 'SR-Payment-669922' already exists.",
      "error_name": "GiftLookupIdAlreadyExists",
      "error_code": 25028,
      "raw_message": "The provided gift lookup ID 'SR-Payment-669922' already exists."
    }
  ]
}
2025-07-28 12:22:57,743 - FinancialSyncService - ERROR - Failed to create gift for payment 669922: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669922' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 12:22:57,743 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 12:22:57,743 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:22:57,744 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1281 seconds
2025-07-28 12:22:59,799 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:22:59,799 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:22:59,800 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 12:22:59,800 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 12:22:59,800 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:22:59,801 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 12:22:59,801 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 194931 instead
2025-07-28 12:22:59,801 - FinancialSyncService - INFO - Retrieving donor 194931 information
2025-07-28 12:22:59,801 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 194931
2025-07-28 12:22:59,801 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753716776.8522701, Expires in: 3600, Time until expiry: 597 seconds
2025-07-28 12:23:00,097 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 194931
2025-07-28 12:23:00,097 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 194931 -> NXT 74932
2025-07-28 12:23:00,097 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1279 seconds
2025-07-28 12:23:00,912 - FinancialSyncService - INFO - Verified constituent 74932 exists in NXT
2025-07-28 12:23:00,913 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 12:23:00,913 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74932, fund: 1064)
2025-07-28 12:23:00,913 - NXTGiftClient - INFO - Creating gift for constituent 74932
2025-07-28 12:23:00,913 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74932",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 12:23:00,913 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 1278 seconds
2025-07-28 12:23:01,488 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669928' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 12:23:01,491 - NXTGiftClient - INFO - Gift creation API response: {
  "error": true,
  "status_code": 400,
  "details": [
    {
      "message": "The provided gift lookup ID 'SR-Payment-669928' already exists.",
      "error_name": "GiftLookupIdAlreadyExists",
      "error_code": 25028,
      "raw_message": "The provided gift lookup ID 'SR-Payment-669928' already exists."
    }
  ]
}
2025-07-28 12:23:01,491 - FinancialSyncService - ERROR - Failed to create gift for payment 669928: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669928' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 12:23:01,491 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 12:23:01,491 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 12:23:01,491 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 12:23:01,492 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 12:28:31,984 - financial_sync - INFO - Starting financial sync script
2025-07-28 12:28:31,996 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 12:28:31,996 - MappingService - INFO - Loading existing event mapping file
2025-07-28 12:28:31,997 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 12:28:31,997 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 12:28:31,998 - financial_sync - INFO - Syncing all payments (start_date=None, end_date=None)
2025-07-28 12:28:31,998 - FinancialSyncService - INFO - Starting financial sync (start_date=None, end_date=None)
2025-07-28 12:28:31,998 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 12:28:31,998 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 12:28:31,999 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 12:28:31,999 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753716776.8522701, Expires in: 3600, Time until expiry: 264 seconds
2025-07-28 12:28:31,999 - ServiceReefTokenService - INFO - ServiceReef token expires soon, refreshing
2025-07-28 12:28:31,999 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 12:28:32,000 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 12:28:32,453 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 12:28:32,453 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 12:28:32,730 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 12:28:32,731 - FinancialSyncService - INFO - Payments count: 25, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:32,731 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650471 exists
2025-07-28 12:28:32,731 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650471 exists
2025-07-28 12:28:32,732 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:32,733 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 12:28:32,734 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 946 seconds
2025-07-28 12:28:35,307 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:35,308 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:35,308 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650471
2025-07-28 12:28:35,309 - FinancialSyncService - INFO - Processing payment 650471
2025-07-28 12:28:35,309 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:35,309 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650471 exists
2025-07-28 12:28:35,309 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:35,309 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 944 seconds
2025-07-28 12:28:38,342 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:38,343 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:38,343 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650471
2025-07-28 12:28:38,344 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:38,344 - FinancialSyncService - INFO - Processing payment: ID=650471, Amount=2000.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:28:38,344 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:28:38,344 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:28:38,344 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:28:38,344 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650472 exists
2025-07-28 12:28:38,345 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650472 exists
2025-07-28 12:28:38,345 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:38,345 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 941 seconds
2025-07-28 12:28:42,734 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:42,734 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:42,735 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650472
2025-07-28 12:28:42,736 - FinancialSyncService - INFO - Processing payment 650472
2025-07-28 12:28:42,736 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:42,736 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650472 exists
2025-07-28 12:28:42,736 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:42,736 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 936 seconds
2025-07-28 12:28:45,731 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:45,731 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:45,732 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650472
2025-07-28 12:28:45,733 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:45,733 - FinancialSyncService - INFO - Processing payment: ID=650472, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:28:45,733 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:28:45,733 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:28:45,733 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:28:45,733 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650473 exists
2025-07-28 12:28:45,733 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650473 exists
2025-07-28 12:28:45,734 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:45,734 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 933 seconds
2025-07-28 12:28:48,741 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:48,742 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:48,742 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650473
2025-07-28 12:28:48,743 - FinancialSyncService - INFO - Processing payment 650473
2025-07-28 12:28:48,743 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:48,743 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650473 exists
2025-07-28 12:28:48,743 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:48,743 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 930 seconds
2025-07-28 12:28:50,859 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:50,859 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:50,859 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650473
2025-07-28 12:28:50,860 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:50,860 - FinancialSyncService - INFO - Processing payment: ID=650473, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:28:50,861 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:28:50,861 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:28:50,861 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:28:50,861 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650474 exists
2025-07-28 12:28:50,861 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650474 exists
2025-07-28 12:28:50,861 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:50,861 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 928 seconds
2025-07-28 12:28:53,264 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:53,265 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:53,265 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650474
2025-07-28 12:28:53,266 - FinancialSyncService - INFO - Processing payment 650474
2025-07-28 12:28:53,266 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:53,266 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650474 exists
2025-07-28 12:28:53,266 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:53,266 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 926 seconds
2025-07-28 12:28:56,009 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:56,009 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:56,010 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650474
2025-07-28 12:28:56,010 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:56,010 - FinancialSyncService - INFO - Processing payment: ID=650474, Amount=1.31, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:28:56,011 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:28:56,011 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:28:56,011 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:28:56,011 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650475 exists
2025-07-28 12:28:56,011 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650475 exists
2025-07-28 12:28:56,011 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:56,011 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 923 seconds
2025-07-28 12:28:58,508 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:28:58,508 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:28:58,509 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650475
2025-07-28 12:28:58,510 - FinancialSyncService - INFO - Processing payment 650475
2025-07-28 12:28:58,510 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:28:58,510 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650475 exists
2025-07-28 12:28:58,510 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:28:58,510 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 921 seconds
2025-07-28 12:29:01,274 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:01,274 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:01,274 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650475
2025-07-28 12:29:01,275 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:01,275 - FinancialSyncService - INFO - Processing payment: ID=650475, Amount=250.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:01,275 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:01,275 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:01,276 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:01,276 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650476 exists
2025-07-28 12:29:01,276 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650476 exists
2025-07-28 12:29:01,276 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:01,276 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 918 seconds
2025-07-28 12:29:04,423 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:04,424 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:04,424 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650476
2025-07-28 12:29:04,425 - FinancialSyncService - INFO - Processing payment 650476
2025-07-28 12:29:04,425 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:04,425 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650476 exists
2025-07-28 12:29:04,425 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:04,426 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 915 seconds
2025-07-28 12:29:07,457 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:07,457 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:07,457 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650476
2025-07-28 12:29:07,458 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:07,458 - FinancialSyncService - INFO - Processing payment: ID=650476, Amount=2.83, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:07,458 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:07,458 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:07,459 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:07,459 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650477 exists
2025-07-28 12:29:07,459 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650477 exists
2025-07-28 12:29:07,459 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:07,459 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 912 seconds
2025-07-28 12:29:10,129 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:10,129 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:10,130 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650477
2025-07-28 12:29:10,130 - FinancialSyncService - INFO - Processing payment 650477
2025-07-28 12:29:10,130 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:10,131 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650477 exists
2025-07-28 12:29:10,131 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:10,131 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 909 seconds
2025-07-28 12:29:12,021 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:12,021 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:12,021 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650477
2025-07-28 12:29:12,022 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:12,023 - FinancialSyncService - INFO - Processing payment: ID=650477, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:12,023 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:12,023 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:12,023 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:12,023 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650478 exists
2025-07-28 12:29:12,023 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650478 exists
2025-07-28 12:29:12,023 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:12,024 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 907 seconds
2025-07-28 12:29:14,876 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:14,877 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:14,877 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650478
2025-07-28 12:29:14,878 - FinancialSyncService - INFO - Processing payment 650478
2025-07-28 12:29:14,878 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:14,878 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650478 exists
2025-07-28 12:29:14,878 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:14,879 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 904 seconds
2025-07-28 12:29:17,346 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:17,347 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:17,347 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650478
2025-07-28 12:29:17,348 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:17,348 - FinancialSyncService - INFO - Processing payment: ID=650478, Amount=50.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:17,348 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:17,348 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:17,348 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:17,348 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650479 exists
2025-07-28 12:29:17,348 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650479 exists
2025-07-28 12:29:17,349 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:17,349 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 902 seconds
2025-07-28 12:29:19,827 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:19,827 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:19,827 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650479
2025-07-28 12:29:19,828 - FinancialSyncService - INFO - Processing payment 650479
2025-07-28 12:29:19,828 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:19,828 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650479 exists
2025-07-28 12:29:19,829 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:19,829 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 899 seconds
2025-07-28 12:29:21,526 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:21,526 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:21,527 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650479
2025-07-28 12:29:21,527 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:21,528 - FinancialSyncService - INFO - Processing payment: ID=650479, Amount=0.81, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:21,528 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:21,528 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:21,528 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:21,528 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650480 exists
2025-07-28 12:29:21,529 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650480 exists
2025-07-28 12:29:21,529 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:21,529 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 898 seconds
2025-07-28 12:29:23,797 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:23,797 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:23,797 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650480
2025-07-28 12:29:23,798 - FinancialSyncService - INFO - Processing payment 650480
2025-07-28 12:29:23,798 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:23,798 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650480 exists
2025-07-28 12:29:23,799 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:23,799 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 895 seconds
2025-07-28 12:29:26,168 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:26,169 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:26,169 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650480
2025-07-28 12:29:26,170 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:26,170 - FinancialSyncService - INFO - Processing payment: ID=650480, Amount=0.79, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:26,170 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:26,170 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:26,170 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:26,170 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650481 exists
2025-07-28 12:29:26,171 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650481 exists
2025-07-28 12:29:26,171 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:26,171 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 893 seconds
2025-07-28 12:29:28,116 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:28,116 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:28,117 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650481
2025-07-28 12:29:28,117 - FinancialSyncService - INFO - Processing payment 650481
2025-07-28 12:29:28,118 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:28,118 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650481 exists
2025-07-28 12:29:28,118 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:28,118 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 891 seconds
2025-07-28 12:29:30,181 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:30,181 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:30,182 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650481
2025-07-28 12:29:30,182 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:30,183 - FinancialSyncService - INFO - Processing payment: ID=650481, Amount=48.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:30,183 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:30,183 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:30,183 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:30,183 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650482 exists
2025-07-28 12:29:30,183 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650482 exists
2025-07-28 12:29:30,183 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:30,183 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 889 seconds
2025-07-28 12:29:32,633 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:32,633 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:32,634 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650482
2025-07-28 12:29:32,635 - FinancialSyncService - INFO - Processing payment 650482
2025-07-28 12:29:32,635 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:32,635 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650482 exists
2025-07-28 12:29:32,635 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:32,635 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 887 seconds
2025-07-28 12:29:34,913 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:34,914 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:34,914 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650482
2025-07-28 12:29:34,915 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:34,915 - FinancialSyncService - INFO - Processing payment: ID=650482, Amount=40.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:34,915 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:34,915 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:34,915 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:34,915 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650483 exists
2025-07-28 12:29:34,915 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650483 exists
2025-07-28 12:29:34,916 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:34,916 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 884 seconds
2025-07-28 12:29:37,476 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:37,476 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:37,477 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650483
2025-07-28 12:29:37,477 - FinancialSyncService - INFO - Processing payment 650483
2025-07-28 12:29:37,478 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:37,478 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650483 exists
2025-07-28 12:29:37,478 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:37,478 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 882 seconds
2025-07-28 12:29:39,609 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:39,609 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:39,609 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650483
2025-07-28 12:29:39,610 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:39,610 - FinancialSyncService - INFO - Processing payment: ID=650483, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:39,610 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:39,610 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:39,611 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:39,611 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650485 exists
2025-07-28 12:29:39,611 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650485 exists
2025-07-28 12:29:39,611 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:39,611 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 880 seconds
2025-07-28 12:29:42,681 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:42,682 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:42,682 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650485
2025-07-28 12:29:42,683 - FinancialSyncService - INFO - Processing payment 650485
2025-07-28 12:29:42,683 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:42,683 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650485 exists
2025-07-28 12:29:42,683 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:42,683 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 877 seconds
2025-07-28 12:29:44,529 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:44,529 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:44,530 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650485
2025-07-28 12:29:44,532 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:44,553 - FinancialSyncService - INFO - Processing payment: ID=650485, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:44,553 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:44,553 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:44,554 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:44,554 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650486 exists
2025-07-28 12:29:44,554 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650486 exists
2025-07-28 12:29:44,560 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:44,560 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 875 seconds
2025-07-28 12:29:46,320 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:46,321 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:46,322 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650486
2025-07-28 12:29:46,323 - FinancialSyncService - INFO - Processing payment 650486
2025-07-28 12:29:46,323 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:46,323 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650486 exists
2025-07-28 12:29:46,323 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:46,323 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 873 seconds
2025-07-28 12:29:48,777 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:48,777 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:48,778 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650486
2025-07-28 12:29:48,778 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:48,778 - FinancialSyncService - INFO - Processing payment: ID=650486, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:48,779 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:48,779 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:48,779 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:48,779 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650487 exists
2025-07-28 12:29:48,779 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650487 exists
2025-07-28 12:29:48,779 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:48,779 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 870 seconds
2025-07-28 12:29:50,578 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:50,579 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:50,579 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650487
2025-07-28 12:29:50,580 - FinancialSyncService - INFO - Processing payment 650487
2025-07-28 12:29:50,580 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:50,580 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650487 exists
2025-07-28 12:29:50,580 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:50,580 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 869 seconds
2025-07-28 12:29:52,762 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:52,762 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:52,763 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650487
2025-07-28 12:29:52,763 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:52,763 - FinancialSyncService - INFO - Processing payment: ID=650487, Amount=1200.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:52,764 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:52,764 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:52,764 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:52,764 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650488 exists
2025-07-28 12:29:52,764 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650488 exists
2025-07-28 12:29:52,764 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:52,764 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 866 seconds
2025-07-28 12:29:55,136 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:55,136 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:55,137 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650488
2025-07-28 12:29:55,138 - FinancialSyncService - INFO - Processing payment 650488
2025-07-28 12:29:55,138 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:55,138 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650488 exists
2025-07-28 12:29:55,138 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:55,138 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 864 seconds
2025-07-28 12:29:57,427 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:57,427 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:57,428 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650488
2025-07-28 12:29:57,428 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:57,428 - FinancialSyncService - INFO - Processing payment: ID=650488, Amount=50.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:29:57,429 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:29:57,429 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:29:57,429 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:29:57,429 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650489 exists
2025-07-28 12:29:57,429 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650489 exists
2025-07-28 12:29:57,429 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:57,429 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 862 seconds
2025-07-28 12:29:59,925 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:29:59,925 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:29:59,926 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650489
2025-07-28 12:29:59,926 - FinancialSyncService - INFO - Processing payment 650489
2025-07-28 12:29:59,926 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:29:59,927 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650489 exists
2025-07-28 12:29:59,927 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:29:59,927 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 859 seconds
2025-07-28 12:30:02,779 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:02,779 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:02,779 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650489
2025-07-28 12:30:02,780 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:02,780 - FinancialSyncService - INFO - Processing payment: ID=650489, Amount=0.81, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:30:02,781 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:30:02,781 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:30:02,781 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:30:02,781 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650490 exists
2025-07-28 12:30:02,781 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650490 exists
2025-07-28 12:30:02,781 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:02,781 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 856 seconds
2025-07-28 12:30:05,077 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:05,077 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:05,078 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650490
2025-07-28 12:30:05,078 - FinancialSyncService - INFO - Processing payment 650490
2025-07-28 12:30:05,079 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:05,079 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650490 exists
2025-07-28 12:30:05,079 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:05,079 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 854 seconds
2025-07-28 12:30:07,655 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:07,655 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:07,655 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650490
2025-07-28 12:30:07,656 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:07,657 - FinancialSyncService - INFO - Processing payment: ID=650490, Amount=1040.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:30:07,657 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:30:07,657 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:30:07,657 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:30:07,657 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650491 exists
2025-07-28 12:30:07,657 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650491 exists
2025-07-28 12:30:07,657 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:07,658 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 852 seconds
2025-07-28 12:30:09,729 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:09,730 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:09,730 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650491
2025-07-28 12:30:09,731 - FinancialSyncService - INFO - Processing payment 650491
2025-07-28 12:30:09,731 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:09,731 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650491 exists
2025-07-28 12:30:09,731 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:09,731 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 849 seconds
2025-07-28 12:30:12,038 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:12,039 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:12,040 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650491
2025-07-28 12:30:12,041 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:12,041 - FinancialSyncService - INFO - Processing payment: ID=650491, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:30:12,041 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:30:12,041 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:30:12,041 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:30:12,041 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650494 exists
2025-07-28 12:30:12,042 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650494 exists
2025-07-28 12:30:12,042 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:12,042 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 847 seconds
2025-07-28 12:30:13,983 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:13,983 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:13,984 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650494
2025-07-28 12:30:13,984 - FinancialSyncService - INFO - Processing payment 650494
2025-07-28 12:30:13,985 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:13,985 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650494 exists
2025-07-28 12:30:13,985 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:13,985 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 845 seconds
2025-07-28 12:30:16,935 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:16,936 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:16,937 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650494
2025-07-28 12:30:16,938 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:16,938 - FinancialSyncService - INFO - Processing payment: ID=650494, Amount=25.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:30:16,938 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:30:16,938 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:30:16,938 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:30:16,938 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650495 exists
2025-07-28 12:30:16,938 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650495 exists
2025-07-28 12:30:16,939 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:16,939 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 842 seconds
2025-07-28 12:30:19,198 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:19,199 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:19,199 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650495
2025-07-28 12:30:19,200 - FinancialSyncService - INFO - Processing payment 650495
2025-07-28 12:30:19,200 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:19,200 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650495 exists
2025-07-28 12:30:19,200 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:19,201 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 840 seconds
2025-07-28 12:30:21,866 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:21,867 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:21,867 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650495
2025-07-28 12:30:21,868 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:21,868 - FinancialSyncService - INFO - Processing payment: ID=650495, Amount=1.06, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:30:21,868 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:30:21,868 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:30:21,868 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:30:21,869 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650496 exists
2025-07-28 12:30:21,869 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650496 exists
2025-07-28 12:30:21,869 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:21,869 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 837 seconds
2025-07-28 12:30:24,156 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:24,156 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:24,156 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650496
2025-07-28 12:30:24,157 - FinancialSyncService - INFO - Processing payment 650496
2025-07-28 12:30:24,157 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:24,157 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650496 exists
2025-07-28 12:30:24,157 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:24,158 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 835 seconds
2025-07-28 12:30:26,240 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:26,241 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:26,241 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650496
2025-07-28 12:30:26,242 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:26,242 - FinancialSyncService - INFO - Processing payment: ID=650496, Amount=30.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:30:26,242 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:30:26,242 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:30:26,242 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:30:26,242 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650497 exists
2025-07-28 12:30:26,243 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650497 exists
2025-07-28 12:30:26,243 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:26,243 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 833 seconds
2025-07-28 12:30:28,818 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:28,818 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:28,818 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650497
2025-07-28 12:30:28,819 - FinancialSyncService - INFO - Processing payment 650497
2025-07-28 12:30:28,819 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:28,820 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650497 exists
2025-07-28 12:30:28,820 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:28,820 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 830 seconds
2025-07-28 12:30:30,367 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:30,367 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:30,368 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650497
2025-07-28 12:30:30,369 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:30,369 - FinancialSyncService - INFO - Processing payment: ID=650497, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:30:30,369 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:30:30,369 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:30:30,369 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:30:30,369 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650498 exists
2025-07-28 12:30:30,370 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-650498 exists
2025-07-28 12:30:30,370 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:30,370 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 829 seconds
2025-07-28 12:30:32,875 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:32,875 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:32,875 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-650498
2025-07-28 12:30:32,876 - FinancialSyncService - INFO - Processing payment 650498
2025-07-28 12:30:32,876 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:32,877 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-650498 exists
2025-07-28 12:30:32,877 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:30:32,877 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 826 seconds
2025-07-28 12:30:36,758 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:30:36,758 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:30:36,758 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-650498
2025-07-28 12:30:36,759 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:30:36,759 - FinancialSyncService - INFO - Processing payment: ID=650498, Amount=1.31, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 12:30:36,759 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 12:30:36,759 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 12:30:36,760 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 12:30:36,760 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 12:30:36,760 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 25, 'processed': 25, 'skipped': 0, 'successful': 0, 'failed': 25, 'errors': []}
2025-07-28 12:30:36,761 - financial_sync - INFO - Sync complete. Results: {'total_payments': 25, 'processed': 25, 'skipped': 0, 'successful': 0, 'failed': 25, 'errors': []}
2025-07-28 12:30:36,761 - financial_sync - WARNING - 25 payments failed to sync
2025-07-28 12:37:34,700 - financial_sync - INFO - Starting financial sync script
2025-07-28 12:37:34,715 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 12:37:34,715 - MappingService - INFO - Loading existing event mapping file
2025-07-28 12:37:34,716 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 12:37:34,716 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 12:37:34,717 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 12:37:34,717 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 12:37:34,717 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 12:37:34,717 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 12:37:34,718 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 12:37:34,718 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753717711.450316, Expires in: 3600, Time until expiry: 656 seconds
2025-07-28 12:37:36,044 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 12:37:36,044 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:37:36,044 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 12:37:36,045 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-669922 exists
2025-07-28 12:37:36,045 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:37:36,048 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 12:37:36,048 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 403 seconds
2025-07-28 12:37:40,709 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:37:40,710 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:37:40,710 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-669922
2025-07-28 12:37:40,711 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 12:37:40,711 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:37:40,712 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-669922 exists
2025-07-28 12:37:40,712 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:37:40,712 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 398 seconds
2025-07-28 12:37:45,235 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:37:45,235 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:37:45,236 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-669922
2025-07-28 12:37:45,237 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:37:45,237 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 12:37:45,237 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 194931 instead
2025-07-28 12:37:45,238 - FinancialSyncService - INFO - Retrieving donor 194931 information
2025-07-28 12:37:45,238 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 194931
2025-07-28 12:37:45,238 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753717711.450316, Expires in: 3600, Time until expiry: 646 seconds
2025-07-28 12:37:45,596 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 194931
2025-07-28 12:37:45,597 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 194931 -> NXT 74932
2025-07-28 12:37:45,597 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 394 seconds
2025-07-28 12:37:46,686 - FinancialSyncService - INFO - Verified constituent 74932 exists in NXT
2025-07-28 12:37:46,686 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 12:37:46,686 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74932, fund: 1064)
2025-07-28 12:37:46,687 - NXTGiftClient - INFO - Creating gift for constituent 74932
2025-07-28 12:37:46,687 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74932",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 12:37:46,687 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 393 seconds
2025-07-28 12:37:47,503 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669922' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 12:37:47,506 - NXTGiftClient - INFO - Gift creation API response: {
  "error": true,
  "status_code": 400,
  "details": [
    {
      "message": "The provided gift lookup ID 'SR-Payment-669922' already exists.",
      "error_name": "GiftLookupIdAlreadyExists",
      "error_code": 25028,
      "raw_message": "The provided gift lookup ID 'SR-Payment-669922' already exists."
    }
  ]
}
2025-07-28 12:37:47,506 - FinancialSyncService - ERROR - Failed to create gift for payment 669922: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669922' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 12:37:47,506 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 12:37:47,507 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-SR-Payment-669928 exists
2025-07-28 12:37:47,507 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:37:47,507 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 392 seconds
2025-07-28 12:37:50,865 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:37:50,866 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:37:50,866 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-SR-Payment-669928
2025-07-28 12:37:50,867 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 12:37:50,867 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:37:50,867 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-669928 exists
2025-07-28 12:37:50,867 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:37:50,867 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 388 seconds
2025-07-28 12:37:54,069 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:37:54,070 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:37:54,070 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-669928
2025-07-28 12:37:54,071 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:37:54,071 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 12:37:54,071 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 194931 instead
2025-07-28 12:37:54,071 - FinancialSyncService - INFO - Retrieving donor 194931 information
2025-07-28 12:37:54,071 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 194931
2025-07-28 12:37:54,072 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753717711.450316, Expires in: 3600, Time until expiry: 637 seconds
2025-07-28 12:37:54,450 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 194931
2025-07-28 12:37:54,450 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 194931 -> NXT 74932
2025-07-28 12:37:54,450 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 385 seconds
2025-07-28 12:37:55,187 - FinancialSyncService - INFO - Verified constituent 74932 exists in NXT
2025-07-28 12:37:55,187 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 12:37:55,188 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74932, fund: 1064)
2025-07-28 12:37:55,188 - NXTGiftClient - INFO - Creating gift for constituent 74932
2025-07-28 12:37:55,188 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74932",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 12:37:55,188 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 384 seconds
2025-07-28 12:37:55,755 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669928' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 12:37:55,758 - NXTGiftClient - INFO - Gift creation API response: {
  "error": true,
  "status_code": 400,
  "details": [
    {
      "message": "The provided gift lookup ID 'SR-Payment-669928' already exists.",
      "error_name": "GiftLookupIdAlreadyExists",
      "error_code": 25028,
      "raw_message": "The provided gift lookup ID 'SR-Payment-669928' already exists."
    }
  ]
}
2025-07-28 12:37:55,758 - FinancialSyncService - ERROR - Failed to create gift for payment 669928: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669928' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 12:37:55,758 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 12:37:55,758 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 12:37:55,758 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 12:37:55,758 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 12:38:56,940 - financial_sync - INFO - Starting financial sync script
2025-07-28 12:38:56,945 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 12:38:56,946 - MappingService - INFO - Loading existing event mapping file
2025-07-28 12:38:56,947 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 12:38:56,947 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 12:38:56,948 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 12:38:56,948 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 12:38:56,948 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 12:38:56,948 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 12:38:56,949 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 12:38:56,949 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753717711.450316, Expires in: 3600, Time until expiry: 574 seconds
2025-07-28 12:38:57,279 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 12:38:57,279 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:38:57,279 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 12:38:57,279 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-669922 exists
2025-07-28 12:38:57,279 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:38:57,280 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 12:38:57,280 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 322 seconds
2025-07-28 12:38:59,533 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:38:59,534 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:38:59,535 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-669922
2025-07-28 12:38:59,540 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 12:38:59,541 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:38:59,542 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-669922 exists
2025-07-28 12:38:59,542 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:38:59,543 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 320 seconds
2025-07-28 12:39:03,814 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:39:03,814 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:39:03,815 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-669922
2025-07-28 12:39:03,815 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:39:03,815 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 12:39:03,816 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 194931 instead
2025-07-28 12:39:03,816 - FinancialSyncService - INFO - Retrieving donor 194931 information
2025-07-28 12:39:03,816 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 194931
2025-07-28 12:39:03,816 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753717711.450316, Expires in: 3600, Time until expiry: 567 seconds
2025-07-28 12:39:04,138 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 194931
2025-07-28 12:39:04,138 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 194931 -> NXT 74932
2025-07-28 12:39:04,138 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 315 seconds
2025-07-28 12:39:04,976 - FinancialSyncService - INFO - Verified constituent 74932 exists in NXT
2025-07-28 12:39:04,978 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 12:39:04,980 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74932, fund: 1064)
2025-07-28 12:39:04,980 - NXTGiftClient - INFO - Creating gift for constituent 74932
2025-07-28 12:39:04,981 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74932",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 12:39:04,983 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 314 seconds
2025-07-28 12:39:05,413 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669922' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 12:39:05,419 - NXTGiftClient - INFO - Gift creation API response: {
  "error": true,
  "status_code": 400,
  "details": [
    {
      "message": "The provided gift lookup ID 'SR-Payment-669922' already exists.",
      "error_name": "GiftLookupIdAlreadyExists",
      "error_code": 25028,
      "raw_message": "The provided gift lookup ID 'SR-Payment-669922' already exists."
    }
  ]
}
2025-07-28 12:39:05,419 - FinancialSyncService - ERROR - Failed to create gift for payment 669922: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669922' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 12:39:05,419 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 12:39:05,420 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-669928 exists
2025-07-28 12:39:05,420 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:39:05,420 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 314 seconds
2025-07-28 12:39:08,749 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:39:08,749 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:39:08,750 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-669928
2025-07-28 12:39:08,751 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 12:39:08,751 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:39:08,752 - NXTGiftClient - INFO - Checking if gift with lookup_id SR-Payment-669928 exists
2025-07-28 12:39:08,752 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 12:39:08,752 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 310 seconds
2025-07-28 12:39:11,486 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 12:39:11,487 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 12:39:11,487 - NXTGiftClient - INFO - No gifts found with exact lookup_id match SR-Payment-669928
2025-07-28 12:39:11,488 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 12:39:11,488 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 12:39:11,488 - FinancialSyncService - INFO - UserId is None, using DonatedToUserId 194931 instead
2025-07-28 12:39:11,488 - FinancialSyncService - INFO - Retrieving donor 194931 information
2025-07-28 12:39:11,488 - ServiceReefPaymentClient - INFO - Retrieving detailed information for donor 194931
2025-07-28 12:39:11,488 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753717711.450316, Expires in: 3600, Time until expiry: 559 seconds
2025-07-28 12:39:11,791 - ServiceReefPaymentClient - INFO - Retrieved member data for ServiceReef ID 194931
2025-07-28 12:39:11,791 - FinancialSyncService - INFO - Found constituent mapping: ServiceReef 194931 -> NXT 74932
2025-07-28 12:39:11,791 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 307 seconds
2025-07-28 12:39:12,639 - FinancialSyncService - INFO - Verified constituent 74932 exists in NXT
2025-07-28 12:39:12,639 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 12:39:12,639 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74932, fund: 1064)
2025-07-28 12:39:12,640 - NXTGiftClient - INFO - Creating gift for constituent 74932
2025-07-28 12:39:12,640 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74932",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 12:39:12,640 - NXTTokenService - INFO - NXT token status - Fetched: 1753717459.695335, Expires in: 3600, Time until expiry: 307 seconds
2025-07-28 12:39:13,372 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669928' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 12:39:13,376 - NXTGiftClient - INFO - Gift creation API response: {
  "error": true,
  "status_code": 400,
  "details": [
    {
      "message": "The provided gift lookup ID 'SR-Payment-669928' already exists.",
      "error_name": "GiftLookupIdAlreadyExists",
      "error_code": 25028,
      "raw_message": "The provided gift lookup ID 'SR-Payment-669928' already exists."
    }
  ]
}
2025-07-28 12:39:13,376 - FinancialSyncService - ERROR - Failed to create gift for payment 669928: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669928' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 12:39:13,376 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 12:39:13,377 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 12:39:13,377 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 12:39:13,377 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 13:59:55,292 - financial_sync - INFO - Starting financial sync script
2025-07-28 13:59:55,311 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 13:59:55,311 - MappingService - INFO - Loading existing event mapping file
2025-07-28 13:59:55,312 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 13:59:55,312 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 13:59:55,313 - financial_sync - INFO - Syncing all payments (start_date=2024-01-01T00:00:00, end_date=2025-07-28T00:00:00)
2025-07-28 13:59:55,313 - FinancialSyncService - INFO - Starting financial sync (start_date=2024-01-01T00:00:00, end_date=2025-07-28T00:00:00)
2025-07-28 13:59:55,313 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 13:59:55,313 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 13:59:55,314 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 13:59:55,314 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753722573.804008, Expires in: 3600, Time until expiry: 578 seconds
2025-07-28 13:59:55,877 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 13:59:55,877 - FinancialSyncService - INFO - Payments count: 25, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 13:59:55,877 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650471 exists
2025-07-28 13:59:55,877 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650471'}
2025-07-28 13:59:55,878 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 13:59:55,878 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2973 seconds
2025-07-28 13:59:58,619 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 13:59:58,620 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 13:59:58,620 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650471
2025-07-28 13:59:58,621 - FinancialSyncService - INFO - Processing payment 650471
2025-07-28 13:59:58,621 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 13:59:58,621 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650471 exists
2025-07-28 13:59:58,621 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650471'}
2025-07-28 13:59:58,621 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2970 seconds
2025-07-28 14:00:01,419 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:01,419 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:01,420 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650471
2025-07-28 14:00:01,421 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:01,421 - FinancialSyncService - INFO - Processing payment: ID=650471, Amount=2000.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:01,421 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:01,421 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:01,421 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:01,421 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650472 exists
2025-07-28 14:00:01,422 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650472'}
2025-07-28 14:00:01,422 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2967 seconds
2025-07-28 14:00:04,566 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:04,566 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:04,567 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650472
2025-07-28 14:00:04,568 - FinancialSyncService - INFO - Processing payment 650472
2025-07-28 14:00:04,568 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:04,568 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650472 exists
2025-07-28 14:00:04,568 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650472'}
2025-07-28 14:00:04,569 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2964 seconds
2025-07-28 14:00:08,179 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:08,179 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:08,180 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650472
2025-07-28 14:00:08,181 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:08,181 - FinancialSyncService - INFO - Processing payment: ID=650472, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:08,181 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:08,181 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:08,181 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:08,182 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650473 exists
2025-07-28 14:00:08,182 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650473'}
2025-07-28 14:00:08,182 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2961 seconds
2025-07-28 14:00:11,148 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:11,148 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:11,149 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650473
2025-07-28 14:00:11,150 - FinancialSyncService - INFO - Processing payment 650473
2025-07-28 14:00:11,151 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:11,151 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650473 exists
2025-07-28 14:00:11,151 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650473'}
2025-07-28 14:00:11,152 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2958 seconds
2025-07-28 14:00:13,466 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:13,467 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:13,467 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650473
2025-07-28 14:00:13,468 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:13,468 - FinancialSyncService - INFO - Processing payment: ID=650473, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:13,468 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:13,468 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:13,469 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:13,469 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650474 exists
2025-07-28 14:00:13,469 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650474'}
2025-07-28 14:00:13,469 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2955 seconds
2025-07-28 14:00:16,919 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:16,919 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:16,919 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650474
2025-07-28 14:00:16,920 - FinancialSyncService - INFO - Processing payment 650474
2025-07-28 14:00:16,920 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:16,920 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650474 exists
2025-07-28 14:00:16,921 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650474'}
2025-07-28 14:00:16,921 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2952 seconds
2025-07-28 14:00:20,584 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:20,584 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:20,585 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650474
2025-07-28 14:00:20,586 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:20,586 - FinancialSyncService - INFO - Processing payment: ID=650474, Amount=1.31, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:20,586 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:20,586 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:20,587 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:20,587 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650475 exists
2025-07-28 14:00:20,587 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650475'}
2025-07-28 14:00:20,587 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2948 seconds
2025-07-28 14:00:24,009 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:24,009 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:24,009 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650475
2025-07-28 14:00:24,010 - FinancialSyncService - INFO - Processing payment 650475
2025-07-28 14:00:24,010 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:24,010 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650475 exists
2025-07-28 14:00:24,011 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650475'}
2025-07-28 14:00:24,011 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2945 seconds
2025-07-28 14:00:27,694 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:27,708 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:27,708 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650475
2025-07-28 14:00:27,710 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:27,710 - FinancialSyncService - INFO - Processing payment: ID=650475, Amount=250.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:27,710 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:27,710 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:27,710 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:27,711 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650476 exists
2025-07-28 14:00:27,711 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650476'}
2025-07-28 14:00:27,711 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2941 seconds
2025-07-28 14:00:31,351 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:31,352 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:31,352 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650476
2025-07-28 14:00:31,353 - FinancialSyncService - INFO - Processing payment 650476
2025-07-28 14:00:31,353 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:31,353 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650476 exists
2025-07-28 14:00:31,353 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650476'}
2025-07-28 14:00:31,354 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2937 seconds
2025-07-28 14:00:33,553 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:33,553 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:33,553 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650476
2025-07-28 14:00:33,554 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:33,554 - FinancialSyncService - INFO - Processing payment: ID=650476, Amount=2.83, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:33,555 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:33,555 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:33,555 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:33,555 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650477 exists
2025-07-28 14:00:33,556 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650477'}
2025-07-28 14:00:33,556 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2935 seconds
2025-07-28 14:00:35,854 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:35,855 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:35,855 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650477
2025-07-28 14:00:35,856 - FinancialSyncService - INFO - Processing payment 650477
2025-07-28 14:00:35,856 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:35,856 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650477 exists
2025-07-28 14:00:35,856 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650477'}
2025-07-28 14:00:35,856 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2933 seconds
2025-07-28 14:00:37,640 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:37,640 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:37,640 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650477
2025-07-28 14:00:37,641 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:37,641 - FinancialSyncService - INFO - Processing payment: ID=650477, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:37,641 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:37,642 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:37,642 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:37,642 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650478 exists
2025-07-28 14:00:37,642 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650478'}
2025-07-28 14:00:37,642 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2931 seconds
2025-07-28 14:00:40,345 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:40,346 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:40,346 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650478
2025-07-28 14:00:40,347 - FinancialSyncService - INFO - Processing payment 650478
2025-07-28 14:00:40,347 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:40,348 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650478 exists
2025-07-28 14:00:40,348 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650478'}
2025-07-28 14:00:40,348 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2928 seconds
2025-07-28 14:00:43,567 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:43,569 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:43,569 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650478
2025-07-28 14:00:43,570 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:43,570 - FinancialSyncService - INFO - Processing payment: ID=650478, Amount=50.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:43,570 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:43,570 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:43,570 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:43,571 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650479 exists
2025-07-28 14:00:43,571 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650479'}
2025-07-28 14:00:43,571 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2925 seconds
2025-07-28 14:00:47,483 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:47,483 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:47,483 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650479
2025-07-28 14:00:47,484 - FinancialSyncService - INFO - Processing payment 650479
2025-07-28 14:00:47,484 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:47,485 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650479 exists
2025-07-28 14:00:47,485 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650479'}
2025-07-28 14:00:47,485 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2921 seconds
2025-07-28 14:00:49,628 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:49,628 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:49,628 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650479
2025-07-28 14:00:49,629 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:49,629 - FinancialSyncService - INFO - Processing payment: ID=650479, Amount=0.81, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:49,629 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:49,629 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:49,629 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:49,630 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650480 exists
2025-07-28 14:00:49,630 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650480'}
2025-07-28 14:00:49,630 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2919 seconds
2025-07-28 14:00:52,120 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:52,120 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:52,121 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650480
2025-07-28 14:00:52,121 - FinancialSyncService - INFO - Processing payment 650480
2025-07-28 14:00:52,121 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:52,122 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650480 exists
2025-07-28 14:00:52,122 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650480'}
2025-07-28 14:00:52,122 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2917 seconds
2025-07-28 14:00:55,692 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:55,692 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:55,693 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650480
2025-07-28 14:00:55,693 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:55,694 - FinancialSyncService - INFO - Processing payment: ID=650480, Amount=0.79, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:00:55,694 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:00:55,694 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:00:55,694 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:00:55,694 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650481 exists
2025-07-28 14:00:55,694 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650481'}
2025-07-28 14:00:55,695 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2913 seconds
2025-07-28 14:00:58,462 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:00:58,462 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:00:58,462 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650481
2025-07-28 14:00:58,463 - FinancialSyncService - INFO - Processing payment 650481
2025-07-28 14:00:58,463 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:00:58,464 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650481 exists
2025-07-28 14:00:58,464 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650481'}
2025-07-28 14:00:58,464 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2910 seconds
2025-07-28 14:01:01,013 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:01,016 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:01,016 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650481
2025-07-28 14:01:01,028 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:01,028 - FinancialSyncService - INFO - Processing payment: ID=650481, Amount=48.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:01,029 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:01,029 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:01,029 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:01,041 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650482 exists
2025-07-28 14:01:01,042 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650482'}
2025-07-28 14:01:01,043 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2908 seconds
2025-07-28 14:01:04,745 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:04,746 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:04,746 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650482
2025-07-28 14:01:04,747 - FinancialSyncService - INFO - Processing payment 650482
2025-07-28 14:01:04,747 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:04,748 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650482 exists
2025-07-28 14:01:04,748 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650482'}
2025-07-28 14:01:04,748 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2904 seconds
2025-07-28 14:01:07,672 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:07,672 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:07,672 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650482
2025-07-28 14:01:07,673 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:07,673 - FinancialSyncService - INFO - Processing payment: ID=650482, Amount=40.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:07,673 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:07,673 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:07,673 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:07,674 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650483 exists
2025-07-28 14:01:07,674 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650483'}
2025-07-28 14:01:07,674 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2901 seconds
2025-07-28 14:01:10,440 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:10,440 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:10,440 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650483
2025-07-28 14:01:10,441 - FinancialSyncService - INFO - Processing payment 650483
2025-07-28 14:01:10,441 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:10,441 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650483 exists
2025-07-28 14:01:10,441 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650483'}
2025-07-28 14:01:10,441 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2898 seconds
2025-07-28 14:01:13,679 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:13,683 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:13,686 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650483
2025-07-28 14:01:13,687 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:13,688 - FinancialSyncService - INFO - Processing payment: ID=650483, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:13,688 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:13,688 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:13,689 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:13,689 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650485 exists
2025-07-28 14:01:13,689 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650485'}
2025-07-28 14:01:13,689 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2895 seconds
2025-07-28 14:01:16,812 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:16,813 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:16,813 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650485
2025-07-28 14:01:16,815 - FinancialSyncService - INFO - Processing payment 650485
2025-07-28 14:01:16,815 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:16,815 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650485 exists
2025-07-28 14:01:16,816 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650485'}
2025-07-28 14:01:16,816 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2892 seconds
2025-07-28 14:01:18,909 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:18,909 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:18,910 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650485
2025-07-28 14:01:18,910 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:18,911 - FinancialSyncService - INFO - Processing payment: ID=650485, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:18,911 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:18,911 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:18,911 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:18,911 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650486 exists
2025-07-28 14:01:18,911 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650486'}
2025-07-28 14:01:18,912 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2890 seconds
2025-07-28 14:01:21,469 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:21,469 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:21,469 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650486
2025-07-28 14:01:21,470 - FinancialSyncService - INFO - Processing payment 650486
2025-07-28 14:01:21,470 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:21,470 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650486 exists
2025-07-28 14:01:21,470 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650486'}
2025-07-28 14:01:21,470 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2887 seconds
2025-07-28 14:01:24,253 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:24,253 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:24,253 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650486
2025-07-28 14:01:24,254 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:24,254 - FinancialSyncService - INFO - Processing payment: ID=650486, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:24,254 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:24,254 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:24,254 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:24,255 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650487 exists
2025-07-28 14:01:24,255 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650487'}
2025-07-28 14:01:24,255 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2884 seconds
2025-07-28 14:01:27,264 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:27,265 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:27,265 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650487
2025-07-28 14:01:27,266 - FinancialSyncService - INFO - Processing payment 650487
2025-07-28 14:01:27,266 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:27,266 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650487 exists
2025-07-28 14:01:27,267 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650487'}
2025-07-28 14:01:27,267 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2881 seconds
2025-07-28 14:01:29,620 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:29,621 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:29,621 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650487
2025-07-28 14:01:29,622 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:29,622 - FinancialSyncService - INFO - Processing payment: ID=650487, Amount=1200.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:29,622 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:29,622 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:29,622 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:29,623 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650488 exists
2025-07-28 14:01:29,623 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650488'}
2025-07-28 14:01:29,623 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2879 seconds
2025-07-28 14:01:31,568 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:31,568 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:31,568 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650488
2025-07-28 14:01:31,569 - FinancialSyncService - INFO - Processing payment 650488
2025-07-28 14:01:31,569 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:31,569 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650488 exists
2025-07-28 14:01:31,569 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650488'}
2025-07-28 14:01:31,570 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2877 seconds
2025-07-28 14:01:34,289 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:34,289 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:34,289 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650488
2025-07-28 14:01:34,290 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:34,290 - FinancialSyncService - INFO - Processing payment: ID=650488, Amount=50.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:34,290 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:34,290 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:34,290 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:34,291 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650489 exists
2025-07-28 14:01:34,291 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650489'}
2025-07-28 14:01:34,291 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2874 seconds
2025-07-28 14:01:36,876 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:36,877 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:36,877 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650489
2025-07-28 14:01:36,878 - FinancialSyncService - INFO - Processing payment 650489
2025-07-28 14:01:36,878 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:36,878 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650489 exists
2025-07-28 14:01:36,878 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650489'}
2025-07-28 14:01:36,878 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2872 seconds
2025-07-28 14:01:40,000 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:40,001 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:40,001 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650489
2025-07-28 14:01:40,002 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:40,003 - FinancialSyncService - INFO - Processing payment: ID=650489, Amount=0.81, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:40,003 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:40,003 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:40,003 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:40,003 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650490 exists
2025-07-28 14:01:40,004 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650490'}
2025-07-28 14:01:40,004 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2869 seconds
2025-07-28 14:01:42,566 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:42,566 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:42,566 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650490
2025-07-28 14:01:42,567 - FinancialSyncService - INFO - Processing payment 650490
2025-07-28 14:01:42,567 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:42,567 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650490 exists
2025-07-28 14:01:42,568 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650490'}
2025-07-28 14:01:42,568 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2866 seconds
2025-07-28 14:01:44,941 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:44,941 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:44,942 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650490
2025-07-28 14:01:44,943 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:44,943 - FinancialSyncService - INFO - Processing payment: ID=650490, Amount=1040.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:44,943 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:44,943 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:44,944 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:44,944 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650491 exists
2025-07-28 14:01:44,944 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650491'}
2025-07-28 14:01:44,944 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2864 seconds
2025-07-28 14:01:48,225 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:48,226 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:48,226 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650491
2025-07-28 14:01:48,227 - FinancialSyncService - INFO - Processing payment 650491
2025-07-28 14:01:48,227 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:48,227 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650491 exists
2025-07-28 14:01:48,228 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650491'}
2025-07-28 14:01:48,228 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2860 seconds
2025-07-28 14:01:51,188 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:51,188 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:51,189 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650491
2025-07-28 14:01:51,189 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:51,190 - FinancialSyncService - INFO - Processing payment: ID=650491, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:51,190 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:51,190 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:51,190 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:51,190 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650494 exists
2025-07-28 14:01:51,190 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650494'}
2025-07-28 14:01:51,191 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2858 seconds
2025-07-28 14:01:54,352 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:54,352 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:54,353 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650494
2025-07-28 14:01:54,353 - FinancialSyncService - INFO - Processing payment 650494
2025-07-28 14:01:54,354 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:54,354 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650494 exists
2025-07-28 14:01:54,354 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650494'}
2025-07-28 14:01:54,354 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2854 seconds
2025-07-28 14:01:57,337 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:01:57,337 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:01:57,337 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650494
2025-07-28 14:01:57,338 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:01:57,338 - FinancialSyncService - INFO - Processing payment: ID=650494, Amount=25.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:01:57,338 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:01:57,339 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:01:57,339 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:01:57,339 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650495 exists
2025-07-28 14:01:57,339 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650495'}
2025-07-28 14:01:57,339 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2851 seconds
2025-07-28 14:02:00,133 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:02:00,133 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:02:00,134 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650495
2025-07-28 14:02:00,136 - FinancialSyncService - INFO - Processing payment 650495
2025-07-28 14:02:00,137 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:02:00,137 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650495 exists
2025-07-28 14:02:00,138 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650495'}
2025-07-28 14:02:00,138 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2849 seconds
2025-07-28 14:02:02,757 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:02:02,758 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:02:02,758 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650495
2025-07-28 14:02:02,759 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:02:02,759 - FinancialSyncService - INFO - Processing payment: ID=650495, Amount=1.06, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:02:02,759 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:02:02,759 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:02:02,759 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:02:02,759 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650496 exists
2025-07-28 14:02:02,760 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650496'}
2025-07-28 14:02:02,760 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2846 seconds
2025-07-28 14:02:05,555 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:02:05,555 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:02:05,556 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650496
2025-07-28 14:02:05,556 - FinancialSyncService - INFO - Processing payment 650496
2025-07-28 14:02:05,556 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:02:05,557 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650496 exists
2025-07-28 14:02:05,557 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650496'}
2025-07-28 14:02:05,557 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2843 seconds
2025-07-28 14:02:08,427 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:02:08,427 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:02:08,427 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650496
2025-07-28 14:02:08,428 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:02:08,428 - FinancialSyncService - INFO - Processing payment: ID=650496, Amount=30.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:02:08,429 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:02:08,429 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:02:08,429 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:02:08,429 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650497 exists
2025-07-28 14:02:08,430 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650497'}
2025-07-28 14:02:08,430 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2840 seconds
2025-07-28 14:02:11,657 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:02:11,658 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:02:11,658 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650497
2025-07-28 14:02:11,658 - FinancialSyncService - INFO - Processing payment 650497
2025-07-28 14:02:11,659 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:02:11,659 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650497 exists
2025-07-28 14:02:11,659 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650497'}
2025-07-28 14:02:11,659 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2837 seconds
2025-07-28 14:02:14,572 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:02:14,572 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:02:14,573 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650497
2025-07-28 14:02:14,573 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:02:14,574 - FinancialSyncService - INFO - Processing payment: ID=650497, Amount=100.0, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:02:14,574 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:02:14,574 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:02:14,574 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:02:14,574 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650498 exists
2025-07-28 14:02:14,574 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650498'}
2025-07-28 14:02:14,574 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2834 seconds
2025-07-28 14:02:17,973 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:02:17,973 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:02:17,973 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650498
2025-07-28 14:02:17,974 - FinancialSyncService - INFO - Processing payment 650498
2025-07-28 14:02:17,974 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:02:17,974 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-650498 exists
2025-07-28 14:02:17,974 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-650498'}
2025-07-28 14:02:17,974 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2831 seconds
2025-07-28 14:02:20,145 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:02:20,146 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:02:20,146 - NXTGiftClient - INFO - No gifts found with reference SR-Payment-650498
2025-07-28 14:02:20,147 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:02:20,148 - FinancialSyncService - INFO - Processing payment: ID=650498, Amount=1.31, Date=2025-01-01T00:00:00Z, UserId=None, DonatedToUserId=None
2025-07-28 14:02:20,148 - FinancialSyncService - INFO - Using payment data directly as donor details
2025-07-28 14:02:20,148 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:02:20,148 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:02:20,149 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:02:20,149 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 25, 'processed': 25, 'skipped': 0, 'successful': 0, 'failed': 25, 'errors': []}
2025-07-28 14:02:20,150 - financial_sync - INFO - Sync complete. Results: {'total_payments': 25, 'processed': 25, 'skipped': 0, 'successful': 0, 'failed': 25, 'errors': []}
2025-07-28 14:02:20,150 - financial_sync - WARNING - 25 payments failed to sync
2025-07-28 14:15:29,191 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:15:29,207 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:15:29,207 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:15:29,208 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:15:29,208 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:15:29,209 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:15:29,209 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:15:29,209 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:15:29,209 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:15:29,211 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:15:29,211 - ServiceReefTokenService - INFO - ServiceReef token expired
2025-07-28 14:15:29,211 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 14:15:29,211 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 14:15:29,649 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:15:29,649 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 14:15:29,974 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:15:29,974 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:15:29,974 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:15:29,974 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:15:29,975 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:15:29,976 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2039 seconds
2025-07-28 14:15:32,430 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:15:32,430 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:15:32,430 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:15:32,431 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:15:32,431 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:15:32,431 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:15:32,431 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:15:32,432 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:15:32,432 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:15:32,432 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:15:32,432 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:15:32,432 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 2036 seconds
2025-07-28 14:15:34,342 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:15:34,343 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:15:34,343 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:15:34,344 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:15:34,344 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:15:34,344 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:15:34,344 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:15:34,345 - FinancialSyncService - ERROR - No ServiceReef ID in donor details
2025-07-28 14:15:34,345 - FinancialSyncService - ERROR - Could not find or create constituent for donor None
2025-07-28 14:15:34,345 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:15:34,345 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 14:15:34,345 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 14:15:34,345 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 14:18:58,864 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:18:58,883 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:18:58,884 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:18:58,886 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:18:58,887 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:18:58,887 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:18:58,888 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:18:58,888 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:18:58,888 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:18:58,889 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:18:58,889 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753724128.648402, Expires in: 3600, Time until expiry: 989 seconds
2025-07-28 14:18:59,270 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:18:59,271 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:18:59,271 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:18:59,271 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:18:59,275 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:18:59,275 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1829 seconds
2025-07-28 14:19:02,299 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:19:02,299 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:19:02,300 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:19:02,301 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:19:02,301 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:19:02,301 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:19:02,301 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:19:02,301 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:19:02,301 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:19:02,301 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1826 seconds
2025-07-28 14:19:03,579 - FinancialSyncService - ERROR - Error processing payment: 0
Traceback (most recent call last):
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 200, in sync_payment
    constituent_id = self._get_or_create_constituent(donor_details)
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 319, in _get_or_create_constituent
    constituent_id = results[0].get('id')
KeyError: 0
2025-07-28 14:19:03,581 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:19:03,581 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:19:03,581 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1825 seconds
2025-07-28 14:19:06,485 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:19:06,485 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:19:06,486 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:19:06,487 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:19:06,487 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:19:06,487 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:19:06,487 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:19:06,487 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 14:19:06,488 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 14:19:06,488 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1822 seconds
2025-07-28 14:19:07,328 - FinancialSyncService - ERROR - Error processing payment: 0
Traceback (most recent call last):
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 200, in sync_payment
    constituent_id = self._get_or_create_constituent(donor_details)
  File "/Users/ssheckler/Desktop/event_sync_service/financial_sync_service.py", line 319, in _get_or_create_constituent
    constituent_id = results[0].get('id')
KeyError: 0
2025-07-28 14:19:07,329 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:19:07,329 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 14:19:07,329 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 14:19:07,330 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 14:23:14,654 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:23:14,671 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:23:14,672 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:23:14,673 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:23:14,674 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:23:14,675 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:23:14,675 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:23:14,675 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:23:14,675 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:23:14,677 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:23:14,677 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753724128.648402, Expires in: 3600, Time until expiry: 733 seconds
2025-07-28 14:23:15,211 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:23:15,212 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:23:15,212 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:23:15,212 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:23:15,214 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:23:15,214 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1573 seconds
2025-07-28 14:23:33,543 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:23:33,544 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:23:33,544 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:23:33,545 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:23:33,545 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:23:33,545 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:23:33,546 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:23:33,546 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:23:33,546 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:23:33,546 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1555 seconds
2025-07-28 14:23:34,207 - FinancialSyncService - WARNING - Unexpected search result format: {'count': 0, 'value': []}
2025-07-28 14:23:34,207 - FinancialSyncService - INFO - Searching for constituent by name: Ronald Reagan
2025-07-28 14:23:34,208 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1554 seconds
2025-07-28 14:23:34,938 - FinancialSyncService - WARNING - Unexpected search result format: {'count': 0, 'value': []}
2025-07-28 14:23:34,938 - FinancialSyncService - INFO - Creating new constituent for direct payment donor Ronald Reagan
2025-07-28 14:23:34,939 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1554 seconds
2025-07-28 14:23:35,996 - FinancialSyncService - INFO - Created constituent 74989 for direct payment donor Ronald Reagan
2025-07-28 14:23:35,996 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 14:23:35,996 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74989, fund: 1064)
2025-07-28 14:23:35,996 - NXTGiftClient - INFO - Creating gift for constituent 74989
2025-07-28 14:23:35,996 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74989",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:23:35,997 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1553 seconds
2025-07-28 14:23:37,069 - FinancialSyncService - INFO - Successfully created gift 670150 for payment 669922
2025-07-28 14:23:37,070 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:23:37,070 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:23:37,070 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1552 seconds
2025-07-28 14:23:39,209 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:23:39,209 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:23:39,209 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:23:39,210 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:23:39,210 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:23:39,211 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:23:39,211 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:23:39,211 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 14:23:39,211 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 14:23:39,212 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1549 seconds
2025-07-28 14:23:39,863 - FinancialSyncService - WARNING - Unexpected search result format: {'count': 1, 'value': [{'id': '74788', 'address': '222 Pennsylvania Ave\r\nBoston, MA  12345', 'deceased': False, 'email': 'jadams@jaaa.com', 'fundraiser_status': 'None', 'inactive': False, 'lookup_id': '64913', 'name': 'John Adams'}]}
2025-07-28 14:23:39,863 - FinancialSyncService - INFO - Searching for constituent by name: John Adams
2025-07-28 14:23:39,864 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1549 seconds
2025-07-28 14:23:40,778 - FinancialSyncService - WARNING - Unexpected search result format: {'count': 4, 'value': [{'id': '440', 'address': 'PO Box 290312\r\nPort Orange, FL  32129-0312', 'deceased': False, 'email': 'hustlegolf@gmail.com', 'fundraiser_status': 'None', 'inactive': False, 'lookup_id': '380', 'name': 'John Adams'}, {'id': '68434', 'address': '15111 Old Jonesboro Rd\r\nBristol, VA  24202-4623', 'deceased': False, 'email': 'john4509@yahoo.com', 'fundraiser_status': 'None', 'inactive': False, 'lookup_id': '62186', 'name': 'John Adams'}, {'id': '74788', 'address': '222 Pennsylvania Ave\r\nBoston, MA  12345', 'deceased': False, 'email': 'jadams@jaaa.com', 'fundraiser_status': 'None', 'inactive': False, 'lookup_id': '64913', 'name': 'John Adams'}, {'id': '8896', 'address': '600 Vine Street\r\nCincinnati, OH  45202-2400', 'deceased': False, 'email': 'jadams@salixdata.com', 'fundraiser_status': 'None', 'inactive': False, 'lookup_id': '9005', 'name': 'Jonathan Adams'}]}
2025-07-28 14:23:40,779 - FinancialSyncService - INFO - Creating new constituent for direct payment donor John Adams
2025-07-28 14:23:40,779 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1548 seconds
2025-07-28 14:23:43,768 - FinancialSyncService - INFO - Created constituent 74990 for direct payment donor John Adams
2025-07-28 14:23:43,768 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund None, using default
2025-07-28 14:23:43,768 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74990, fund: 1064)
2025-07-28 14:23:43,769 - NXTGiftClient - INFO - Creating gift for constituent 74990
2025-07-28 14:23:43,769 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74990",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:23:43,769 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1545 seconds
2025-07-28 14:23:45,058 - FinancialSyncService - INFO - Successfully created gift 670151 for payment 669928
2025-07-28 14:23:45,058 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:23:45,058 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 14:23:45,058 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 14:31:30,742 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:31:30,758 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:31:30,758 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:31:30,760 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:31:30,761 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:31:30,763 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:31:30,764 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:31:30,766 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:31:30,767 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:31:30,769 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:31:30,769 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753724128.648402, Expires in: 3600, Time until expiry: 237 seconds
2025-07-28 14:31:30,770 - ServiceReefTokenService - INFO - ServiceReef token expires soon, refreshing
2025-07-28 14:31:30,770 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 14:31:30,770 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 14:31:31,171 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:31:31,171 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 14:31:31,446 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:31:31,447 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:31:31,447 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:31:31,448 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:31:31,449 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:31:31,449 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1077 seconds
2025-07-28 14:31:33,366 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:31:33,366 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:31:33,367 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:31:33,368 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:31:33,368 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:31:33,368 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:31:33,368 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:31:33,369 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:31:33,369 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:31:33,369 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1075 seconds
2025-07-28 14:31:33,733 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:31:33,733 - FinancialSyncService - INFO - Found exact email match: Ronald Reagan (74989)
2025-07-28 14:31:33,734 - FinancialSyncService - INFO - Using constituent with ID: 74989
2025-07-28 14:31:33,734 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund MTY Schatz Trip 251122, using default
2025-07-28 14:31:33,734 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74989, fund: 1064)
2025-07-28 14:31:33,734 - NXTGiftClient - INFO - Creating gift for constituent 74989
2025-07-28 14:31:33,734 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74989",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:31:33,734 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1075 seconds
2025-07-28 14:31:34,438 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669922' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 14:31:34,441 - FinancialSyncService - ERROR - Failed to create gift for payment 669922: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669922' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 14:31:34,441 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:31:34,441 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:31:34,441 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1074 seconds
2025-07-28 14:31:36,151 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:31:36,151 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:31:36,151 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:31:36,152 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:31:36,153 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:31:36,153 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:31:36,153 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:31:36,153 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 14:31:36,153 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 14:31:36,153 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1073 seconds
2025-07-28 14:31:36,529 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:31:36,529 - FinancialSyncService - INFO - Found exact email match: John Adams (74788)
2025-07-28 14:31:36,529 - FinancialSyncService - INFO - Using constituent with ID: 74788
2025-07-28 14:31:36,530 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund MTY Schatz Trip 251122, using default
2025-07-28 14:31:36,530 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74788, fund: 1064)
2025-07-28 14:31:36,530 - NXTGiftClient - INFO - Creating gift for constituent 74788
2025-07-28 14:31:36,530 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74788",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:31:36,530 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 1072 seconds
2025-07-28 14:31:37,336 - FinancialSyncService - INFO - Successfully created gift 670153 for payment 669928
2025-07-28 14:31:37,337 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:31:37,337 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 1, 'failed': 1, 'errors': []}
2025-07-28 14:31:37,337 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 1, 'failed': 1, 'errors': []}
2025-07-28 14:31:37,337 - financial_sync - WARNING - 1 payments failed to sync
2025-07-28 14:33:32,142 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:33:32,161 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:33:32,161 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:33:32,162 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:33:32,162 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:33:32,163 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:33:32,163 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:33:32,164 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:33:32,164 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:33:32,164 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:33:32,165 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753725090.169661, Expires in: 3600, Time until expiry: 1078 seconds
2025-07-28 14:33:32,546 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:33:32,546 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:33:32,546 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:33:32,547 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:33:32,548 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:33:32,549 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 956 seconds
2025-07-28 14:33:34,559 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:33:34,559 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:33:34,560 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:33:34,560 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:33:34,561 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:33:34,561 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:33:34,561 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:33:34,561 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:33:34,561 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:33:34,561 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 954 seconds
2025-07-28 14:33:35,284 - FinancialSyncService - INFO - Found 0 constituents in API response format
2025-07-28 14:33:35,284 - FinancialSyncService - INFO - No constituents found with matching email: nancysman@ronr.eagan
2025-07-28 14:33:35,284 - FinancialSyncService - INFO - Searching for constituent by name: Ronald Reagan
2025-07-28 14:33:35,284 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 953 seconds
2025-07-28 14:33:35,820 - FinancialSyncService - INFO - Found 0 constituents in API response format
2025-07-28 14:33:35,820 - FinancialSyncService - INFO - No constituents found with matching name: Ronald Reagan
2025-07-28 14:33:35,820 - FinancialSyncService - INFO - Creating new constituent for direct payment donor Ronald Reagan
2025-07-28 14:33:35,820 - FinancialSyncService - INFO - Skipping lookup_id for direct donor - NXT will generate one automatically
2025-07-28 14:33:35,821 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 953 seconds
2025-07-28 14:33:37,014 - FinancialSyncService - INFO - Created constituent 74991 for direct payment donor Ronald Reagan
2025-07-28 14:33:37,014 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund MTY Schatz Trip 251122, using default
2025-07-28 14:33:37,014 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74991, fund: 1064)
2025-07-28 14:33:37,014 - NXTGiftClient - INFO - Creating gift for constituent 74991
2025-07-28 14:33:37,015 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74991",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:33:37,015 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 952 seconds
2025-07-28 14:33:37,627 - FinancialSyncService - INFO - Successfully created gift 670154 for payment 669922
2025-07-28 14:33:37,628 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:33:37,628 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:33:37,628 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 951 seconds
2025-07-28 14:33:39,335 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:33:39,336 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:33:39,336 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:33:39,336 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:33:39,337 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:33:39,337 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:33:39,337 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:33:39,337 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 14:33:39,337 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 14:33:39,337 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 949 seconds
2025-07-28 14:33:40,385 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:33:40,385 - FinancialSyncService - INFO - Found exact email match: John Adams (74788)
2025-07-28 14:33:40,385 - FinancialSyncService - INFO - Using constituent with ID: 74788
2025-07-28 14:33:40,385 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund MTY Schatz Trip 251122, using default
2025-07-28 14:33:40,386 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74788, fund: 1064)
2025-07-28 14:33:40,386 - NXTGiftClient - INFO - Creating gift for constituent 74788
2025-07-28 14:33:40,386 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74788",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:33:40,386 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 948 seconds
2025-07-28 14:33:41,458 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669928' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 14:33:41,461 - FinancialSyncService - ERROR - Failed to create gift for payment 669928: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669928' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 14:33:41,461 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:33:41,462 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 1, 'failed': 1, 'errors': []}
2025-07-28 14:33:41,462 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 1, 'failed': 1, 'errors': []}
2025-07-28 14:33:41,462 - financial_sync - WARNING - 1 payments failed to sync
2025-07-28 14:39:33,800 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:39:33,819 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:39:33,819 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:39:33,820 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:39:33,820 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:39:33,821 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:39:33,821 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:39:33,821 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:39:33,821 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:39:33,822 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:39:33,822 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753725090.169661, Expires in: 3600, Time until expiry: 716 seconds
2025-07-28 14:39:34,212 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:39:34,212 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:39:34,212 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:39:34,212 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:39:34,213 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:39:34,214 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 594 seconds
2025-07-28 14:39:36,343 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:39:36,343 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:39:36,343 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:39:36,344 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:39:36,344 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:39:36,345 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:39:36,345 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:39:36,345 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:39:36,345 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:39:36,345 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 592 seconds
2025-07-28 14:39:37,645 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:39:37,645 - FinancialSyncService - INFO - Found exact email match: Ronald Reagan (74991)
2025-07-28 14:39:37,645 - FinancialSyncService - INFO - Using constituent with ID: 74991
2025-07-28 14:39:37,645 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74991, fund: 2704)
2025-07-28 14:39:37,645 - NXTGiftClient - INFO - Creating gift for constituent 74991
2025-07-28 14:39:37,645 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74991",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "2704"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:39:37,646 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 591 seconds
2025-07-28 14:39:38,370 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669922' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 14:39:38,372 - FinancialSyncService - ERROR - Failed to create gift for payment 669922: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669922' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 14:39:38,373 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:39:38,373 - NXTGiftClient - INFO - Searching for gifts with params: {}
2025-07-28 14:39:38,373 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 590 seconds
2025-07-28 14:39:40,604 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:39:40,605 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:39:40,605 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:39:40,606 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:39:40,606 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:39:40,607 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:39:40,607 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:39:40,607 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 14:39:40,607 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 14:39:40,607 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 588 seconds
2025-07-28 14:39:41,250 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:39:41,251 - FinancialSyncService - INFO - Found exact email match: John Adams (74788)
2025-07-28 14:39:41,251 - FinancialSyncService - INFO - Using constituent with ID: 74788
2025-07-28 14:39:41,251 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74788, fund: 2704)
2025-07-28 14:39:41,251 - NXTGiftClient - INFO - Creating gift for constituent 74788
2025-07-28 14:39:41,252 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74788",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "2704"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:39:41,252 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 587 seconds
2025-07-28 14:39:41,767 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669928' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 14:39:41,770 - FinancialSyncService - ERROR - Failed to create gift for payment 669928: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669928' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 14:39:41,770 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:39:41,771 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 14:39:41,771 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 14:39:41,771 - financial_sync - WARNING - 2 payments failed to sync
2025-07-28 14:42:05,238 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:42:05,256 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:42:05,256 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:42:05,257 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:42:05,258 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:42:05,258 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:42:05,258 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:42:05,259 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:42:05,259 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:42:05,260 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:42:05,260 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753725090.169661, Expires in: 3600, Time until expiry: 564 seconds
2025-07-28 14:42:05,727 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:42:05,727 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:42:05,728 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:42:05,728 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669922'}
2025-07-28 14:42:05,730 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:42:05,730 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 443 seconds
2025-07-28 14:42:08,041 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:42:08,041 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:42:08,042 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:42:08,043 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:42:08,043 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:42:08,043 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:42:08,043 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:42:08,043 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:42:08,044 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:42:08,044 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 441 seconds
2025-07-28 14:42:08,607 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:42:08,607 - FinancialSyncService - INFO - Found exact email match: Ronald Reagan (74991)
2025-07-28 14:42:08,607 - FinancialSyncService - INFO - Using constituent with ID: 74991
2025-07-28 14:42:08,608 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669922
2025-07-28 14:42:08,608 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 440 seconds
2025-07-28 14:44:38,933 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:44:38,947 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:44:38,947 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:44:38,948 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:44:38,948 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:44:38,949 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:44:38,949 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:44:38,949 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:44:38,950 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:44:38,950 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:44:38,951 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753725090.169661, Expires in: 3600, Time until expiry: 411 seconds
2025-07-28 14:44:39,375 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:44:39,375 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:44:39,375 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:44:39,375 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669922'}
2025-07-28 14:44:39,377 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:44:39,377 - NXTTokenService - INFO - NXT token status - Fetched: 1753724969.2000089, Expires in: 3600, Time until expiry: 289 seconds
2025-07-28 14:44:39,377 - NXTTokenService - INFO - NXT token expires soon, refreshing
2025-07-28 14:44:39,377 - NXTTokenService - INFO - NXT token expired or missing, refreshing
2025-07-28 14:44:39,377 - NXTTokenService - INFO - Refreshing NXT access token
2025-07-28 14:44:40,239 - NXTTokenService - INFO - Saved NXT token data to /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:44:40,239 - NXTTokenService - INFO - NXT token refreshed successfully
2025-07-28 14:44:42,159 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:44:42,159 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:44:42,159 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:44:42,160 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:44:42,161 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:44:42,161 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:44:42,161 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:44:42,161 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:44:42,161 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:44:42,161 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3598 seconds
2025-07-28 14:44:42,755 - FinancialSyncService - INFO - Found 0 constituents in API response format
2025-07-28 14:44:42,755 - FinancialSyncService - INFO - No constituents found with matching email: nancysman@ronr.eagan
2025-07-28 14:44:42,755 - FinancialSyncService - INFO - Searching for constituent by name: Ronald Reagan
2025-07-28 14:44:42,756 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3597 seconds
2025-07-28 14:44:43,642 - FinancialSyncService - INFO - Found 0 constituents in API response format
2025-07-28 14:44:43,642 - FinancialSyncService - INFO - No constituents found with matching name: Ronald Reagan
2025-07-28 14:44:43,642 - FinancialSyncService - INFO - Creating new constituent for direct payment donor Ronald Reagan
2025-07-28 14:44:43,642 - FinancialSyncService - INFO - Skipping lookup_id for direct donor - NXT will generate one automatically
2025-07-28 14:44:43,643 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3596 seconds
2025-07-28 14:44:44,358 - FinancialSyncService - INFO - Created constituent 74992 for direct payment donor Ronald Reagan
2025-07-28 14:44:44,358 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669922
2025-07-28 14:44:44,359 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3595 seconds
2025-07-28 14:44:46,638 - NXTGiftClient - INFO - Found gift with ID 51455 matching lookup_id SR-Payment-669922
2025-07-28 14:44:46,641 - FinancialSyncService - INFO - Gift already exists for payment 669922 with NXT gift ID 51455, fund_id=1033
2025-07-28 14:44:46,641 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:44:46,641 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669928'}
2025-07-28 14:44:46,641 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3593 seconds
2025-07-28 14:44:48,492 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:44:48,492 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:44:48,493 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:44:48,493 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:44:48,494 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:44:48,494 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:44:48,494 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:44:48,494 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 14:44:48,494 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 14:44:48,494 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3591 seconds
2025-07-28 14:44:49,130 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:44:49,130 - FinancialSyncService - INFO - Found exact email match: John Adams (74788)
2025-07-28 14:44:49,131 - FinancialSyncService - INFO - Using constituent with ID: 74788
2025-07-28 14:44:49,131 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669928
2025-07-28 14:44:49,131 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3591 seconds
2025-07-28 14:44:50,833 - NXTGiftClient - INFO - Found gift with ID 51455 matching lookup_id SR-Payment-669928
2025-07-28 14:44:50,834 - FinancialSyncService - INFO - Gift already exists for payment 669928 with NXT gift ID 51455, fund_id=1033
2025-07-28 14:44:50,834 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:44:50,835 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 14:44:50,835 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 14:49:44,760 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:49:44,783 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:49:44,783 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:49:44,784 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:49:44,785 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:49:44,786 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:49:44,786 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:49:44,786 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:49:44,787 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:49:44,788 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:49:44,789 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753725090.169661, Expires in: 3600, Time until expiry: 105 seconds
2025-07-28 14:49:44,789 - ServiceReefTokenService - INFO - ServiceReef token expires soon, refreshing
2025-07-28 14:49:44,790 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 14:49:44,790 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 14:49:45,252 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:49:45,252 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 14:49:45,530 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:49:45,530 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:49:45,530 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:49:45,530 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669922'}
2025-07-28 14:49:45,532 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:49:45,532 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3294 seconds
2025-07-28 14:49:47,647 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:49:47,647 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:49:47,647 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:49:47,648 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:49:47,648 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:49:47,648 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:49:47,648 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:49:47,648 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:49:47,649 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:49:47,649 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3292 seconds
2025-07-28 14:49:48,517 - FinancialSyncService - INFO - Found 0 constituents in API response format
2025-07-28 14:49:48,517 - FinancialSyncService - INFO - No constituents found with matching email: nancysman@ronr.eagan
2025-07-28 14:49:48,517 - FinancialSyncService - INFO - Searching for constituent by name: Ronald Reagan
2025-07-28 14:49:48,517 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3291 seconds
2025-07-28 14:49:49,310 - FinancialSyncService - INFO - Found 0 constituents in API response format
2025-07-28 14:49:49,310 - FinancialSyncService - INFO - No constituents found with matching name: Ronald Reagan
2025-07-28 14:49:49,310 - FinancialSyncService - INFO - Creating new constituent for direct payment donor Ronald Reagan
2025-07-28 14:49:49,311 - FinancialSyncService - INFO - Skipping lookup_id for direct donor - NXT will generate one automatically
2025-07-28 14:49:49,311 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3290 seconds
2025-07-28 14:49:50,068 - FinancialSyncService - INFO - Created constituent 74993 for direct payment donor Ronald Reagan
2025-07-28 14:49:50,068 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669922
2025-07-28 14:49:50,069 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3290 seconds
2025-07-28 14:49:52,064 - NXTGiftClient - INFO - Found gift with ID 51455 matching lookup_id SR-Payment-669922
2025-07-28 14:49:52,065 - FinancialSyncService - INFO - Gift already exists for payment 669922 with NXT gift ID 51455, fund_id=1033
2025-07-28 14:49:52,065 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:49:52,065 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669928'}
2025-07-28 14:49:52,065 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3288 seconds
2025-07-28 14:49:53,647 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:49:53,647 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:49:53,648 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:49:53,649 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:49:53,649 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:49:53,649 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:49:53,649 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:49:53,649 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 14:49:53,650 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 14:49:53,650 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3286 seconds
2025-07-28 14:49:54,141 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:49:54,141 - FinancialSyncService - INFO - Found exact email match: John Adams (74788)
2025-07-28 14:49:54,141 - FinancialSyncService - INFO - Using constituent with ID: 74788
2025-07-28 14:49:54,142 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669928
2025-07-28 14:49:54,142 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3286 seconds
2025-07-28 14:49:56,242 - NXTGiftClient - INFO - Found gift with ID 51455 matching lookup_id SR-Payment-669928
2025-07-28 14:49:56,243 - FinancialSyncService - INFO - Gift already exists for payment 669928 with NXT gift ID 51455, fund_id=1033
2025-07-28 14:49:56,243 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:49:56,244 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 14:49:56,244 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 14:51:34,394 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:51:34,412 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:51:34,412 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:51:34,413 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:51:34,413 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:51:34,414 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:51:34,414 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:51:34,414 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:51:34,414 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:51:34,415 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:51:34,415 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753726184.249862, Expires in: 3600, Time until expiry: 1089 seconds
2025-07-28 14:51:34,753 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:51:34,754 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:51:34,754 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:51:34,754 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669922'}
2025-07-28 14:51:34,755 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:51:34,755 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3185 seconds
2025-07-28 14:51:36,365 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:51:36,366 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:51:36,366 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:51:36,367 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:51:36,367 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:51:36,367 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:51:36,367 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:51:36,367 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:51:36,367 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:51:36,367 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3183 seconds
2025-07-28 14:51:36,990 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:51:36,990 - FinancialSyncService - INFO - Found exact email match: Ronald Reagan (74993)
2025-07-28 14:51:36,990 - FinancialSyncService - INFO - Using constituent with ID: 74993
2025-07-28 14:51:36,990 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669922
2025-07-28 14:51:36,990 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3183 seconds
2025-07-28 14:51:38,452 - NXTGiftClient - INFO - No exact match found for lookup_id SR-Payment-669922 among 500 results
2025-07-28 14:51:38,452 - NXTGiftClient - INFO - No gift found with exact lookup_id SR-Payment-669922
2025-07-28 14:51:38,454 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74993, fund: 2704)
2025-07-28 14:51:38,454 - NXTGiftClient - INFO - Creating gift for constituent 74993
2025-07-28 14:51:38,454 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74993",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "2704"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:51:38,454 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3181 seconds
2025-07-28 14:51:39,533 - FinancialSyncService - INFO - Successfully created gift 670155 for payment 669922
2025-07-28 14:51:39,533 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 14:51:39,533 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669928'}
2025-07-28 14:51:39,533 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3180 seconds
2025-07-28 14:51:41,658 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:51:41,658 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:51:41,658 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 14:51:41,659 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 14:51:41,659 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:51:41,659 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:51:41,659 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 14:51:41,659 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 14:51:41,659 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 14:51:41,660 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3178 seconds
2025-07-28 14:51:41,960 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:51:41,961 - FinancialSyncService - INFO - Found exact email match: John Adams (74788)
2025-07-28 14:51:41,961 - FinancialSyncService - INFO - Using constituent with ID: 74788
2025-07-28 14:51:41,961 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669928
2025-07-28 14:51:41,961 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3178 seconds
2025-07-28 14:51:43,433 - NXTGiftClient - INFO - No exact match found for lookup_id SR-Payment-669928 among 500 results
2025-07-28 14:51:43,433 - NXTGiftClient - INFO - No gift found with exact lookup_id SR-Payment-669928
2025-07-28 14:51:43,434 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74788, fund: 2704)
2025-07-28 14:51:43,434 - NXTGiftClient - INFO - Creating gift for constituent 74788
2025-07-28 14:51:43,435 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74788",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "2704"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 14:51:43,435 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 3176 seconds
2025-07-28 14:51:43,801 - FinancialSyncService - INFO - Successfully created gift 670156 for payment 669928
2025-07-28 14:51:43,801 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 14:51:43,802 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 14:51:43,802 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 14:59:47,807 - financial_sync - INFO - Starting financial sync script
2025-07-28 14:59:47,826 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 14:59:47,826 - MappingService - INFO - Loading existing event mapping file
2025-07-28 14:59:47,827 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 14:59:47,827 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 14:59:47,828 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:59:47,828 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 14:59:47,829 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 14:59:47,829 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 14:59:47,829 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 14:59:47,830 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753726184.249862, Expires in: 3600, Time until expiry: 596 seconds
2025-07-28 14:59:48,271 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 14:59:48,271 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:59:48,271 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 14:59:48,271 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669922'}
2025-07-28 14:59:48,272 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 14:59:48,272 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2691 seconds
2025-07-28 14:59:50,603 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 14:59:50,604 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 14:59:50,605 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 14:59:50,606 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 14:59:50,607 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 14:59:50,607 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 14:59:50,607 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 14:59:50,608 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 14:59:50,608 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 14:59:50,609 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2689 seconds
2025-07-28 14:59:51,916 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 14:59:51,917 - FinancialSyncService - INFO - Found exact email match: Ronald Reagan (74993)
2025-07-28 14:59:51,917 - FinancialSyncService - INFO - Using constituent with ID: 74993
2025-07-28 14:59:51,917 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund MTY Schatz Trip 251122, using default
2025-07-28 14:59:51,917 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669922
2025-07-28 14:59:51,917 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2688 seconds
2025-07-28 15:09:29,517 - financial_sync - INFO - Starting financial sync script
2025-07-28 15:09:29,536 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 15:09:29,536 - MappingService - INFO - Loading existing event mapping file
2025-07-28 15:09:29,537 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 15:09:29,537 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 15:09:29,538 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 15:09:29,538 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 15:09:29,539 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 15:09:29,539 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 15:09:29,540 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 15:09:29,540 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753726184.249862, Expires in: 3600, Time until expiry: 14 seconds
2025-07-28 15:09:29,541 - ServiceReefTokenService - INFO - ServiceReef token expires soon, refreshing
2025-07-28 15:09:29,541 - ServiceReefTokenService - INFO - ServiceReef token expired or missing, refreshing
2025-07-28 15:09:29,541 - ServiceReefTokenService - INFO - Refreshing ServiceReef access token
2025-07-28 15:09:29,968 - ServiceReefTokenService - INFO - Saved ServiceReef token data to /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 15:09:29,969 - ServiceReefTokenService - INFO - ServiceReef token refreshed successfully
2025-07-28 15:09:30,350 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 15:09:30,351 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 15:09:30,351 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 15:09:30,351 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669922'}
2025-07-28 15:09:30,352 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 15:09:30,352 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2109 seconds
2025-07-28 15:09:33,185 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 15:09:33,186 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 15:09:33,186 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 15:09:33,187 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 15:09:33,187 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 15:09:33,187 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 15:09:33,187 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 15:09:33,187 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 15:09:33,187 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 15:09:33,188 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2107 seconds
2025-07-28 15:09:33,775 - FinancialSyncService - INFO - Found 0 constituents in API response format
2025-07-28 15:09:33,775 - FinancialSyncService - INFO - No constituents found with matching email: nancysman@ronr.eagan
2025-07-28 15:09:33,775 - FinancialSyncService - INFO - Searching for constituent by name: Ronald Reagan
2025-07-28 15:09:33,776 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2106 seconds
2025-07-28 15:09:34,393 - FinancialSyncService - INFO - Found 0 constituents in API response format
2025-07-28 15:09:34,393 - FinancialSyncService - INFO - No constituents found with matching name: Ronald Reagan
2025-07-28 15:09:34,393 - FinancialSyncService - INFO - Creating new constituent for direct payment donor Ronald Reagan
2025-07-28 15:09:34,394 - FinancialSyncService - INFO - Skipping lookup_id for direct donor - NXT will generate one automatically
2025-07-28 15:09:34,394 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2105 seconds
2025-07-28 15:09:35,103 - FinancialSyncService - INFO - Created constituent 74994 for direct payment donor Ronald Reagan
2025-07-28 15:09:35,103 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund MTY Schatz Trip 251122, using default
2025-07-28 15:09:35,103 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669922
2025-07-28 15:09:35,103 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2105 seconds
2025-07-28 15:09:40,493 - NXTGiftClient - INFO - No exact match found for lookup_id SR-Payment-669922 among 500 results
2025-07-28 15:09:40,493 - NXTGiftClient - INFO - No gift found with exact lookup_id SR-Payment-669922
2025-07-28 15:09:40,494 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74994, fund: 1064)
2025-07-28 15:09:40,494 - NXTGiftClient - INFO - Creating gift for constituent 74994
2025-07-28 15:09:40,494 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74994",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 15:09:40,495 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2099 seconds
2025-07-28 15:09:41,305 - FinancialSyncService - INFO - Successfully created gift 670157 for payment 669922
2025-07-28 15:09:41,306 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 15:09:41,306 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669928'}
2025-07-28 15:09:41,306 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2098 seconds
2025-07-28 15:09:45,683 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 15:09:45,683 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 15:09:45,684 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 15:09:45,684 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 15:09:45,685 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 15:09:45,685 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 15:09:45,685 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 15:09:45,685 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 15:09:45,685 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 15:09:45,685 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2094 seconds
2025-07-28 15:09:46,144 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 15:09:46,144 - FinancialSyncService - INFO - Found exact email match: John Adams (74788)
2025-07-28 15:09:46,144 - FinancialSyncService - INFO - Using constituent with ID: 74788
2025-07-28 15:09:46,144 - FinancialSyncService - WARNING - No fund mapping for ServiceReef fund MTY Schatz Trip 251122, using default
2025-07-28 15:09:46,144 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669928
2025-07-28 15:09:46,145 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2094 seconds
2025-07-28 15:09:48,238 - NXTGiftClient - INFO - No exact match found for lookup_id SR-Payment-669928 among 500 results
2025-07-28 15:09:48,238 - NXTGiftClient - INFO - No gift found with exact lookup_id SR-Payment-669928
2025-07-28 15:09:48,239 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74788, fund: 1064)
2025-07-28 15:09:48,239 - NXTGiftClient - INFO - Creating gift for constituent 74788
2025-07-28 15:09:48,239 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74788",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "1064"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 15:09:48,239 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2091 seconds
2025-07-28 15:09:48,607 - FinancialSyncService - INFO - Successfully created gift 670158 for payment 669928
2025-07-28 15:09:48,608 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 15:09:48,608 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 15:09:48,608 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 2, 'failed': 0, 'errors': []}
2025-07-28 15:10:47,099 - financial_sync - INFO - Starting financial sync script
2025-07-28 15:10:47,117 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 15:10:47,117 - MappingService - INFO - Loading existing event mapping file
2025-07-28 15:10:47,118 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 15:10:47,119 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 15:10:47,119 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 15:10:47,120 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 15:10:47,120 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 15:10:47,120 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 15:10:47,121 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 15:10:47,121 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753727368.96678, Expires in: 3600, Time until expiry: 1121 seconds
2025-07-28 15:10:47,461 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 15:10:47,461 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 15:10:47,462 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 15:10:47,462 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669922'}
2025-07-28 15:10:47,463 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 15:10:47,464 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 2032 seconds
2025-07-28 15:14:34,882 - financial_sync - INFO - Starting financial sync script
2025-07-28 15:14:34,902 - MappingService - INFO - Checking event mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/event_mapping.json
2025-07-28 15:14:34,902 - MappingService - INFO - Loading existing event mapping file
2025-07-28 15:14:34,903 - MappingService - INFO - Checking constituent mapping file at: /Users/ssheckler/Desktop/event_sync_service/data/constituent_mapping.json
2025-07-28 15:14:34,903 - MappingService - INFO - Loading existing constituent mapping file
2025-07-28 15:14:34,904 - financial_sync - INFO - Syncing all payments (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 15:14:34,904 - FinancialSyncService - INFO - Starting financial sync (start_date=2025-07-01T00:00:00, end_date=None)
2025-07-28 15:14:34,904 - FinancialSyncService - INFO - Retrieving payments batch (page=1, size=25)
2025-07-28 15:14:34,905 - ServiceReefPaymentClient - INFO - Retrieving payments (page 1, size 25)
2025-07-28 15:14:34,905 - ServiceReefTokenService - INFO - Loaded ServiceReef token data from /Users/ssheckler/Desktop/event_sync_service/tokens/servicereef_token.json
2025-07-28 15:14:34,906 - ServiceReefTokenService - INFO - ServiceReef token status - Fetched: 1753727368.96678, Expires in: 3600, Time until expiry: 894 seconds
2025-07-28 15:14:35,234 - FinancialSyncService - INFO - ServiceReef payments API response format: <class 'dict'>, keys: dict_keys(['PageInfo', 'Results'])
2025-07-28 15:14:35,235 - FinancialSyncService - INFO - Payments count: 2, sample payment keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 15:14:35,235 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669922 exists
2025-07-28 15:14:35,235 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669922'}
2025-07-28 15:14:35,236 - NXTTokenService - INFO - Loaded NXT token data from /Users/ssheckler/Desktop/ServiceReefAPI/tokens/blackbaud_token.json
2025-07-28 15:14:35,236 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 1805 seconds
2025-07-28 15:14:37,948 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 15:14:37,948 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 15:14:37,948 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669922
2025-07-28 15:14:37,949 - FinancialSyncService - INFO - Processing payment 669922
2025-07-28 15:14:37,949 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 15:14:37,949 - FinancialSyncService - INFO - Processing payment: ID=669922, Amount=25.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 15:14:37,950 - FinancialSyncService - INFO - Using payment data directly for donor: Ronald Reagan
2025-07-28 15:14:37,950 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: Ronald Reagan
2025-07-28 15:14:37,950 - FinancialSyncService - INFO - Searching for constituent by email: nancysman@ronr.eagan
2025-07-28 15:14:37,950 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 1802 seconds
2025-07-28 15:14:38,849 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 15:14:38,849 - FinancialSyncService - INFO - Found exact email match: Ronald Reagan (74994)
2025-07-28 15:14:38,849 - FinancialSyncService - INFO - Using constituent with ID: 74994
2025-07-28 15:14:38,849 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669922
2025-07-28 15:14:38,850 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 1801 seconds
2025-07-28 15:14:41,131 - NXTGiftClient - INFO - No exact match found for lookup_id SR-Payment-669922 among 500 results
2025-07-28 15:14:41,132 - NXTGiftClient - INFO - No gift found with exact lookup_id SR-Payment-669922
2025-07-28 15:14:41,132 - FinancialSyncService - INFO - Creating gift for payment 669922 (constituent: 74994, fund: 2632)
2025-07-28 15:14:41,133 - NXTGiftClient - INFO - Creating gift for constituent 74994
2025-07-28 15:14:41,133 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74994",
  "amount": {
    "value": 25.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669922",
  "lookup_id": "SR-Payment-669922",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 25.0
      },
      "fund_id": "2632"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 15:14:41,133 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 1799 seconds
2025-07-28 15:14:41,922 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669922' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 15:14:41,924 - FinancialSyncService - ERROR - Failed to create gift for payment 669922: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669922' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669922' already exists."}]
2025-07-28 15:14:41,924 - NXTGiftClient - INFO - Checking if gift with reference SR-Payment-669928 exists
2025-07-28 15:14:41,925 - NXTGiftClient - INFO - Searching for gifts with params: {'reference': 'SR-Payment-669928'}
2025-07-28 15:14:41,925 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 1798 seconds
2025-07-28 15:14:44,962 - NXTGiftClient - INFO - Received 500 gift results in response['value']
2025-07-28 15:14:44,962 - NXTGiftClient - INFO - First result: {'id': '51455', 'acknowledgements': [{'status': 'DoNotAcknowledge'}], 'amount': {'value': 252.0}, 'constituent_id': '48934', 'date': '2021-10-01T00:00:00', 'date_added': '2022-08-08T18:50:08.283-04:00', 'date_modified': '2022-08-09T12:40:57.265-04:00', 'gift_splits': [{'id': '51455', 'amount': {'value': 252.0}, 'fund_id': '1033'}], 'gift_status': 'Active', 'is_anonymous': False, 'lookup_id': '868220G52578', 'payments': [{'payment_method': 'Other'}], 'post_status': 'DoNotPost', 'receipts': [{'amount': {'value': 252.0}, 'status': 'DoNotReceipt'}], 'type': 'Donation'}
2025-07-28 15:14:44,963 - NXTGiftClient - INFO - No gifts found with exact reference match SR-Payment-669928
2025-07-28 15:14:44,963 - FinancialSyncService - INFO - Processing payment 669928
2025-07-28 15:14:44,964 - FinancialSyncService - INFO - Payment data keys: dict_keys(['TransactionId', 'UserId', 'FirstName', 'LastName', 'Email', 'Phone', 'UserProfileUrl', 'Address', 'EventId', 'EventName', 'EventCode', 'EventUrl', 'DonatedToUsers', 'DonatedToUserId', 'DonatedToFirstName', 'DonatedToLastName', 'Description', 'Type', 'TransactionFees', 'Amount', 'Date', 'DateCreated', 'DateLastUpdated', 'Anonymous', 'CCLast4', 'PaymentProcessorName', 'PaymentProcessorTransactionId', 'PaymentProcessorBatchId', 'IntegrationIdentifiers', 'FellowshipOneContributionReceiptId', 'RegularAttenderOfThisChurch', 'ExternalId'])
2025-07-28 15:14:44,964 - FinancialSyncService - INFO - Processing payment: ID=669928, Amount=33.0, Date=2025-07-28T16:00:00Z, UserId=None, DonatedToUserId=194931
2025-07-28 15:14:44,964 - FinancialSyncService - INFO - Using payment data directly for donor: John Adams
2025-07-28 15:14:44,964 - FinancialSyncService - INFO - Processing direct payment donor without ServiceReef ID: John Adams
2025-07-28 15:14:44,964 - FinancialSyncService - INFO - Searching for constituent by email: jadams@jaaa.com
2025-07-28 15:14:44,964 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 1795 seconds
2025-07-28 15:14:45,524 - FinancialSyncService - INFO - Found 1 constituents in API response format
2025-07-28 15:14:45,525 - FinancialSyncService - INFO - Found exact email match: John Adams (74788)
2025-07-28 15:14:45,525 - FinancialSyncService - INFO - Using constituent with ID: 74788
2025-07-28 15:14:45,525 - NXTGiftClient - INFO - Searching for gift with lookup_id SR-Payment-669928
2025-07-28 15:14:45,525 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 1794 seconds
2025-07-28 15:14:47,916 - NXTGiftClient - INFO - No exact match found for lookup_id SR-Payment-669928 among 500 results
2025-07-28 15:14:47,917 - NXTGiftClient - INFO - No gift found with exact lookup_id SR-Payment-669928
2025-07-28 15:14:47,917 - FinancialSyncService - INFO - Creating gift for payment 669928 (constituent: 74788, fund: 2632)
2025-07-28 15:14:47,917 - NXTGiftClient - INFO - Creating gift for constituent 74788
2025-07-28 15:14:47,918 - NXTGiftClient - INFO - Gift payload: {
  "constituent_id": "74788",
  "amount": {
    "value": 33.0
  },
  "date": "2025-07-28T16:00:00Z",
  "type": "Donation",
  "reference": "SR-Payment-669928",
  "lookup_id": "SR-Payment-669928",
  "gift_status": "Active",
  "is_anonymous": false,
  "post_status": "NotPosted",
  "gift_splits": [
    {
      "amount": {
        "value": 33.0
      },
      "fund_id": "2632"
    }
  ],
  "payments": [
    {
      "payment_method": "Cash"
    }
  ]
}
2025-07-28 15:14:47,918 - NXTTokenService - INFO - NXT token status - Fetched: 1753728280.236676, Expires in: 3600, Time until expiry: 1792 seconds
2025-07-28 15:14:48,577 - NXTGiftClient - ERROR - API error: 400 - [{"message":"The provided gift lookup ID 'SR-Payment-669928' already exists.","error_name":"GiftLookupIdAlreadyExists","error_code":25028,"raw_message":"The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 15:14:48,580 - FinancialSyncService - ERROR - Failed to create gift for payment 669928: API error 400 - [{'message': "The provided gift lookup ID 'SR-Payment-669928' already exists.", 'error_name': 'GiftLookupIdAlreadyExists', 'error_code': 25028, 'raw_message': "The provided gift lookup ID 'SR-Payment-669928' already exists."}]
2025-07-28 15:14:48,580 - FinancialSyncService - INFO - Processed all 0 pages of payments
2025-07-28 15:14:48,580 - FinancialSyncService - INFO - Financial sync completed. Stats: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 15:14:48,580 - financial_sync - INFO - Sync complete. Results: {'total_payments': 2, 'processed': 2, 'skipped': 0, 'successful': 0, 'failed': 2, 'errors': []}
2025-07-28 15:14:48,580 - financial_sync - WARNING - 2 payments failed to sync
